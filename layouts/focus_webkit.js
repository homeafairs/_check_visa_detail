require(["wc/has"],function(e){"use strict";e("webkit")&&!e("edge")&&require(["wc/dom/getAncestorOrSelf","wc/dom/Widget","wc/dom/focus","wc/dom/tag","wc/dom/event","wc/timers"],function(t,n,o,a,c,r){var i;function u(e){var c=document.activeElement,r=e.target;r!==c&&(o.canFocus(r)||(i=i||new n("","",{tabIndex:"0"}),r=t(e.target,a.A)||t(e.target,a.BUTTON)||i.findAncestor(e.target)),r&&d(r)&&r!==c&&s(r))}function d(e){var t=!1;return["button","file","submit","radio","checkbox","range"].indexOf(e.type)>=0||e.tagName===a.A?t=!0:o.isNativelyFocusable(e.tagName)||(t=e.tabIndex>-1),t}function s(e){r.setTimeout(function(){try{e.focus()}catch(e){console.error("Error applying webkit focus fix",e)}},0)}console.log("Adding webkit focus fix for mouse users."),c.add(window,{type:"mousedown",listener:u,capture:!0}),c.add(window,{type:"click",listener:function(e){var t=e.target,n=document.activeElement;e.defaultPrevented||t===n||(0===t.tabIndex&&!o.isNativelyFocusable(t.tagName)||t.tagName===a.INPUT&&d(t))&&s(t)}}),e("event-ontouchstart")&&c.add(window,{type:"touchstart",listener:u,capture:!0})})});