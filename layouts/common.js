define("lib/dojo/global",[],function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this});
define("lib/dojo/has",["./global","require","module"],function(n,o,e){var t=o.has||function(){};if(!t("dojo-has-api")){var d="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,i=d&&document,a=i&&i.createElement("DiV"),r=e.config&&e.config()||{};(t=function(o){return"function"==typeof r[o]?r[o]=r[o](n,i,a):r[o]}).cache=r,t.add=function(n,o,e,d){return(void 0===r[n]||d)&&(r[n]=o),e&&t(n)},t.add("host-browser",d),t.add("host-node","object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8),t.add("host-rhino","function"==typeof load&&("function"==typeof Packages||"object"==typeof Packages)),t.add("dom",d),t.add("dojo-dom-ready-api",1),t.add("dojo-sniff",1)}if(t("host-browser")){t.add("dom-addeventlistener",!!document.addEventListener),t.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),t.add("touch-events","ontouchstart"in document),t.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),t.add("MSPointer",window.navigator.msPointerEnabled),t.add("touch-action",t("touch")&&t("pointer-events")),t.add("device-width",screen.availWidth||innerWidth);var c=document.createElement("form");t.add("dom-attributes-explicit",0==c.attributes.length),t.add("dom-attributes-specified-flag",c.attributes.length>0&&c.attributes.length<40)}return t.clearElement=function(n){return n.innerHTML="",n},t.normalize=function(n,o){var e=n.match(/[\?:]|[^:\?]*/g),d=0,i=function(n){var o=e[d++];return":"==o?0:"?"==e[d++]?!n&&t(o)?i():(i(!0),i(n)):o||0};return(n=i())&&o(n)},t.load=function(n,o,e){n?o([n],e):e()},t});
define("wc/has",["lib/dojo/has"],function(e){"use strict";return e});
define("wc/fixes",["wc/has"],function(i){"use strict";var e=window,o=[],t=e.navigator.userAgent,a=i.add;return i("opera")&&(t.indexOf("Opera Mini")>=0&&a("operamini",parseFloat(t.split("Version/")[1])||void 0),t.indexOf("Opera Mobi")>=0&&a("operamobi",parseFloat(t.split("Version/")[1])||void 0)),i("trident")&&t.indexOf("IEMobile")>=0&&a("iemobile",parseFloat(t.split("IEMobile/")[1])||parseFloat(t.split("IEMobile ")[1])||void 0),a("edge",parseFloat(t.split("Edge/")[1])||void 0),a("uc",function(){return!i("css-flex")}),i("ie")||i("trident")?(o.push("wc/fix/focus_ie"),o.push("wc/fix/disabledControl_ieAll"),o.push("wc/fix/defaultSubmit_ieAll"),o.push("wc/fix/placeholder_ieAll"),i("ie-compat-mode")&&e.setTimeout(function(){document.body.innerHTML="<h1>You are in Compatibility View. Please use Standards Mode</h1>"},0)):i("webkit")?o.push("wc/fix/focus_webkit"):i("ff")&&o.push("wc/fix/shiftKey_ff"),i("global-performance")||o.push("wc/compat/navigationTiming"),i("uc")&&i("android")&&o.push("wc/fix/width_uc"),o});
define("wc/mixin",[],function(){return function n(r,t,c){var o,e=t||{};if(r)for(o in r)r.hasOwnProperty(o)&&(r[o]&&r[o].constructor===Object?c||e[o]&&e[o].constructor!==Object?e[o]=r[o]:e[o]=n(r[o],e[o]):e[o]=r[o]);return e}});
define("wc/config",["wc/mixin","module"],function(e,n){var i,t=new function(){var n={};this.set=function(i,t){var r,d;if(t){if(!i)return void(n[t]&&delete n[t]);(r=n[t])?(d=e(r),n[t]=e(i,d,!0)):n[t]=i}else n=i||n},this.get=function(i,t){var r,d=n[i];return t&&(r=e(t),d=e(d,r)),d}};return n&&n.config&&(i=n.config())&&i.dehydrated&&(i=JSON.parse(i.dehydrated),t.set(i)),t});
/*! sprintf-js v1.1.2 | Copyright (c) 2007-present, Alexandru Mărășteanu <hello@alexei.ro> | BSD-3-Clause */
!function(){"use strict";var g={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function y(e){return function(e,t){var r,n,i,s,a,o,p,c,l,u=1,f=e.length,d="";for(n=0;n<f;n++)if("string"==typeof e[n])d+=e[n];else if("object"==typeof e[n]){if((s=e[n]).keys)for(r=t[u],i=0;i<s.keys.length;i++){if(null==r)throw new Error(y('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[i],s.keys[i-1]));r=r[s.keys[i]]}else r=s.param_no?t[s.param_no]:t[u++];if(g.not_type.test(s.type)&&g.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),g.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(y("[sprintf] expecting number but found %T",r));switch(g.number.test(s.type)&&(c=0<=r),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}g.json.test(s.type)?d+=r:(!g.number.test(s.type)||c&&!s.sign?l="":(l=c?"+":"-",r=r.toString().replace(g.sign,"")),o=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",p=s.width-(l+r).length,a=s.width&&0<p?o.repeat(p):"",d+=s.align?l+r+a:"0"===o?l+a+r:a+l+r)}return d}(function(e){if(p[e])return p[e];var t,r=e,n=[],i=0;for(;r;){if(null!==(t=g.text.exec(r)))n.push(t[0]);else if(null!==(t=g.modulo.exec(r)))n.push("%");else{if(null===(t=g.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var s=[],a=t[2],o=[];if(null===(o=g.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=g.key_access.exec(a)))s.push(o[1]);else{if(null===(o=g.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(o[1])}t[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return p[e]=n}(e),arguments)}function e(e,t){return y.apply(null,[e].concat(t||[]))}var p=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=y,exports.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=y,window.vsprintf=e,"function"==typeof define&&define.amd&&define('lib/sprintf',[],function(){return{sprintf:y,vsprintf:e}}))}();
//# sourceMappingURL=sprintf.min.js.map
;
define("wc/array/toArray",[],function(){"use strict";return function(r){return Array.prototype.filter.call(r,function(){return!0})}});
define("wc/string/escapeRe",[],function(){"use strict";var e=/([.*+?^{}$()|[\]/\\])/g,r=/([.+?^{}$()|[\]/\\])/g,c=/\*/g,n="\\$1";return function(t,a){return a?t.replace(r,n).replace(c,".*"):t.replace(e,n)}});
define("wc/Observer",["wc/string/escapeRe"],function(t){"use strict";var r="__sort__",n="function";function e(e){var o=new function(){var t="__default__",n=0,e={};function s(r,n){var s;return r||(r=t),!(s=e[r])&&n&&(s=e[r]=new i),s}this.register=function(t,e,i){var o=s(e,!0);t[r]=n++,o.add(t,i)},this.deregister=function(t,r){var n,e=s(r);return e&&(n=e.remove(t)),n||null},this.getSubscribers=function(r){var n,o,u=function(r){var n,i;r?(i=Object.keys(e).filter(r),n=1===i.length?i[0]:i):n=t;return n}(r);return u&&(u.constructor!==Array?o=s(u):(o=new i,u.forEach(function(t){var r=s(t);r&&o.merge(r)})),o&&(n=o.getSubscribers())),n},this.isRegistered=function(t,r){var n=s(r);return!!n&&n.contains(t)},this.reset=function(t){var r=s(t);r&&r.reset()},this.subscriberCount=function(t){var r=s(t),n=r?r.getLength():-1;return n},this.toString=function(){return Object.keys(e).map(function(t){return t+": "+e[t].toString()}).join("\n")}},u=null,c=null,h={};function f(t,r,e){var i,s,o=[],u=t?t.length:0;for(s=0;s<u;s++){i=t[s].notify.call(r,e);try{if(typeof c===n&&!0===c(i)){o[o.length]=Promise.reject("Subscriber aborted notify chain");break}}catch(t){console.error("Error in callback: ",c,t.message)}i&&typeof i.then===n&&(o[o.length]=i)}return Promise.all(o).catch(function(){return o})}this.unsubscribe=function(t,r){var n,e;if(Array.isArray(t))for(;t.length;)this.unsubscribe(t.pop());else t&&(n=t.ref||t,e=t.grp||r,o.deregister(n,e))},this.reset=o.reset,this.subscriberCount=o.subscriberCount,this.isSubscribed=o.isRegistered,this.toString=o.toString,this.subscribe=function(t,r){var n,e,i,u,c;if(!t)throw new ReferenceError("Call to Observer.subscribe without a subscriber");return r&&(e=r.group,i=r.context,u=r.priority,c=r.method),o.isRegistered(t,e)||(n=new s(t,i,c),o.register(n,e,u)),{ref:t,grp:e}},this.notify=function(){var t,r,n=this,i=arguments,s=[function(){return f(r[0],n,i)},function(){return f(r[1],n,i)},function(){return f(r[2],n,i)}];try{return r=o.getSubscribers(u),e?(t=Promise.resolve(),s.forEach(function(r){t=t.then(r,r)})):t=Promise.all(s.map(function(t){return t()})),t}finally{u=null,c=null}},this.setFilter=function(t){if(null===t||void 0===t)throw new TypeError("arg must not be null or undefined");if(t.constructor===String)u=function(r){return r===t};else{if(t.constructor!==Function)throw new TypeError("arg must be a String or Function");u=t}},this.setCallback=function(t){if(!t)throw new TypeError("Callback function cannot be null.");c=t},this.getGroupAsWildcardFilter=function(r){if(!r||r.constructor!==String)throw new TypeError("filter cannot be null");return function(n){var e=h[n];return e||(e=new RegExp("^"+t(n,!0)+"$"),h[n]=e),e.test(r)}}}function i(){var t=0;function n(r,n,e){var i,s=r.length,o=n.length;return s&&o?(i=r.concat(n),t+=e):i=o?n:r,i}function e(t,n){return t[r]-n[r]}this[1]=[],this[2]=[],this[4]=[],this.add=function(t,r){var n;if(!(t instanceof s))throw new TypeError("Can not subscribe "+t);(n=!r||isNaN(r)?this[2]:r<0?this[4]:this[1])[n.length]=t},this.remove=function(t){var r=null,n=function(n){var e=n.equals(t);return e&&(r=t),!e};return this[2]=this[2].filter(n),r||(this[1]=this[1].filter(n),r||(this[4]=this[4].filter(n))),r},this.contains=function(t){var r=function(r){return r.equals(t)},n=this[2].some(r);return n||(n=this[1].some(r))||(n=this[4].some(r)),n},this.getSubscribers=function(){return 1&t&&this[1].sort(e),2&t&&this[2].sort(e),4&t&&this[4].sort(e),t=0,[this[1].concat(),this[2].concat(),this[4].concat()]},this.getLength=function(){return this[1].length+this[2].length+this[4].length},this.reset=function(){this[1].length=this[2].length=this[4].length=0},this.merge=function(t){if(!(t instanceof i))throw new TypeError("Can not merge "+t);this[1]=n(this[1],t[1],1),this[2]=n(this[2],t[2],2),this[4]=n(this[4],t[4],4)},this.toString=function(){var t="High: "+this[1].length;return t+=" Med: "+this[2].length,t+=" Low: "+this[4].length}}function s(t,r,i){var s=this;function o(){return i?t[i]:t}s.notify=function(u){var c,h=o();if(typeof h===n)try{c=h.apply(function(n){var o=r;o||(o=i?t:n===s||n instanceof e?window.self:n);return o}(this),u)}catch(t){console.error("Error in subscriber: ",s,t.message)}else console.warn("Could not notify: ",s);return c},s.toString=function(){var t=o();return t?t.toString():"invalid Subscriber"},s.equals=function(r){return r===t}}return e.prototype.priority=e.priority={HIGH:1,MED:0,LOW:-1},e});
define("wc/global",[],function(){return this});
define("wc/xml/xmlString",["wc/has"],function(r){"use strict";return new function(){var n;this.to=function(r){var i;return r&&("string"==typeof r.xml?i=r.xml:window.XMLSerializer&&(i=(n=n||new window.XMLSerializer).serializeToString(r))),i||null},this.from=function(n){var i;function t(r){return i.parseFromString(r,"text/xml")}function e(r){var n=new window.ActiveXObject("Microsoft.XMLDOM");if(n.async=!1,!n.loadXML(r))throw new Error("Unable to parse XML string\n"+r);return n}try{return r("activex")?(this.from=e,e(n)):window.DOMParser?(i=new window.DOMParser,this.from=t,t(n)):null}finally{n=null}}}});
define("wc/timers",["wc/global"],function(t){"use strict";return new function(){var n=[],e="wchandle",r={},o=0;function i(t,e){if(t||0===t)try{e?delete r[t]:r[t]=!0,function(t){var e;for(e=0;e<n.length;e++)try{(0,n[e])(t)}catch(t){console.error(t)}}(!!Object.keys(r).length)}catch(t){console.error(t)}}function c(n,r){var c,l,u,s=r[1],a=(l=r,u=function(){var n,r,o=[],c=l[0],s=u[e];try{for(n=2,r=l.length;n<r;n++)o[o.length]=l[n];c.apply(t,o),i(s,!0)}finally{o=null}});return s>=o?(c=t[n](a,s),a[e]=c):(console.info("Ignoring timeout delay!",s),a()),c}function l(n,e){t[e](n)}this._subscribe=function(t){t&&n.push(t)},this._setIgnoreThreshold=function(t){o=t},this.setTimeout=function(){var t=c("setTimeout",arguments);return arguments[1]<500&&i(t),t},this.setInterval=function(){return c("setInterval",arguments)},this.clearTimeout=function(t){l(t,"clearTimeout"),i(t,!0)},this.clearInterval=function(t){l(t,"clearInterval")}}});
define("wc/dom/uid",[],function(){"use strict";var n=0,t="uid";return function(){return t+ ++n+Date.now()}});
define("wc/fix/getActiveX_ieAll",[],function(){"use strict";return function(e,n){var t,i,c,r=0;do{i=(t=n?n[r]:"")?e+"."+t:e;try{new window.ActiveXObject(i),c={version:t,engine:i};break}catch(e){}}while(n&&n.length>r++);return c||null}});
define("wc/ajax/ajax",["wc/Observer","wc/global","wc/xml/xmlString","wc/timers","wc/has","wc/dom/uid","wc/fix/getActiveX_ieAll","require"],function(e,r,n,o,t,s,c,a){"use strict";var i,u,l="XMLHttpRequest",f=t("ie")?5:t("ff")?8:20,p=t("global-performance-marking"),m=0,d=[],y=new function(){var a,i;function h(e){e?m?m--:console.warn("Cannot decrement ",m):m++,a&&a.notify(!!m)}function T(){m<f&&d.length&&(console.log("About to process queued IE AJAX. Queue length: ",d.length),y.simpleRequest(d.shift()))}function w(){return new r[l]}function v(){var e,n,o=t("ie");if(void 0===u&&(u=o&&o<10&&(n=c("Msxml2.XMLHTTP",["6.0","3.0"]))?n.engine:r[l]?l:null,console.log("Using XMLHTTP engine: "+u)),u===l)e=w();else{if(!u)throw new Error("No AJAX support");e=new r.ActiveXObject(u)}return e}function b(e,n){var t=!1;if(e&&4===e.readyState)try{if(t=!0,200===e.status&&n.callback)try{n.callback.call(e,e[n.responseType])}catch(r){M(e,n,r)}else M(e,n);p&&function(e){var n,o,t;e.uid?(n=e.uid+"_start",o=e.uid+"_end",(t=r.performance.getEntriesByName(n))&&t.length?(r.performance.mark(o),r.performance.measure(e.url,n,o),r.performance.clearMarks(n),r.performance.clearMarks(o)):console.warn("could not find start mark",n)):console.warn("request has not uid",e)}(n)}finally{n.async&&h(!0),o.setTimeout(T,0)}return t}function M(e,r,n){try{console.group("wc/ajax"),n&&console.error(n),console.error("request.status",e.status),console.error("request.readyState",e.readyState),console.error("response headers",e.getAllResponseHeaders()),console.error("config",JSON.stringify(r))}catch(e){console.warn(e)}finally{console.groupEnd()}r.onError&&function(e,r){var n=function(n){var o;try{o=n&&n.getErrorMessage?n.getErrorMessage(e):"ERROR! Unable to communicate with server"}finally{r.call(e,o)}};g(n,n)}(e,r.onError)}function X(e){var r,n=y.getXBrowserRequestFactory()(),o=function(){r=b(n,e)};if(n)return n.onreadystatechange=o,function(e,r){r.responseType=r.responseType||y.responseType.TEXT;try{r.onAbort?e.onabort=r.onAbort:e.onabort=function(){M(e,r,new Error("The request was aborted"))},r.onTimeout?e.ontimeout=r.onTimeout:e.ontimeout=function(){M(e,r,new Error("The request timed out"))},r.onProgress&&e.upload&&(e.upload.onprogress=r.onProgress),r.forceMime&&e.overrideMimeType&&e.overrideMimeType(r.forceMime)}catch(e){console.warn(e)}}(n,e),n.open(e.postData?"POST":"GET",e.url,e.async),function(e,r){var n=t("trident"),o=r.cache||!1;if(n&&n>=6&&r.responseType===y.responseType.XML)try{e.responseType="msxml-document"}catch(e){}o||e.setRequestHeader("If-Modified-Since","Fri, 31 Dec 1999 23:59:59 GMT");"string"==typeof r.postData&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded")}(n,e),console.log("Sending request: ",e.url),n.send(e.postData||""),e.async||r||!n.readyState||o(),n}this.subscribe=function(r){return a||(a=new e),a.subscribe(r)},this.simpleRequest=function(e){var n;return e.async=void 0===e.async||e.async,e.uid=s(),p&&r.performance.mark(e.uid+"_start"),e.async?m<f?(h(),n=X(e)):(d.push(e),console.log("Queued AJAX. Queue length: ",d.length)):n=X(e),n},this.loadXmlDoc=function(e,r,o,t){var s=o?this.responseType.TEXT:this.responseType.XML,c={url:e,async:!!t,cache:!0,responseType:s,forceMime:"text/xml"};return t?function(e,r,o){var t;return t=new Promise(function(t){e.callback=function(e){var s=e;o||s&&s.documentElement||(s=n.from(this.responseText)),r&&r(s),t&&t(s)}}),y.simpleRequest(e),t}(c,r,o):function(e,r,o){var t;return e.callback=function(e){if(t=e,o||t&&t.documentElement||(t=n.from(this.responseText)),r)try{r.call(this,e)}catch(e){console.error("Error in callback ",e)}},y.simpleRequest(e),t}(c,r,o)},this.getXBrowserRequestFactory=function(){return i||(i=function(){var e;t("activex")?e=v:r[l]?e=w:console.error("User agent does not provide necessary XML support");return e}())},this.responseType={XML:"responseXML",TEXT:"responseText"},this.toString=function(){var e="AJAX Limit: ";return e+=f,e+="\nPending: "+(m||0),e+="\nQueued: "+(d?d.length:0)}};function g(e,r){var n=function(r){e&&e(r)};i?n(i):a(["wc/ajax/handleError"],function(e){n(i=e)},r)}return o.setTimeout(g,6e4),y});
define("wc/loader/prefetch",[],function(){"use strict";return{request:function(e,r){try{!function(e,r,t){var n;e&&document&&document.head&&((n=document.createElement("link")).rel=t||"preload",r&&(n.as=r),n.href=e,document.head.appendChild(n))}(e,r)}catch(e){console.warn(e)}},jsModule:function(e){var r,t;try{e&&window.require&&window.require.toUrl&&(t=/.+\.js$/.test(e)?e:e+".js",(r=window.require.toUrl(t))&&this.request(r,"script"))}catch(e){console.warn(e)}}}});
define("wc/loader/resource",["wc/ajax/ajax","wc/loader/prefetch","wc/config","wc/Observer","module"],function(e,r,t,n,c){"use strict";return new function(){var o,i;function s(){var e=t.get("wc/loader/resource");return e||(window.System&&window.System.config?e=window.System.config:c&&c.config&&(e=c.config())),e}this.preload=function(e){var t=this.getResourceUrl(e);r.request(t,"fetch")},this.load=function(e,r,t){var c,o,s=this.getResourceUrl(e);return t?(i?c=i.subscriberCount(s):(i=new n,c=0),o=new Promise(function(e){i.subscribe(e,{group:s})}),c<1&&(console.log("Loading async "+s),this._fetch(s,r,t).then(function(e){try{return i.setFilter(s),i.notify(e)}finally{i.reset(s)}}))):(console.log("Loading sync "+s),o=this._fetch(s,r,t)),o},this.getResourceUrl=function(e){var r,t,n,i=s();return i?(r=i.resourceBaseUrl,n=i.cachebuster):(t=c.uri.indexOf(c.id),r=(r=c.uri.substring(0,t)).replace(/\/[^/]+\/$/,"/resource/")),o=o||r||"",e?o+e+"?"+n:o},this.getCacheBuster=function(){var e=s();return e&&e.cachebuster?e.cachebuster:null},this._fetch=function(r,t,n){return e.loadXmlDoc(r,null,t,n)}}});
define("wc/dom/tag",[],function(){"use strict";var T=["A","ABBR","ACRONYM","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DATALIST","DETAILS","DFN","DIALOG","DIV","DL","DT","EM","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","KEYGEN","LABEL","LEGEND","LI","LINK","MAP","MARK","META","METER","NAV","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","TT","UL","VAR","VIDEO","WBR"],t=!1;return function(){var e,E,A,O,R="#text";try{for(e=document.getElementsByTagName("head")[0],t="head"===e.tagName,window.Text&&void 0!==Object.getOwnPropertyDescriptor&&((O=Object.getOwnPropertyDescriptor(window.Text.prototype,"tagName"))&&(O.get||O.value)||(t||(R=R.toUpperCase()),Object.defineProperty(window.Text.prototype,"tagName",{get:function(){return R}}))),E=0;E<T.length;E++)A=T[E],T[A]=t?A.toLowerCase():A}finally{e=null}}(),T.toTag=function(T,t,e,E){var A,O=["<"];if(t)return O.push("/"),O.push(T),O.push(">"),O.join("");if(O.push(T),e)if(e.constructor===String)O.push(" "+e);else if("object"==typeof e)for(A in e)e.hasOwnProperty(A)&&O.push(" "+A+'="'+e[A]+'"');return E&&O.push("/"),O.push(">"),O.join("")},T});
define("wc/dom/attribute",[],function(){"use strict";return new function(){var t="wc.dom.attribute",e="undefined";this.set=function(n,r,i){var u=null;return function(n){var r,i;typeof n[t]!==e&&null!==n[t]||(i={},r=function(){return i},Object.defineProperty?Object.defineProperty(n,t,{get:r}):n.__defineGetter__(t,r))}(n),r&&(u=n[t][r]=i),u},this.has=function(e,n){var r,i=!1;return n&&(r=e[t])&&(i=n in r),i},this.get=function(e,n){var r,i=null;return n&&(r=e[t])&&(i=n in r?r[n]:null),i},this.remove=function(n,r){var i,u=!1;return(i=n[t])&&r&&typeof i[r]!==e&&(u=delete i[r]),u}}});
define("wc/dom/event",["wc/Observer","wc/dom/tag","wc/dom/attribute","wc/dom/uid","wc/has","wc/timers"],function(e,t,n,r,o,u){"use strict";var i="undefined";function a(){var a,c=this,s=3,l=".bubble",d=".capture",f=e.priority,v=new function(){var e=this;function t(e){return function(){e&&e.call(this),this.returnValue=!1,this.defaultPrevented||(this.defaultPrevented=!0)}}function n(e){var n,r,o,u=window[e];u&&(n=u.prototype)&&((o=Object.getOwnPropertyDescriptor(n,"preventDefault"))&&(r=o.value),r&&Object.defineProperty(n,"preventDefault",{value:t(r)}))}e.fixInstance=!1,window.Event&&(o=window.Event.prototype)&&(o.preventDefault?"defaultPrevented"in o||typeof document.createEvent!==i&&("defaultPrevented"in(r=document.createEvent("HTMLEvents"))&&"returnValue"in r||(n("Event"),["KeyboardEvent","MouseEvent","StorageEvent","MutationEvent"].forEach(n))):function(n){var r;function o(){this.cancelBubble=!0}function u(e){typeof e.preventDefault===i&&(e.preventDefault=r||(r=t(null))),typeof e.stopPropagation===i&&(e.stopPropagation=o)}e.fixInstance=function(e,t){u(e);try{!e.target&&e.srcElement&&(e.target=e.srcElement),e.currentTarget||(e.currentTarget=t),typeof e.defaultPrevented===i&&(e.defaultPrevented=!1===e.returnValue)}catch(e){console.warn(e)}return e},n&&(u(n),Object.defineProperty(n,"defaultPrevented",{get:function(){return!1===this.returnValue}}),Object.defineProperty(n,"target",{get:function(){return this.srcElement},set:function(e){this.srcElement=e}}),n=null)}(o));var r,o},p="elid",h={},m={},E=o("dom-addeventlistener"),b=o("ff"),y=o("ie");function w(){var e,t,r,o=arguments[0]||window.event,u=o.eventPhase,i=o.type;if(m[i]){if(!(m[i]<s))throw new Error("eventListener calling itself? calling element.onXXXX() directly?");m[i]++}else m[i]=1;v.fixInstance&&v.fixInstance(o,this);try{u===window.Event.BUBBLING_PHASE?(t=i+l,a=null):u===window.Event.CAPTURING_PHASE?(t=i+d,a=null):u===window.Event.AT_TARGET&&a!==o&&(t=function(e){var t=e+l,n=e+d;return function(e){return e===t||e===n}}(i),a=o),t&&(r=n.get(o.currentTarget,p),(e=h[r]).setCallback(function(e){!1!==e&&!1!==o.returnValue||o.defaultPrevented||o.preventDefault()}),e.setFilter(t),e.notify.call(this,o),i===c.TYPE.beforeunload&&y>0&&(o.returnValue=void 0))}finally{m[i]--}}this.add=function(t){var o,u,i,a=function(e){var t,n=["type","listener","pos","scope","capture"],r=e[1];if(e.length>2)for(r={},t=0;t<n.length;t++)r[n[t]]=e[t+1];return r}(arguments),c=a.pos?a.pos>0?f.LOW:f.HIGH:f.MED,s=n.get(t,p);if(s||(s=n.set(t,p,r())),a.capture=!!a.capture){if(!E)throw new TypeError("Can not use capture in this browser");i=a.type+d}else i=a.type+l;return(u=h[s]||(h[s]=new e)).isSubscribed(a.listener,i)?(console.warn("listener: ",a.listener," already bound to: ",a.type," on element: ",t),o=!1):(u.subscriberCount(i)<0&&(E?t.addEventListener(a.type,w,a.capture):t.attachEvent("on"+a.type,w.bind(t))),(o=u.subscribe(a.listener,{group:i,context:a.scope,priority:c})).elid=s),o},this.remove=function(e,t,r,o){var u,i,a=r,c=arguments[0],s=function(e,t){(i=h[e])&&i.unsubscribe.apply(i,t)};if(1===arguments.length)if(Array.isArray(c))for(;c.length;)this.remove(c.pop());else s(c.elid,[c]);else u=o?t+d:t+l,s(n.get(e,p),[a,u])},this.fire=function(e,n,r){var i,a,l,d,f=r||{bubbles:!0,cancelable:!1};if(!m[n]||m[n]<s){if(!e||!n)throw new TypeError("arguments can not be null");l=e.tagName,d=e.type,n!==c.TYPE.submit&&e[n]&&"text"!==d&&"password"!==d&&l!==t.TEXTAREA&&l!==t.SELECT?e[n]():document.createEvent?f.detail?(o("event-custom")?a=new CustomEvent(n,f):(a=document.createEvent("CustomEvent")).initCustomEvent(n,f.bubbles,f.cancelable,f.detail),i=!e.dispatchEvent(a)):((a=document.createEvent("HTMLEvents")).initEvent(n,f.bubbles,f.cancelable),i=!e.dispatchEvent(a),b||n!==c.TYPE.submit||e[n]()):(a=document.createEventObject(),!1!==(i=e.fireEvent("on"+n,a))&&n===c.TYPE.submit&&e[n]())}else console.log("Too much recursion, queueing",e,n,r),u.setTimeout(c.fire,0,e,n,r);return i},this.toString=function(){var e="";return Object.keys(h).forEach(function(t){e+=t+": "+h[t].toString()+"\n"}),e},this.canCapture=E}return a.prototype.TYPE=function(){var e,t,n,r=["animationstart","animationend","animationiteration","beforeunload","blur","canplay","change","click","dblclick","ended","focus","focusin","focusout","input","keydown","keypress","keyup","load","loadeddata","loadedmetadata","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","progress","propertychange","readystatechange","resize","scroll","seeked","seeking","stop","submit","timeupdate","touchcancel","touchend","touchmove","touchstart","transitionend","unload","volumechange","waiting"];for(e=0,t=r.length;e<t;e++)r[n=r[e]]=n;return r}(),o.add("event-ontouchstart",function(e){return"ontouchstart"in e}),o.add("event-ontouchend",function(e){return"ontouchend"in e}),o.add("event-ontouchcancel",function(e){return"ontouchcancel"in e}),o.add("event-ontouchmove",function(e){return"ontouchmove"in e}),o.add("event-custom",function(e){if(e.CustomEvent)try{return new e.CustomEvent("x"),!0}catch(e){return!1}return!1}),new a});
define("wc/dom/initialise",["wc/Observer","wc/timers","wc/global","wc/dom/event"],function(t,i,n,o){"use strict";var e,d;return d=function(){n.document&&i.setTimeout(function(){try{e.go(n.document.body)}finally{e.domLoaded=!0}},0)},n.document&&"loading"!==n.document.readyState?d(n.document):o.add(n,"DOMContentLoaded",d),e=new function(){var o,d;function r(r,u,s){var a,c={priority:r,method:u};return(o||(o=new t(!0)))&&(s&&("function"==typeof s||u)?(e.domLoaded&&(d&&i.clearTimeout(d),d=i.setTimeout(e.go,100,n.document.body)),a=o.subscribe(s,c)):(console.error("Could not add ",s),a=null)),a}this.domLoaded=!1,this.register=function(t){return t.initialise&&this.addBodyListener(t),t.postInit&&this.addCallback(t.postInit),t.preInit&&this.addInitRoutine(t.preInit),t},this.go=function(t,i){var n=o,e=function(){try{i&&"function"==typeof i&&i()}finally{null===o&&(n.reset(),o=n)}};n&&(o=null,n.notify(t).then(e,e))},this.toString=function(){return o?o.toString():"no subscribers"},this.addInitRoutine=r.bind(this,t.priority.HIGH,null),this.addBodyListener=r.bind(this,t.priority.MED,"initialise"),this.addCallback=r.bind(this,t.priority.LOW,null)}});
define("wc/i18n/i18n",["lib/sprintf","wc/array/toArray","wc/config","wc/mixin","wc/ajax/ajax","wc/loader/resource","wc/has","wc/dom/initialise"],function(n,t,i,e,r,a,c,o){"use strict";var s=new function(){var o=function(n){return console.warn("Calling i18n before inited ",n),""},l=/^(.+)-x-mtfrom-(.+)$/;this._DEFAULT_LANG="en",this._getLang=function(n){var t,i,e,r=document;return n&&(t=n.lang),!t&&r&&(i=r.documentElement)&&(t=i.lang),t?(e=l.exec(t))&&(t=e[1]):t=this._DEFAULT_LANG,t},this.initialize=function(l){return new Promise(function(u,f){(!c("ie")||c("ie")>9)&&(l||s.get===o)?require(["lib/i18next"],function(c){var o=l||i.get("wc/i18n/i18n")||{};!function(n,t,i){var c=(l=t,u=l.basePath||a.getResourceUrl(),f=s._getLang(),h=a.getCacheBuster(),g="{{ns}}/{{lng}}.json"+(h?"?"+h:""),p={load:"currentOnly",initImmediate:!0,lng:f,fallbackLng:s._DEFAULT_LANG,backend:{loadPath:u+g}},d=e(p,{}),d=e(l.options,d)),o=new function(){this.type="backend",this.init=function(n,t){this.services=n,this.options=t},this.read=function(n,t,i){var e=this.options.cachebuster||"",a=this.services.interpolator.interpolate(this.options.loadPath,{lng:n,ns:t});a=require.toUrl(a),e&&(e="?"+e,a.indexOf(e)<0&&(a+=e)),r.simpleRequest({url:a,cache:!0,callback:function(n){var t;try{t=JSON.parse(n),i(null,t)}catch(t){console.error(t),i(t,n)}},onError:i})}};var l,u,f,h,g,p,d;try{n.use(o).init(c,i)}catch(n){i(n)}}(c,o,function(i,e){e&&(s.get=function(i){return function e(r){var a,c,o;arguments.length>1&&(a=t(arguments)).shift();Array.isArray(r)?c=r.map(function(n){var t=[n];return a&&(t=t.concat(a)),e.apply(s,t)}):(c=r&&i?i(r):"")&&a&&(o=[c].concat(a),c=n.sprintf.apply(this,o));return c}}(e)),i?f(i):u()})}):u()})},this.get=o,this.translate=function(){var n=arguments;return s.initialize().then(function(){return s.get.apply(s,n)})},this.load=function(n,t,i,e){e&&e.isBuild?i():(console.warn("Calling i18n as a loader plugin is deprecated"),s.initialize().then(i,i))}};return o.register({preInit:function(){return s.initialize()}}),s});
define("wc/xml/xpath",["wc/array/toArray"],function(e){"use strict";var t=/^xmlns/,n="getProperty";return new function(){this.query=function(o,l,a,r){var s,c,u,i,m,d;if(a)if(a.ownerDocument?(m=a.ownerDocument,d=r?a:m):a.nodeType===window.Node.DOCUMENT_NODE&&(m=d=a),m.evaluate)if(i=document.createNSResolver(m.documentElement),l)s=(u=m.evaluate(o,d,i,window.XPathResult.FIRST_ORDERED_NODE_TYPE,null)).singleNodeValue;else{for(c=[],s=(u=m.evaluate(o,d,i,window.XPathResult.ANY_TYPE,null)).iterateNext();s;)c[c.length]=s,s=u.iterateNext();s=c}else try{!function(e){var o,l,a,r=[];if(n in e){if(!e[n]("SelectionNamespaces")){for(a=e.documentElement.attributes,o=0;o<a.length;o++)l=a[o],t.test(l.name)&&(r[r.length]=l.name+"='"+l.value+"'");r.length&&(r=r.join(" "),console.log("IE namespace resolver: ",r),e.setProperty("SelectionNamespaces",r))}}else console.error("Not an MSXML document, can't do xpath")}(m),l?s=d.selectSingleNode(o):(s=d.selectNodes(o))&&(s=e(s))}catch(e){console.log(e.message),s=null}return s}}});
define("wc/dom/aria",["wc/loader/resource","wc/xml/xpath"],function(t,e){"use strict";return new function(){var r,n,o,u=this,i="aria-1.rdf",l=["getScope","getMustContain","getSupported","getScopedTo","getScopedBy"];for(t.preload(i),r=0;r<l.length;r++)u[o=l[r]]=a(o);function a(r){return function(){return n||(n=new function(t){var e,r,n=this,o=/^.*?#/,u={},i={};function l(){r||(e=t.loadXml(),function(){var t,e=f();function o(t){var e,l,a,c,p;if(p=void 0!==t.getAttributeNS?t.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#","ID"):t.getAttribute("rdf:ID"),!i[p]){for(l=f(p,!1,"rdfs:subClassOf"),e=l.length-1;e>=0;e--)o(f(l[e],!0));a=f(p,!1,"role:requiredState"),c=f(p,!1,"role:supportedState"),i[p]=function(t,e,r){var o,l,a,c,f=function(){u(this,t,n.REQUIRED),u(this,e,n.SUPPORTED)};try{if(r)for(a=r.length,o=0;o<a;o++)if(c=new i[r[o]],0===o)f.prototype=c;else for(l in c)l in f.prototype||(f.prototype[l]=c[l]);return f}finally{r=null}}(a,c,l),r||(r=p)}}function u(t,e,r){var n;if(e)for(n=e.length-1;n>=0;n--)t[e[n]]=r}for(t=0;t<e.length;t++)o(e[t])}())}function a(r){var n={};return function(o){var u,i;if(!o)throw new TypeError("role can not be null");return(u=n[o])||(l(),i="//owl:Class[child::"+r+"[@rdf:resource='#"+o+"']]/@*[local-name()='ID']",u=n[o]=p(t.query(i,!1,e))),u}}function c(r){var n=[];return function(o){var u;return l(),o?n[o]||(n[o]=f(o,!1,r)):n[o="*"]||(n[o]=(u="//owl:Class[count("+r+")>0]/@*[local-name()='ID']",p(t.query(u,!1,e))))}}function f(r,n,o){var u,i="//owl:Class";return r&&(i+="[@rdf:ID='"+r+"']",o&&(i+="/"+o+"/@*[local-name()='resource']")),u=t.query(i,n,e),o&&(u=p(u)),u}function p(t){return t.map(function(t){return t.nodeValue.replace(o,"")})}n.SUPPORTED=1,n.REQUIRED=2,n.getScope=c("role:scope"),n.getMustContain=c("role:mustContain"),n.getScopedTo=a("role:scope"),n.getScopedBy=a("role:mustContain"),n.getSupported=function(t){var e,n,o=function(){};return l(),t?t.getAttribute&&(t=t.getAttribute("role")||r):t=r,(n=function(t){var e,r=u[t];return void 0===r&&(e=i[t],r=e?u[t]=new e:null),r}(t))&&(o.prototype=n,e=new o),e}}({loadXml:t.load.bind(t,i),query:e.query}),u.SUPPORTED=n.SUPPORTED,u.REQUIRED=n.REQUIRED),n[r].apply(n,arguments)}}}});
function ClassList(t,n){function e(e,i,s){return n?void 0!==i.classList&&i.classList[e](s):t.call(i,null)[e](s)}this.getLength=function(e){return n?e.classList.length:t.call(e,null).length},this.item=function(e,i){return n?e.classList.item(i):t.call(e,null).item(i)},this.contains=function(t,n){return e("contains",t,n)},this.add=function(t,n){return e("add",t,n)},this.remove=function(t,n){return e("remove",t,n)},this.toggle=function(t,n){return e("toggle",t,n)},this.toString=function(e){return n?e.classList.toString():t.call(e,null).toString()},this._hobble=function(){n=null}}define("wc/dom/classList",["wc/has"],function(t){"use strict";var n,e=window,i=e.document&&"classList"in e.document.createElement("div"),s=/^\s+|\s+$/g,l=/\s+/;try{i||(n=e.Element||e.HTMLElement)&&(n=n.prototype)&&(t("native-console")&&e.console.log("Adding support for classList API on Element.prototype"),e.Object.defineProperty(e.Element.prototype,"classList",{get:c}))}finally{n=null}function o(t,n){t.className=n.join(" ")}function r(t,n){if(""===n)throw new TypeError("SYNTAX_ERR");if(l.test(n))throw new TypeError("INVALID_CHARACTER_ERR");return t.indexOf(n)}function c(){var t=this,n=t.className?t.className.replace(s,"").split(l):[];return{length:n.length,item:function(t){return n[t]||null},contains:function(t){return-1!==r(n,t)},add:function(e){-1===r(n,e)&&(n[n.length]=e,this.length=n.length,o(t,n))},remove:function(e){var i=r(n,e);-1!==i&&(n.splice(i,1),this.length=n.length,o(t,n))},toggle:function(t){-1===r(n,t)?this.add(t):this.remove(t)},toString:function(){return t.className}}}return new ClassList(c,i)});
define("wc/dom/getAncestorOrSelf",["wc/dom/tag","wc/dom/classList"],function(e,t){"use strict";var n=/\s+/;function r(e,n,r){var l=!1;return e.nodeType===Node.ELEMENT_NODE&&(Array.isArray(n)&&n[r](function(n){return t.contains(e,n)})||t.contains(e,n))&&(l=!0),l}function l(e,t,r){return Object.keys(t)[r](function(r){var l,a=t[r],i=e.getAttribute(r),s=!1;if(null===a)s=e.hasAttribute(r);else if(a===i)s=!0;else if(n.test(i))if(i=i.split(n),n.test(a))if((a=a.split(n)).length>i.length)s=!1;else for(l=0;l<a.length&&(s=!!~i.indexOf(a[l]));++l);else s=!!~i.indexOf(a);else s=a===i;return s})}return function(){var t,n,a,i,s,o,u,f,c,g,m=null,h=e.BODY;if(1===arguments.length?(t=arguments[0].element,n=arguments[0].tagName,a=arguments[0].limitTagName,i=arguments[0].className,u=arguments[0].classNameLogic||"every",f=arguments[0].attributes,c=arguments[0].attributeLogic||"every",g=arguments[0].outermost||!1):(t=arguments[0],n=arguments[1],a=arguments.length>2?arguments[2]:null,i=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:"every",f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:"every",g=arguments.length>7&&arguments[7]),!t)throw new TypeError("element can not be null - getAncestorOrSelf");if(!(n||i||f))throw new TypeError("getAncestorOrSelf with multi argument signature must declare at least one of tagName or className arguments.");if(n&&(n=e[n.toUpperCase()]||n),a&&(h=e[a.toUpperCase()]||e.BODY)===e.HTML&&(h=e.BODY),s=t)do{if(o=s.tagName,n&&o!==n||i&&!r(s,i,u)||f&&!l(s,f,c)){if(o===h)break}else if(m=s,!g)break}while((s=s.parentNode)&&s.nodeType===Node.ELEMENT_NODE);return m}});
define("wc/dom/Widget",["wc/dom/getAncestorOrSelf","wc/dom/uid"],function(t,e){"use strict";function n(t,e,n){if(!t&&!e&&!n)throw new TypeError("Widget needs a tagName/className/attributes");this.tagName=t,this.className=e,this.attributes=n,this.container=null,this.immediate=!1}function r(t){var e=/(.)?([?($.*#{}[\]():;+~|=>"'])/g,n=t;return e.test(n)&&(n=n.replace(e,function(t,e,n){var r=n;return"\\"!==e&&(r="\\"+r),void 0!==e&&(r=e+r),r})),n}function i(t){var e,n,o;return(e=t.qs)&&t.hasOwnProperty("qs")||(e=t.tagName||"",n=t.className,o=t.attributes,n&&(Array.isArray(n)?n.forEach(function(t){e+="."+r(t)}):e+="."+n),o&&(e+=function(t){var e="";return Object.keys(t).forEach(function(n){var i=t[n],o=null!==i,s="=";o&&"id"===n?e+="#"+r(i):(o&&-1===i.indexOf(" ")&&(s="~"+s),e+="["+r(n)+(o?s+'"'+r(i)+'"]':"]"))}),e}(o)),t.qs=e),t.container&&(e=i(t.container)+(t.immediate?">":" ")+e),e}function o(t,n,o,s){var a,u,c,f="",d=0,l=Array.isArray(t),h=s?"querySelectorAll":"querySelector";o&&(u=n.id||(n.id=e()));do{a=l?t[d++]:t,o?(c="#"+r(u)+">",a.immediate&&a.container&&a.container.isOneOfMe(n)&&(c=""),f+=c+i(a)):f+=i(a)}while(l&&d<t.length&&(f+=","));return n[h](f)}return n.prototype.toString=function(){return i(this)},n.prototype.isOneOfMe=function(t){return this.findAncestor(t,t.tagName)===t},n.prototype.findAncestor=function(e,n,r,i){var o,s,a,u=null;try{this.element=e,this.limitTagName=n,this.outermost=i,(s=t(this))&&(this.container?s.parentNode&&(o=[s],a=this.immediate?s.parentNode.tagName:"",(s=this.container.findAncestor(s.parentNode,a,r))&&(r?s.length&&(u=o.concat(s)):u=o[0])):u=r?[s]:s)}finally{this.element=null,this.limitTagName=null,this.outermost=null}return u},n.prototype.findDescendants=function(t,e){return o(this,t,e,!0)},n.prototype.findDescendant=function(t,e){return o(this,t,e,!1)},n.prototype.descendFrom=function(t,e){this.container=t,this.immediate=!!e},n.prototype.extend=function(t,e){var n,r,i=function(){};if(!t&&!e)throw new TypeError("You do not need to extend this widget");if(i.prototype=this,n=new i,t&&(this.className?n.className=[].concat(this.className,t):n.className=t),e||this.attributes){for(r in n.attributes={},e)n.attributes[r]=e[r];for(r in this.attributes)n.attributes[r]=this.attributes[r]}return n},n.prototype.clone=function(){return this.extend("",{})},n.isOneOfMe=function(t,e){return Array.isArray(e)?e.some(function(e){return e.isOneOfMe(t)}):e.isOneOfMe(t)},n.findDescendant=function(t,e,n){return o(e,t,n,!1)},n.findDescendants=function(t,e,n){return o(e,t,n,!0)},n.findAncestor=function(t,e,n){var r,i,o,s,a=[],u=null,c=!1,f=!1;for(Array.isArray(e)||(e=[e]),n&&(u=n.limit||null,c=n.tree||!1,f=n.outermost||!1),i=0,o=e.length;i<o;++i)(s=e[i].findAncestor(t,u,c,f))&&a.push(s);return a.length&&(a.sort(function(t,e){return(6&t.compareDocumentPosition(e))-3}),f&&a.reverse(),r=a[0]),r},n});
define("wc/dom/impliedARIA",["wc/dom/tag","wc/dom/Widget"],function(e,t){"use strict";return new function(){var a,r,o,n,i={a:"link",button:"button",checkbox:"checkbox",dialog:"dialog",email:"textbox",image:"button",input:"textbox",number:"spinbox",option:"option",password:"textbox",progress:"progressbar",radio:"radio",range:"slider",reset:"button",select:"listbox",submit:"button",td:"gridcell",tel:"textbox",text:"textbox",textarea:"textbox",tr:"row"};function s(t){return t.tagName===e.INPUT&&("checkbox"===t.type||"radio"===t.type)}function c(t){return t.tagName===e.OPTION}this.getImpliedRole=function(a){var r;return a.nodeType!==Node.ELEMENT_NODE||a.hasAttribute("role")?null:a.tagName===e.TABLE?a.className&&a.className.indexOf("wc_tbl_expansion")>-1?"treegrid":"grid":a.tagName===e.TH?(n=n||new t(e.THEAD)).findAncestor(a)?"columnheader":"rowheader":(r=a.tagName===e.INPUT||a.tagName===e.BUTTON?a.type:a.tagName.toLowerCase(),i[r])},this.supportsNativeState=function(t,n){var i=!1;switch(n){case"disabled":i=!!~(a=a||[e.INPUT,e.BUTTON,e.SELECT,e.TEXTAREA,e.OPTGROUP,e.OPTION]).indexOf(t.tagName);break;case"required":i=function(t){var a=t.tagName;return!!~(r=r||[e.INPUT,e.SELECT,e.TEXTAREA]).indexOf(a)&&(o=o||["hidden","range","color","submit","image","reset","button"],a!==e.INPUT||!~o.indexOf(t.getAttribute("type")))}(t);break;case"any":i=c(t)||s(t);break;case"checked":i=s(t);break;case"selected":i=c(t)}return i}}});
define("wc/dom/wrappedInput",["wc/dom/initialise","wc/dom/Widget"],function(e,n){"use strict";return e.register(new function(){var e=new n("","wc-input-wrapper"),t=new n("","wc-ro-input"),i=[new n("input"),new n("select"),new n("textarea")],r=[e,t];this.getWidget=function(){return e},this.getWidgets=function(){return r},this.getWrappedWidgets=function(){return i},this.getROWidget=function(){return t},this.isOneOfMe=function(t,i){return i?n.isOneOfMe(t,r):e.isOneOfMe(t)},this.isReadOnly=function(e){return t.isOneOfMe(e)},this.getInput=function(t){return t&&e.isOneOfMe(t)?n.findDescendant(t,i):null},this.isWrappedInput=function(n){var t=n.parentNode;return e.isOneOfMe(t)},this.getWrapper=function(n){var t=n.parentNode;return e.isOneOfMe(t)?t:null},this.get=function(t,i){return(i?n.isOneOfMe(t,r):e.isOneOfMe(t))?[t]:i?n.findDescendants(t,r):e.findDescendants(t)},this.getWrappedId=function(t){var r,s=t.id;return this.isReadOnly(t)||e.isOneOfMe(t)?s.concat("_input"):(r=this.getWrapper(t))?n.isOneOfMe(t,i)?t.id:r.id.concat("_input"):null}})});
define("wc/dom/getLabelsForElement",["wc/dom/tag","wc/dom/Widget","wc/array/toArray","wc/dom/wrappedInput"],function(e,t,n,r){"use strict";var a,o,c,i=[e.INPUT,e.SELECT,e.TEXTAREA,e.PROGRESS];function d(e,t,a){var o,c,i=t||[],d=e.id;return d&&(c='label[for="'+d+'"],[data-wc-for="'+d+'"]',a&&(c+=',[data-wc-rofor="'+d+'"]',r.isReadOnly(e)&&(o=r.getWrappedId(e))&&(c+=',label[for="'+o+'"]')),i=i.concat(n(document.querySelectorAll(c)))),i}return function(n,u){var f,l=[],s=[];if(n)return l=function(e){var t=[],n=e.getAttribute("aria-labelledby");return n&&n.split(/\s+/).forEach(function(e){var n;e&&(n=document.getElementById(e))&&t.push(n)}),t}(n),r.isOneOfMe(n,u)?s=function(e,t){var n,a=[];return t&&(a=d(e,a,!0)),(n=r.getInput(e))?d(n,a):a}(n,u):((a=a||new t(e.FIELDSET)).isOneOfMe(n)&&(f=(o=o||new t("legend")).findDescendant(n,!0))&&(s=[f]),(s=d(n,s,u))&&s.length||i.indexOf(n.tagName)>-1&&(s=function(n){var r;return(r=(c=c||new t(e.LABEL)).findAncestor(n))?r.hasAttribute("for")&&r.getAttribute("for")!==n.id?[]:[r]:[]}(n))),s.concat(l)}});
define("wc/dom/role",["wc/dom/impliedARIA"],function(e){"use strict";return new function(){this.get=function(t,n){var o;return t&&t.nodeType===Node.ELEMENT_NODE&&(o=t.getAttribute("role"),n&&!o&&(o=e.getImpliedRole(t))),o},this.has=function(t,n){var o=!1;return t&&t.nodeType===Node.ELEMENT_NODE&&(o=t.hasAttribute("role"),n&&!o&&(o=!!e.getImpliedRole(t))),o}}});
define("wc/dom/color",["wc/loader/resource"],function(t){"use strict";var r,n="colormap.json";return t.preload(n),new function(){var e={},o={},i=/^#/,l=/^rgb/,s=/^#?[a-fA-F0-9]{3}$/,u=/^#?[a-fA-F0-9]{6}$/;this.hex2rgb=function(t){var r,n,o,l;if(!t||t.constructor!==String)throw new TypeError("hex can not be null / must be an instance of String");return(r=e[t])||(r=e[t]={},(t=(t=t.trim()).replace(i,"")).length<6&&(t=function(t){var r,n,e;if(t=t.trim(),s.test(t)){for(i.test(t)?(t=t.replace(i,""),r=["#"]):r=[],n=0;n<3;n++)e=t.charAt(n),r[r.length]=e,r[r.length]=e;return r.join("")}return console.warn(t," is not a 3 digit hex string"),t}(t)),n=parseInt(t.substring(0,2),16),o=parseInt(t.substring(2,4),16),l=parseInt(t.substring(4,6),16),r.r=n,r.g=o,r.b=l),r},this.getLiteral=function(e){var i,l,s=o[e];if(void 0===s){if(void 0!==window.getComputedStyle)try{(i=document.createElement("div")).style.display="none",i.style.color=e,document.body.appendChild(i),(l=window.getComputedStyle(i,null).getPropertyValue("color"))&&(s=this.rgb2hex(l))}finally{document.body.removeChild(i)}else s=function(e){var o;return e&&(r||(o=t.load(n,!0))&&(r=JSON.parse(o)),r)?r[e]:null}(e);o[e]=s||null}return s},this.rgb2hex=function(t){var r,n,e,o;if(t&&(r=["#"],t.constructor===String&&l.test(t)?e=t.match(/\d+/g):Array.isArray(t)?e=t:t.constructor===Object&&(e=[t.r,t.g,t.b]),e))for(o=0;o<e.length;o++)n=parseInt(e[o]).toString(16),r[r.length]=1===n.length?n+n:n;return r&&r.length>1?r.join(""):null},this.isHex=function(t){var r=!1;return t&&t.constructor===String&&(u.test(t)||s.test(t))&&(r=!0),r}}});
define("wc/dom/getStyle",["wc/dom/color"],function(e){"use strict";return function(t,r,a,n){var o,u=/^([a-z]+)([A-Z])([a-z]+)$/,c=null,g=document.defaultView;return r&&(g&&g.getComputedStyle?(u.test(r)&&(r=r.replace(u,"$1-$2$3").toLowerCase()),c=g.getComputedStyle(t,"").getPropertyValue(r)):t.currentStyle&&(c=t.currentStyle[r.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})]),c&&c.constructor===String&&isNaN(c)&&(/^\d+[A-Za-z]+$/.test(c)?a||(c=c.replace(/[A-Za-z]+$/g,"")):n||("transparent"===c||"rgba(0, 0, 0, 0)"===c?c={r:255,g:255,b:255,a:0}:(o=e.rgb2hex(c))?c=e.hex2rgb(o):e.isHex(c)?c=e.hex2rgb(c):(o=e.getLiteral(c))&&(c=e.hex2rgb(o))))),c}});
define("wc/dom/shed",["wc/dom/event","wc/dom/aria","wc/dom/impliedARIA","wc/dom/classList","wc/dom/tag","wc/dom/Widget","wc/dom/getLabelsForElement","wc/dom/role","wc/dom/getStyle"],function(e,t,i,n,r,s,o,a,u){"use strict";var d;return d=new function(){var l,c,E={SHOW:"show",HIDE:"hide",ENABLE:"enable",DISABLE:"disable",DESELECT:"deselect",SELECT:"select",MIX:"mix",EXPAND:"expand",COLLAPSE:"collapse",MANDATORY:"mandatory",OPTIONAL:"optional"},h={expanded:"aria-expanded",readonly:"aria-readonly"},f={},b="any",p="disabled",D="required",A="checked",m="selected",v="wc_req",S="open";function N(e,s,o){var u,l,b=f[s],A=h[s],m=i.supportsNativeState(e,s),S=a.get(e,!0);S&&"presentation"!==S&&(l=(u=t.getSupported(S))&&u[A]),l||m?(o?(e.removeAttribute(b),e.removeAttribute(A)):m?e.setAttribute(b,b):l&&e.setAttribute(A,"true"),s===p&&e.hasAttribute("tabIndex")&&(o?a.get(e)?e.tabIndex=0:e.removeAttribute("tabIndex"):e.tabIndex=-1)):s===D&&e.tagName===r.FIELDSET?n[o?"remove":"add"](e,v):function(e,t,i){var n,r,s,o;for((n=c||!1!==c&&(c=!!e.children)?e.children:e.childNodes)&&n.length&&(o=t===D?i?E.OPTIONAL:E.MANDATORY:i?E.ENABLE:E.DISABLE),r=0,s=n.length;r<s;r++)(c||n[r].nodeType===Node.ELEMENT_NODE)&&d[o](n[r])}(e,s,o)}function L(e){return e.tagName===r.DETAILS}function T(e,t,n){var r,o=!1;return i.supportsNativeState(e,A)?r=A:i.supportsNativeState(e,m)&&(r=m),r&&(!0===t?(e.setAttribute(r,r),e[r]=!0):!1===t&&(e[r]=!1,e.removeAttribute(r),r===A&&(e.indeterminate=!!n),e[r]&&(r===m?(l=l||new s("select")).findAncestor(e).selectedIndex=0:r===A&&(e.checked=!1,e[r]=!1))),o=e.indeterminate?d.state.MIXED:!!e[r]),o}function g(e,t,i){e&&(i||!1===i||0===i?e.setAttribute(t,i.toString()):e.removeAttribute(t))}function I(e){return e.tagName===r.DIALOG}function O(e,t,i){var n,r;if(I(e)&&(t=S,i=i?null:S),g(e,t,i),e.form&&(r=(n=o(e,!0)).length))for(;r--;)g(n[r],t,i)}function P(e,n){var r,s,o,u,l=a.get(n,!0),c=e===d.state.MIXED;if(l&&!i.supportsNativeState(n,b))for(u=t.getSupported(l),(r=h[m].filter(function(e){return u[e]===t.REQUIRED})).length||(r=h[m].filter(function(e){return u[e]===t.SUPPORTED&&null!==n.getAttribute(e)})).length||(r=h[m].filter(function(e){return u[e]===t.SUPPORTED})),o=Math.min(r.length,1),s=0;s<o;s++)O(n,r[s],c?"mixed":e);else T(n,!!e,c)}function w(e,t,i){var n=e.getAttribute(t);return null!==n&&(n=i.toString()===n),n}h[p]="aria-disabled",h[D]="aria-required",h[m]=["aria-selected","aria-checked","aria-pressed"],f[D]="required",f[p]="disabled",this.events={},Object.keys(E).forEach(function(e){var t=E[e],i="wc"+t;this.events[t]=i,this.events[e]=i,this.events[i]=t},this),this.actions=E,this.show=function(e,t){if(O(e,"hidden",null),!t)return d.publish(e,E.SHOW)},this.hide=function(e,t){return O(e,"hidden","hidden"),t?Promise.resolve():d.publish(e,E.HIDE)},this.enable=function(e,t){return N(e,f[p],!0),t?Promise.resolve():d.publish(e,E.ENABLE)},this.disable=function(e,t){return N(e,f[p],!1),t?Promise.resolve():d.publish(e,E.DISABLE)},this.deselect=function(e,t){return P(d.state.DESELECTED,e),t?Promise.resolve():d.publish(e,E.DESELECT)},this.select=function(e,t){return P(d.state.SELECTED,e),t?Promise.resolve():d.publish(e,E.SELECT)},this.mix=function(e,t){return P(d.state.MIXED,e),t?Promise.resolve():d.publish(e,E.MIX)},this.expand=function(e,t){return L(e)?g(e,S,S):g(e,h.expanded,!0),t?Promise.resolve():d.publish(e,E.EXPAND)},this.collapse=function(e,t){return L(e)?g(e,S,null):g(e,h.expanded,!1),t?Promise.resolve():d.publish(e,E.COLLAPSE)},this.mandatory=function(e,t){return N(e,D,!1),t?Promise.resolve():d.publish(e,E.MANDATORY)},this.optional=function(e,t){return N(e,D,!0),t?Promise.resolve():d.publish(e,E.OPTIONAL)},this.hasDisabledAncestor=function(e,t){return function(e,t,i){for(var n=!1,r=e,s=i||document.body;(r=r.parentNode)&&r.nodeType===Node.ELEMENT_NODE&&r.tagName.toUpperCase()!==s.tagName.toUpperCase();)if(d[t](r)){n=!0;break}return n}(e,"isDisabled",t)},this.isDisabled=function(e){return e.hasAttribute(p)||"true"===e.getAttribute(h[p])},this.isExpanded=function(e){return L(e)?e.hasAttribute(S):!!w(e,h.expanded,!0)},this.isHidden=function(e,t,i){var r,s=e;if(e.nodeType!==Node.ELEMENT_NODE){if(e.nodeType!==Node.TEXT_NODE)return!1;if(!(s=e.parentNode)||s.nodeType!==Node.ELEMENT_NODE)return!1}if(r=I(s)?!s.hasAttribute(S):s.hasAttribute("hidden"),t||r)return r;if("hidden"===u(s,"visibility",!1,!0))return!0;if(i){if(n.contains(s,"wc-off")||"none"===u(s,"display",!1,!0)||"hidden"===u(s,"visibility",!1,!0))return!0}else if(s.parentNode&&0===s.offsetWidth&&0===s.offsetHeight)return!0;return!1},this.isMandatory=function(e){var t=!1;return(e.hasAttribute(f[D])||"true"===e.getAttribute(h[D])||e.tagName===r.FIELDSET&&n.contains(e,v))&&(t=!0),t},this.isReadOnly=function(e){return e.readOnly||!!w(e,h.readonly,!0)},this.isSelectable=function(e){var n,r,s=!1;return i.supportsNativeState(e,b)?s=!0:(n=a.get(e,!0),(r=t.getSupported(n))&&(s=!!(r=h[m].filter(function(e){return r[e]===t.SUPPORTED||r[e]===t.REQUIRED})).length)),s},this.isSelected=function(e){var n,r,s,o,u,l=!1,c=a.get(e,!0);if(c&&!i.supportsNativeState(e,b)){for(u=t.getSupported(c),n=h[m].length-1;n>=0;n--)if(o=u[r=h[m][n]]){if(null!==(s=w(e,r,!0))){l=s?d.state.SELECTED:w(e,r,"mixed")?d.state.MIXED:d.state.DESELECTED;break}if(o===t.REQUIRED)throw new TypeError("Required ARIA attribute not found! "+r)}}else l=T(e);return l},this.publish=function(t,i){return e.fire(t,this.events[i],{bubbles:!0,cancelable:!1,detail:{action:i}}),Promise.resolve()},this.state={SELECTED:!0,DESELECTED:!1,MIXED:0},this.subscribe=function(t,i){return e.add(document.body,this.events[t],function(e){return function(t){e(t.target,t.detail.action)}}(i))},this.toggle=function(e,t,i){var n;switch(t){case E.SHOW:case E.HIDE:n=d.isHidden(e,!0)?d.show:d.hide;break;case E.ENABLE:case E.DISABLE:n=d.isDisabled(e)?d.enable:d.disable;break;case E.DESELECT:case E.SELECT:n=d.isSelected(e)!==d.state.DESELECTED?d.deselect:d.select;break;case E.EXPAND:case E.COLLAPSE:n=d.isExpanded(e)?d.collapse:d.expand;break;default:throw new TypeError("Unknown action: "+t)}return n(e,i)},this.unsubscribe=function(t,i){return e.remove(document.body,t,i)}}});
define("wc/dom/isSuccessfulElement",["wc/dom/shed","wc/dom/tag"],function(e,t){"use strict";function c(c,s){var r,a;if(e.isDisabled(c)||!c.name)return!1;switch(r=c.tagName,a=c.type,r){case t.INPUT:switch(a){case"button":if(s)break;case"submit":case"reset":case"image":return!1;case"checkbox":case"radio":return e.isSelected(c)}break;case t.BUTTON:return!(!s||"submit"===a);case t.SELECT:return c.selectedIndex>=0;case t.OBJECT:return!c.hasAttribute("declare")}return!0}return c.getAll=function(e,t){var s,r,a,i=[];if(e&&e.nodeType===Node.ELEMENT_NODE)if(c(e,t))i.push(e);else if(e.childNodes)for(s=0;s<e.childNodes.length;s++)r=e.childNodes[s],(a=c.getAll(r,t)).length&&(i=i.concat(a));return i},c});
define("wc/dom/ariaGroup",["wc/array/toArray","wc/dom/aria","wc/dom/Widget","wc/dom/role"],function(n,t,e,r){"use strict";return new function(){function o(n){var t,r=[];return n.length>1&&~(t=n.indexOf("group"))&&n.splice(t,1),n.length&&(r=n.map(function(n){return new e("","",{role:n})})),r}this.getOwner=function(n){var t,r=n.id;return r&&(t=new e("","",{"aria-owns":r}).findDescendant(document.body)),t},this.getOwned=function(n){var t,e,r,o=n.getAttribute("aria-owns"),i=[];if(o)for(t=0,e=(o=o.split(/\s+/)).length;t<e;++t)(r=document.getElementById(o[t]))&&i.push(r);return i},this.getGroup=function(i,g,c){var u,l,s,a,d,h,f=g||r.get(i,!0),w=!0;return f&&(s=t.getMustContain(f)),s.length||(s=t.getScopedTo(f)),s&&s.length?(u=i,w=!1):u=this.getContainer(i,null,!0),u&&(w&&(f=r.get(u,!0),(s=t.getMustContain(f)).length||(s=t.getScopedTo(f))),s.length?(l=new e("","",{role:f}),(h=o(s)).length&&(a=n(e.findDescendants(u,h)))&&a.length&&(d=c?a:a.filter(function(n){return this.getContainer(n,l,!0)===u},this))):console.log("could not find any scoped roles")),d},this.getContainer=function(n,i,g){var c,u,l,s;return g||(l=this.getOwner(n)),l||(i?l=i.findAncestor(n):(s=r.get(n,!0))&&((c=t.getScope(s))&&c.length||(c=t.getScopedBy(s)),c&&c.length&&(0===(u=o(c)).length?u=null:1===u.length&&(u=u[0]),u&&(l=Array.isArray(u)?e.findAncestor(n,u):u.findAncestor(n))))),l}}});
define("wc/dom/group",["wc/dom/tag","wc/array/toArray","wc/dom/getAncestorOrSelf","wc/dom/ariaGroup","wc/dom/role"],function(e,t,n,r,a){"use strict";return new function(){this.get=function(n,o){var i,g,c;return(i=r.getOwned(n))&&i.length||!(c=r.getOwner(n))||(i=r.getOwned(c)),i&&i.length||(i=function(t,n){var r,a,o=n.tagName;return o&&(o!==e.INPUT||"checkbox"!==n.type&&"radio"!==n.type?o===e.SELECT?r=n.options:o===e.OPTGROUP?r=n.getElementsByTagName(e.OPTION):o===e.OPTION?(a=t.getContainer(n))&&(r=t.get(a)):o===e.TBODY&&(r=n.getElementsByTagName(e.TR)):n.name&&(r=document.getElementsByName(n.name))),r}(this,n)),i&&i.length||!(g=a.get(n))||(i=r.getGroup(n,g,o)),i?Array.isArray(i)||(i=t(i)):i=[],i},this.getGroup=function(e,n,r){var a,o;return r?(o=r.findAncestor(e),a=n.findDescendants(o),a=t(a).filter(function(e){return r.findAncestor(e)===o})):a=t(n.findDescendants(e)),a},this.getContainer=function(t,a){var o;return a?o=a.findAncestor(t):t.tagName!==e.OPTION&&t.tagName!==e.OPTGROUP||(o=n(t,e.OPTGROUP,e.SELECT))||(o=n(t,e.SELECT)),o||(o=r.getContainer(t,a)),o}}});
define("wc/dom/getFilteredGroup",["wc/dom/group","wc/dom/shed"],function(e,r){"use strict";var t=["selected","deselected","disabled","enabled","hidden","visible","expanded","collapsed"],n=["isSelected","isDisabled","isHidden","isExpanded"];function d(i,l){var o,s,a,c,u,f,b=!1,p=d.FILTERS,g=function(e){var d,i,l,o,s,a=!0;for(d=0;a&&d<t.length;d+=2)l=p[t[d]],o=p[t[1|d]],(s=c&(i=l+o))&&s!==i&&(a=!!(s&o)^r[n[Math.floor(d/2)]](e,b));return!!a};if(!i)throw new TypeError("Element can not be null");return l?(s=l.itemWd,a=l.containerWd,f=l.asObject,c=l.filter||p.selected|p.enabled,u=l.ignoreInnerGroups,b=!!l.shedAttributeOnly):c=p.selected|p.enabled,o=Array.isArray(i)?i:s?e.getGroup(i,s,a):e.get(i,u),f?{unfiltered:o,filtered:o.filter(g)}:o.filter(g)}return d.FILTERS=function(e){var r,t={};for(r=0;r<e.length;r++)t[e[r]]=1<<r;return t}(t),d});
define("wc/dom/serialize",["wc/dom/tag","wc/dom/isSuccessfulElement","wc/dom/getFilteredGroup"],function(e,n,t){"use strict";function r(){var r="=";function o(e){return encodeURIComponent(e).replace(/%5B%5D$/,"[]")}function a(e){var n=e.replace(/\[\]$/,"%5B%5D");return n=decodeURIComponent(n)}function l(n){var t=null,r=n.tagName;return r===e.INPUT||r===e.TEXTAREA?t=n.value:r===e.OPTION&&(null===(t=n.getAttribute("value"))?t=n.text:""===t&&(n.outerHTML?n.outerHTML.match(/value="[^"]*/gi)||(t=n.text):t=n.value)),t}function u(e){var n,t,o,a,l=r,u={},c=[],i=[];for(n=0,t=(c=e.split("&")).length;n<t;++n)o=(i=c[n].split(l))[0],a=2===i.length?i[1]:null,u[o]?u[o].push(a):u[o]=[a];return u}function c(e,n,t){var r=document.createElement("input");r.name=n,r.type="hidden",r.value=t,e.appendChild(r)}this.serialize=function(a,c,i,s){var g,m,d,f,h,p,v,y=[];for(a.tagName&&a.tagName===e.FORM&&(a=a.elements),g=0,m=a.length;g<m;g++){d=a[g];try{if(s&&!1===s(d))continue}catch(e){console.error(e)}if(n(d,c))if(d.tagName===e.SELECT)for(f=t(d),h=0;h<f.length;++h)null!==(v=l(f[h]))&&(y[y.length]=o(d.name)+r+encodeURIComponent(v));else null!==(v=l(d))&&(y[y.length]=o(d.name)+r+encodeURIComponent(v))}return p=y.join("&"),i&&(p=u(p)),p},this.deserialize=function(e,n){var t,r,o,l,i,s={};for(t in e.constructor===String&&(e=u(e)),e)if(r=a(t),o=e[t],Array.isArray(o))for(s[r]=[],l=0;l<o.length;l++)i=decodeURIComponent(o[l]),s[r].push(i),n&&c(n,r,i);else s[r]=o=decodeURIComponent(o),n&&c(n,r,o);return s}}return r.prototype.areDifferent=function(e,n){var t,r,o,a=!e||!n;return a||(t=Object.keys(e),r=Object.keys(n),!(a=t.length!==(o=r.length))&&o>0?a=!r.every(function(t){var r=!1,o=n[t],a=e[t];return o&&a&&o.length===a.length?(o.sort(),a.sort(),r=o.every(function(e,n){var r=a[n]===e;return r||console.log("Param has changed at idx",t,n,a[n],e),r})):console.log("Param has changed",t,a,o),r}):console.log("Form params changed",t,r)),a},new r});
define("wc/dom/formUpdateManager",["wc/dom/event","wc/dom/initialise","wc/Observer","wc/dom/uid","wc/dom/getAncestorOrSelf","wc/dom/shed","wc/dom/attribute","wc/dom/Widget"],function(e,t,n,i,r,c,o,a){"use strict";var u,d,s="fuminited",l={method:"writeState"};function f(){var t,i="FORM";function c(e){e.preventDefault()}function f(t,n){var i=n?"add":"remove";e.canCapture?n?(e[i](t,"click",c,-1,null,!0),e[i](t,"change",c,-1,null,!0),e[i](t,"keydown",c,-1,null,!0),e[i](t,"keypress",c,-1,null,!0)):(e[i](t,"click",c,!0),e[i](t,"change",c,!0),e[i](t,"keydown",c,!0),e[i](t,"keypress",c,!0)):n?(e[i](t,"click",c,-1),e[i](t,"keydown",c,-1),e[i](t,"keypress",c,-1)):(e[i](t,"click",c),e[i](t,"keydown",c),e[i](t,"keypress",c))}function p(e){var t,n=e.target;if(e.defaultPrevented)console.log("Submit event cancelled. Suscribers not notified.");else{t=o.has(n,s);try{t||(f(n,!0),o.set(n,s,!0)),u.update(n)||(e.preventDefault(),f(n),o.remove(n,s),console.info("Submit event was cancelled AFTER subscribers were notified."))}catch(e){f(n),o.remove(n,s),console.error("error in subscriber",e)}}}this.subscribe=function(e){function i(e){var n=e;return"function"==typeof e?t.subscribe(e):n=t.subscribe(e,l),n}return t||(t=new n,this.subscribe=i),i(e)},this.unsubscribe=function(e){t&&t.unsubscribe(e)},this.update=function(e,n,c){var o,u,s,l,f=e;return c||(f=r(f,i)),l="multipart/form-data",(s=r(u=f,i))&&(d=d||new a("input","",{type:"file"}),u.enctype!==l&&d.findDescendant(s)&&(s.enctype=l,s.setAttribute("enctype",l))),o=this.getStateContainer(f),this.clean(f),t&&t.notify(n||f,o),!0},this.initialise=function(t){var n,i,r;if(e.canCapture)e.add(t,"submit",p);else for(i=0,r=(n=document.forms).length;i<r;i++)e.add(n[i],"submit",p)}}return f.prototype.writeStateField=function(e,t,n,i,r){var c;return e&&t&&(i&&this.getStateField(e,t)?console.warn("Not writing duplicate state field",t):((c=document.createElement("input")).type="hidden",c.name=t,r&&c.setAttribute("data-wc-clean",r),void 0!==n&&null!==n&&(c.value=n),e.appendChild(c))),c||null},f.prototype.clean=function(e){this.getStateContainer(e).innerHTML=""},f.prototype.getStateContainer=function(e){var t=(e.id||(e.id=i()))+"_state_container",n=document.getElementById(t);return n||(n=document.createElement("div"),c.hide(n,!0),n.id=t,e.appendChild(n)),n},f.prototype.getStateField=function(e,t){return e.querySelector("input[type='hidden'][name='"+t+"']")},u=new f,t.addBodyListener(u),u});
define("wc/ajax/setLoading",[],function(){"use strict";return function t(e,r){var a,i,n,u,s=e.trigger,g=s.loads,o=g.length;for(u=0;u<o;u++)if(n=g[u])try{i=document.getElementById(n),r?(a=s.getTriggersFor(n,s.getRequestBuffer(),!0),i&&i.hasAttribute("aria-busy")?a.length<1&&i.removeAttribute("aria-busy"):a.length>0&&t(a[0])):i&&i.setAttribute("aria-busy",!0)}catch(t){console.warn(t)}}});
define("wc/ajax/Trigger",["wc/dom/tag","wc/dom/event","wc/dom/serialize","wc/dom/Widget","wc/dom/getAncestorOrSelf","wc/ajax/ajax","wc/dom/formUpdateManager","wc/has","wc/dom/initialise","wc/timers","wc/ajax/setLoading","wc/Observer"],function(e,t,r,i,o,n,s,a,l,u,c,g){"use strict";var f,h,d,m="Submit Query",p="undefined",y=[],T=!1,b=[],w=null,E=!1;function v(e,t){var r=e;return t&&(e?(r+="&",r+=t):r=t),r}function A(e){var t,r;return e.id&&((r=document.getElementById(e.id))?t=r:e.alias&&(r=document.getElementById(e.alias))?t=r:e.loads.length&&(r=document.getElementById(e.loads[0]))&&(t=r)),t}function S(t){var r;return typeof t.form!==p?r=t.form:t.tagName!==e.FORM&&(r=o(t,e.FORM)),r}function R(e,t,r){if(!e.id)throw new TypeError("Trigger id can not be empty");if(this.id=e.id,this.alias=typeof e.alias===p?null:e.alias,this.successful=typeof e.successful===p?null:e.successful,this.formRegion=e.formRegion,this.callback=function(){var e,r=this;try{t&&(e=t.apply(r,arguments))}finally{Promise.resolve(e).then(function(e){P(r,"after",{success:e})})}},this.onerror=function(e){try{r&&r.apply(this,arguments)}finally{P(this,"after",{error:e})}},this.urlFromForm=typeof e.urlFromForm===p?null:e.urlFromForm,this.url=typeof e.url===p?null:e.url,this.getData=e.getData,this.method=typeof e.method===p?this.METHODS.POST:e.method,this.serialiseForm=typeof e.serialiseForm===p||e.serialiseForm,this._submitTriggerElement=typeof e._submitTriggerElement!==p&&e._submitTriggerElement,!e.loads||!e.loads.length)throw new ReferenceError("An AJAX Trigger must target something");this.loads=Array.isArray(e.loads)?e.loads:[e.loads],this.profile={fired:0,sent:0,received:0},e.oneShot&&"false"!==e.oneShot?/^\d+$/.test(e.oneShot)?this.oneShot=e.oneShot:this.oneShot=1:this.oneShot=-1}function P(e,t,r){var i,o;e.profile.received=Date.now(),d&&(i=y.length>0,t&&(d.setFilter(t),"before"===t&&(i=!0)),(o=Object.create(e)).cbresult=r,d.notify(o,i))}function F(e){var t=this;this.cache=!1,this.postData=e.getParams(),this.trigger=e,this.responseType=n.responseType.XML,this.callback=function(r){var i=r&&r.documentElement?r:this.responseText;D(t,i,e,!1)},this.onError=function(r){D(t,r,e,!0)}}function D(e,t,r,i){var o;if(console.log("Got response for trigger",r.id),E)console.warn("Forbid AJAX response while unloading");else try{(o=y.indexOf(e))>=0?y.splice(o,1):console.warn("Got response for trigger that was not in pending queue",r.id);try{i?r.onerror&&r.onerror(t,r):r.callback(t,r),P(r)}catch(e){console.error(e)}}finally{T&&r.scheduleQueueProcessing()}}return l.addInitRoutine(function(){R.subscribe(function(e){c({trigger:e},!0)},1)}),l.addBodyListener({initialise:function(){h=new i("","",{"aria-busy":"true"}),a("ie")&&a("ie")<10&&t.add(window,"beforeunload",function(e){e.defaultPrevented||(E=!0)},1)}}),R.subscribe=function(e,t){var r=null;return t&&(r=t<0?{group:"before"}:{group:"after"}),d||(d=new g),d.subscribe(e,r)},R.unsubscribe=function(e,t){var r;d&&(t&&(r=t<0?"before":"after"),d.unsubscribe(e,r))},R.getUrl=function(e){var t;return(t=function e(t){var r,i,o;if(!t)throw new TypeError("trigger can not be null");return t.constructor===R?(i=t.url)||(console.log("Could not find URL on trigger Instance"),(r=A(t))&&(i=e(r))):(i=t.getAttribute("data-wc-ajaxurl"))||(console.log("Could not find URL for element ",t.id),(o=S(t))&&((i=e(o))||console.log("Could not find URL on form"))),i}(e))&&(t=(t=t.replace(/&amp;/gi,"&")).replace(/#.+$/g,"")),t},R.prototype.getTriggersFor=function(e,t,r){var i,o=[],n=t.length;for(i=0;i<n&&!(t[i].trigger.loads.indexOf(e)>=0&&(o[o.length]=t[i],r));i++);return o},R.prototype.getRequestBuffer=function(){return b},R.prototype.scheduleQueueProcessing=function(){function e(e){var t,r,i,o=e.trigger,n=o.loads,s=n.length;for(t=0;t<s;t++){if(o.getTriggersFor(n[t],y,!0).length)return!1;if((r=document.getElementById(n[t]))&&(i=h.findAncestor(r)||h.findDescendant(r))&&i!==r)return!1}return!0}null!==w&&u.clearTimeout(w),w=u.setTimeout(function(){for(console.log("Processing AJAX trigger queue");b.length;){if(!e(b[0])){T=!0,console.log("AJAX trigger queue blocked while pending UI update");break}T=!1,b.shift().send()}},500)},R.prototype.fire=function(){var e,t,r;return this.oneShot?(P(this,"before"),this.oneShot>0&&this.oneShot--,t=b.length-1,this.profile.fired=Date.now(),r=new F(this),b[t]&&b[t].trigger.id===this.id?(b[t]=r,console.log("Cancelling consecutive request for ",this.id)):(b.push(r),c(r)),this.scheduleQueueProcessing(),e=function(e){return new Promise(function(t,r){var i=function(o){var n;o&&e.id===o.id&&(R.unsubscribe(i,1),(n=o.cbresult)&&(n.error?r(n.error):t(n.success)))};R.subscribe(i,1)})}(this)):e=Promise.reject("Trigger has no more shots left: "+this.id),e},R.prototype.getParams=function(){var t,i="",o=A(this);try{this.serialiseForm&&o&&(i=function(t,i){var o,n,a,l="";(o=S(t))?(typeof i.formRegion!==p&&(n=document.getElementById(i.formRegion)),n?(s.update(o,n),a=s.getStateContainer(o),f=f||{INPUT:e.INPUT,SELECT:e.SELECT,TEXTAREA:e.TEXTAREA},l=v(l=v(l=v(l=v(l,r.serialize(n.getElementsByTagName(f.INPUT))),r.serialize(n.getElementsByTagName(f.SELECT))),r.serialize(n.getElementsByTagName(f.TEXTAREA))),r.serialize(a.getElementsByTagName(f.INPUT)))):(s.update(o),l=r.serialize(o))):console.warn("Could not find form");return l}(o,this)),this._submitTriggerElement&&o&&(i=v(i,function(t){var r="",i=t.name;i&&(i=encodeURIComponent(i),t.tagName===e.BUTTON&&"submit"===t.type?(r=i+"=",r+=t.value):t.tagName!==e.INPUT||"submit"!==t.type&&"image"!==t.type||(r=i+"=",t.hasAttribute&&!t.hasAttribute("value")?r+=m:r+=t.value));return r}(o))),this.getData&&(i=v(i,this.getData)),this._triggerParams&&(i=v(i,this._triggerParams)),this.alias?(t=this.alias,console.log("Reporting alias to server")):t=this.id,i=v(i,"wc_ajax="+(t=encodeURIComponent(t)))}finally{this._submitTriggerElement=!1}return i},R.prototype.METHODS={GET:"get",POST:"post"},F.prototype.send=function(){var e=this.trigger;if(E)console.warn("Forbid AJAX request while unloading");else if(this.url=R.getUrl(e),this.url)try{e.method===e.METHODS.GET&&this.postData&&(this.url.indexOf("?")>0?this.url=v(this.url,this.postData):this.url+="?"+this.postData,this.postData=""),y.push(this),e.profile.sent=Date.now(),n.simpleRequest(this)}catch(t){y.pop(),P(e),console.error(t)}else console.warn("Could not find URL for trigger",this.trigger.id)},R});
define("wc/dom/cookie",[],function(){"use strict";return new function(){var e;this.create=function(t,n,i){var r,o;i?(i<1001&&(i*=864e5),(o=new Date).setTime(o.getTime()+i),r="; expires="+o.toGMTString()):r="",e=null,document.cookie=t+"="+n+r+"; path=/"},this.read=function(t){var n,i,r,o=t+"=";if(e||(e=document.cookie)&&(e=e.split(";")),e)for(n=0,i=e.length;n<i;n++){for(r=e[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(o))return r.substring(o.length,r.length)}return null},this.erase=function(e){this.create(e,"",-1)}}});
define("wc/dom/storage",["wc/has","wc/dom/cookie"],function(e,o){"use strict";return e.add("native-sessionstorage",function(e){return void 0!==e.sessionStorage}),e.add("native-localstorage",function(e){return void 0!==e.localStorage}),new function(){var s=e("native-sessionstorage"),t=e("native-localstorage");this.put=function(e,i,n){e&&(n?s?window.sessionStorage[e]=i:(e+="_session",o.create(e,i)):t?window.localStorage[e]=i:o.create(e,i,365))},this.get=function(e,i){var n;return e&&(i?s?n=window.sessionStorage[e]:(e+="_session",n=o.read(e)):n=t?window.localStorage[e]:o.read(e)),n},this.erase=function(e,i){if(e)if(i)if(s)try{delete window.sessionStorage[e]}catch(o){void 0!==window.sessionStorage[e]&&(window.sessionStorage[e]="")}else e+="_session",o.erase(e);else if(t)try{delete window.localStorage[e]}catch(o){void 0!==window.localStorage[e]&&(window.localStorage[e]="")}else o.erase(e)}}});
define("wc/a8n",["wc/dom/initialise","wc/ajax/ajax","wc/ajax/Trigger","wc/timers","wc/Observer","wc/dom/storage"],function(e,t,r,n,i,u){var c,o,a={preInit:function(){f(!0,s.DOM_READY)},postInit:function(){f(!1,s.DOM_READY)},subscribe:function(e){if(!e)return;c||(c=new i);return c.subscribe(e)},unsubscribe:function(e){if(!e||!c)return;return c.unsubscribe(e)},clearSubscribers:function(){c&&(c.reset(),c.reset("onready"))},isReady:function(){var e=document.body;return e&&"true"===e.getAttribute(a.attr)},onReady:function(e){e&&(a.isReady()?window.setTimeout(e,0):(c||(c=new i),c.subscribe(e,{group:"onready"})))},attr:"data-wc-domready"},s={AJAX:1,TIMERS:2,AJAX_TRIGGER:4,DOM_READY:8},b=0;function d(e,t){f(t,s.AJAX_TRIGGER)}function f(e,t){var r,n,i,s,d;o&&window.clearTimeout(o),null!==t&&(e?b|=t:b&=~t),(d=document.body)&&(s=!b,i=a.isReady(),s!==i&&(o&&window.clearTimeout(o),n=function(e,t){return function(){var r=!b;e.setAttribute(t,r),c&&(c.notify(r),r&&(c.setFilter("onready"),c.notify(),c.reset("onready")))}}(d,a.attr),s?(r=u.get("wc.a8n.delay")||501,o=window.setTimeout(function(){n()},r)):n()))}n._subscribe(function(e){var t=document.body;t&&t.setAttribute("data-wc-timers",e);f(e,s.TIMERS)}),t.subscribe(function(e){var t=document.body;t&&t.setAttribute("data-wc-ajaxp",e);f(e,s.AJAX)}),r.subscribe(d),r.subscribe(d,-1);try{Object.freeze&&Object.freeze(a)}catch(e){console.warn(e)}return e.register(a),a});
define("wc/dom/textContent",["wc/has"],function(t){"use strict";return t.add("element-textcontent",function(t,n,e){return void 0!==e.textContent}),new function(){var n=t("element-textcontent")?"textContent":"innerText";this.get=function(t){return t[n]},this.set=function(t,e){t[n]=e}}});
define("wc/ui/tooltip",["wc/dom/event","wc/dom/initialise","wc/dom/shed","wc/dom/Widget","wc/timers"],function(e,t,n,i,d){"use strict";return t.register(new function(){var t,o=[],c=!1,u=5e3,s=new i("span","",{role:"tooltip"});function r(e){var i,o,l,a,f,m=s.findDescendants(document),w=e?"hide":"show";for(c=!e,i=0,a=m.length;i<a;++i)l=(o=m[i]).id,(!(f=document.getElementById(l.slice(0,l.indexOf("_wctt"))))||f&&!n.isDisabled(f))&&n[w](o,!0);e?t&&(d.clearTimeout(t),t=null):(t&&d.clearTimeout(t),t=d.setTimeout(r,u,!0))}function l(e){e.defaultPrevented||c||e.keyCode!==KeyEvent.DOM_VK_ALT||e.repeat||(c=!0,r(!1))}function a(e){c&&!e.defaultPrevented&&r(!0)}this.initialise=function(t){o.push(e.add(t,"keydown",l)),o.push(e.add(t,"keyup",a))},this.deinit=function(){e.remove(o)},this.getTooltip=function(e){return s.findDescendant(e)}})});
define("wc/dom/toDocFragment",["wc/has"],function(e){"use strict";var t,n,r=null,i=null;return e("ie")<9&&require(["wc/fix/html5Fix_ie8","wc/fix/noScope_ie8"],function(e,t){r=e,i=t}),function(c){var a,d,o,m,u,l,p,s;for(n||(n=window.document),a=n.createDocumentFragment(),l=c,s=n.createDocumentFragment(),l=l.replace(/<script.*?>.*?<\/script>/gi,""),p=n.createElement("div"),s.appendChild(p),p.insertAdjacentHTML("afterbegin",l),e("ie")<9?(t&&t.parentNode||((t=n.createElement("iframe")).setAttribute("style","display:none"),t.setAttribute("security","restricted"),n.body.appendChild(t)),d=t.contentWindow.document.createDocumentFragment(),r&&r(d)):d=n.createDocumentFragment(),o=(d.createElement?d:n).createElement("div"),m=d.appendChild(o),i?(m.innerHTML=i(c),i(m)):m.innerHTML=c;u=m.firstChild;)a.appendChild(u);return a}});
define("wc/ui/ajax/processResponse",["wc/Observer","wc/dom/tag","wc/dom/toDocFragment","wc/dom/Widget","wc/timers"],function(e,t,r,n,o){"use strict";var i={FILL:"replaceContent",REPLACE:"replace",APPEND:"append",IN:"in"};return new function(){var a,c,s={ajaxAttr:"data-wc-ajaxalias",replaceElement:function(e){var t=document.createElement("span");return e.parentNode.replaceChild(t,e),t.id=e.id,t.className="wc_magic",e.hasAttribute(this.ajaxAttr)&&t.setAttribute(this.ajaxAttr,e.getAttribute(this.ajaxAttr)),t},flagError:function(e){this.replaceElement(e.element).innerHTML=e.message},fetch:function(e){var t;this._errors&&((t=this._errors)&&t.flagError&&(s._errors=t),e&&e(s._errors||s))}},l="after";function d(e,t){var r,n;for(r=0;r<e.attributes.length;r++)(n=e.attributes[r]).name.indexOf("xmlns:")<0&&t.setAttribute(n.name,n.value)}function u(e,r,n,o,c){var s,d,u=o&&o.id?o.id:null;switch(n){case i.REPLACE:e.tagName!==t.BODY?s=h:console.warn("Refuse to replace BODY element, use action",i.FILL);break;case i.FILL:s=f;break;case i.APPEND:s=m;break;case i.IN:s=p;break;default:console.warn("Unknown action",n)}s&&(a&&!c&&a.notify(e,r,n,u),d=s(e,r),a&&!c&&d&&(Array.isArray(d)?d.forEach(function(e){a.setFilter(l),a.notify(e,n,u)}):(a.setFilter(l),a.notify(d,n,u))))}function f(e,t){var r,n,o=t;for(e.innerHTML="",g(C(o)),r=v(o);n=o.firstChild;)e.appendChild(n);return E(r,e),e}function m(e,t){var r,n,o=t;for(g(C(o)),r=v(o);n=o.firstChild;)e.appendChild(n);return E(r,e),e}function h(e,t){var r,n,o=e.parentNode,i=t,a=[e],c=[];for(e.removeAttribute("id"),a=a.concat(C(i)),r=v(i);n=i.firstChild;)n.nodeType===Node.ELEMENT_NODE?c[c.length]=o.insertBefore(n,e):i.removeChild(n);return g(a),1===c.length?c=c[0]:c.length||(c=null),E(r,o),c}function p(e,t){for(var r,n,o,i,a=document.createElement("div");r=t.firstChild;)a.appendChild(r),i=(o=r.id)&&(n=document.getElementById(o))?h(n,a):m(e,a),a.firstChild&&a.removeChild(a.firstChild);return i}function g(e){e.forEach(function(e){e.parentNode.removeChild(e)})}function E(e,r){var o,i,a,s,l,d,u=document.body;for(c=c||new n("form"),r&&r.nodeType===Node.ELEMENT_NODE&&(u=c.findAncestor(r)||document.body);e.length;)o=e.shift(),(i=document.createElement(t.SCRIPT)).setAttribute("defer","defer"),(l=o.className)&&(i.className=l),(s=o.getAttribute("src"))?i.setAttribute("src",s):i[a=o.textContent?"textContent":"text"]=o[a],(d=o.id)&&(i.id=d),u.appendChild(i)}function v(e){var r,n,o=[];try{for(r=void 0!==e.querySelectorAll?e.querySelectorAll(t.SCRIPT):e.getElementsByTagName(t.SCRIPT),n=0;n<r.length;n++)o[o.length]=r[n].parentNode.removeChild(r[n])}catch(e){console.error("Could not extract scripts from content ",e.message)}return o}function C(e){var t=[];function r(e){t[t.length]=e,e.removeAttribute("id")}return e&&(void 0!==e.querySelectorAll?function(e){var t,n,o,i=e.querySelectorAll("*[id]"),a=i.length;for(t=0;t<a;t++)(n=i[t].id)&&(o=document.getElementById(n))&&(console.info("Removing element to prevent duplicate ID",n),r(o))}(e):e.constructor===String&&function(e){for(var t,n,o,i=/id=['|"]?(([a-zA-Z0-9_*\-*]+))['|"]/g;t=i.exec(e);)o=t[1],(n=document.getElementById(o))&&(console.info("Removing element to prevent duplicate ID",o),r(n))}(e)),t}this.actions=i,this.subscribe=function(t,r){var n=null;return a=a||new e,r&&(n={group:l}),a.subscribe(t,n)},this.unsubscribe=function(e,t){var r;a&&(r=t?l:null,a.unsubscribe(e,r))},this.processResponseXml=function(e,t){return e?new Promise(function(n,o){"string"==typeof e?(function(e,t){var r,n,o,i,a,c,s,l,f=function(){require(["wc/ajax/handleError"],function(e){var r=e.getErrorMessage({status:200});t.onerror(r,t)})};if(e)if(c=e.querySelector?e.querySelector(".wc-ajaxresponse"):e.firstElementChild||e.firstChild){for(n=c.querySelectorAll(".wc-ajaxtarget"),l=0;l<n.length;++l)if((o=n[l]).parentNode.removeChild(o),o.nodeType===Node.ELEMENT_NODE)if(i=o.getAttribute("data-id"),a=document.getElementById(i)){for(d(c,o),s=o.getAttribute("data-action"),r=document.createDocumentFragment();o.firstChild;)r.appendChild(o.firstChild);u(a,r,s,t,!1)}else console.warn("Could not find element",i);c.children.length&&document.body.appendChild(e)}else console.warn("Response does not appear well formed"),f();else console.warn("Response is empty"),f()}(r(e),t),n()):o("Unknown response type")}):Promise.reject("Response is empty")},this.processError=function(e,t){var r,n,o=t.loads;o&&e&&s.fetch(function(t){var i;for(r=0;r<o.length;r++)(n=document.getElementById(o[r]))&&(i=s.replaceElement(n),t.flagError({element:i,message:e}))})},o.setTimeout(s.fetch,6e4)}});
define("wc/dom/cbrShedPublisher",["wc/dom/attribute","wc/dom/event","wc/dom/initialise","wc/dom/Widget","wc/dom/shed"],function(e,t,i,n,c){"use strict";return i.register(new function(){var i=new n("input","",{type:"radio"}),d=new n("input","",{type:"checkbox"}),r=[d,i],o="wc/dom/cbrShedPubliser-bootstrapped";function a(e){var t,i=e.target;i&&n.isOneOfMe(i,r)&&(t=c.isSelected(i)?c.actions.SELECT:c.actions.DESELECT,c.publish(i,t))}function s(i){var c=i.target;c&&n.isOneOfMe(c,r)&&!e.get(c,o)&&(e.set(c,o,!0),t.add(c,"change",a))}this.initialise=function(e){t.canCapture?t.add(e,"change",a):t.add(e,"focusin",s)},this.getWidget=function(e){return"cb"===e?d:"r"===e?i:r}})});
define("wc/ui/checkBox",["wc/dom/initialise","wc/dom/Widget","wc/dom/shed","wc/dom/formUpdateManager","wc/ui/ajax/processResponse","wc/dom/cbrShedPublisher"],function(e,t,n,c,i,o){"use strict";return e.register(new function(){var e=o.getWidget("cb"),r=new t("","wc-checkbox"),s=e.clone();function d(i,o){var d;r||(r=new t("","wc-checkbox"),(s=e.clone()).descendFrom(r,!0)),d=s.findDescendants(i),(d=Array.prototype.filter.call(d,function(e){return!(n.isSelected(e)||n.isDisabled(e))})).forEach(function(e){c.writeStateField(o,e.name,"")})}function a(n,c){n&&!e.isOneOfMe(n)&&Array.prototype.forEach.call(e.findDescendants(c),function(n){var c,i=n.id,o=n.getAttribute("data-wc-cbgroup"),r=new t("","",{"aria-controls":i}),s=e.extend("",{"data-wc-cbgroup":o});"checkbox"!==n.type||document.getElementById(i)||r.findDescendant(document.body)||(c=s.findDescendant(document.body))&&(r=new t("","",{"aria-controls":c.id}),Array.prototype.forEach.call(r.findDescendants(document.body),function(e){var t;(t=e.getAttribute("aria-controls"))?-1===(t=t.split(/\s+/)).indexOf(i)&&(t.push(i),t=t.join(" "),e.setAttribute("aria-controls",t)):e.setAttribute("aria-controls",i)}))})}s.descendFrom(r,!0),this.getWidget=function(t){return t?s:e},this.getWrapper=function(){return r},this.postInit=function(){c.subscribe(d),i.subscribe(a)},this.deinit=function(){c.unsubscribe(d),i.unsubscribe(a)}})});
define("wc/dom/diagnostic",["wc/dom/Widget","wc/dom/tag"],function(e,t){"use strict";return new function(){var s,n,i,r,E,u=t.SPAN,L="wc-fieldindicator",h="-type-",c="wc-message",a=new e(u,L);this.LEVEL={ERROR:1,WARN:2,INFO:4,SUCCESS:8},this.getIdExtension=function(e){if(!e||e===this.LEVEL.ERROR)return"_err";switch(e){case this.LEVEL.WARN:return"_wrn";case this.LEVEL.INFO:return"_nfo";case this.LEVEL.SUCCESS:return"_scc";default:return"_err"}},this.getBoxClass=function(e){var t,s=L;if(!e)return s;switch(t=s+h,e){case this.LEVEL.ERROR:return t+"error";case this.LEVEL.WARN:return t+"warn";case this.LEVEL.INFO:return t+"info";case this.LEVEL.SUCCESS:return t+"success";default:return null}},this.getMessageClass=function(){return c},this.getWidget=function(){return a},this.getMessage=function(){return E||(E=new e(u,c)).descendFrom(a,!0),E},this.getByType=function(e){if(!e)return a;switch(e){case this.LEVEL.ERROR:return s=s||a.extend(this.getBoxClass(this.LEVEL.ERROR));case this.LEVEL.WARN:return n=n||a.extend(this.getBoxClass(this.LEVEL.WARN));case this.LEVEL.INFO:return i=i||a.extend(this.getBoxClass(this.LEVEL.INFO));case this.LEVEL.SUCCESS:return r=r||a.extend(this.getBoxClass(this.LEVEL.SUCCESS));default:return null}},this.isOneOfMe=function(e,t){var s;return!!e&&(t?!!(s=this.getByType(t))&&s.isOneOfMe(e):a.isOneOfMe(e))},this.isMessage=function(e,t){var s,n;return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&((n=this.getMessage().isOneOfMe(e))&&t?!!(s=this.getByType(t))&&(s===a?n:!!s.findAncestor(e)):n)},this.getLevel=function(e){var t;if(!e||!a.isOneOfMe(e))throw new TypeError("Argument must be a diagnostic box");for(t in this.LEVEL)if(this.LEVEL.hasOwnProperty(t)&&this.isOneOfMe(e,this.LEVEL[t]))return this.LEVEL[t];return-1},this.getTarget=function(e){var t;return e&&e.nodeType===Node.ELEMENT_NODE&&a.isOneOfMe(e)&&(t=e.getAttribute("data-wc-dfor"))?document.getElementById(t):null}}});
define("wc/ui/icon",["wc/dom/classList","wc/dom/Widget"],function(e,t){"use strict";var n=new t("","fa",{"aria-hidden":"true"});function r(e){return function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("element must be an HTML element")}(e),n.isOneOfMe(e)?e:n.findDescendant(e)}function o(t,n,o){var i;if(!t||!n)throw new TypeError("arguments must be defined");if(n.constructor!==String)throw new TypeError("icon to "+(o?"add":"remove")+" argument must be a String");return!!(i=r(t))&&(e[o?"add":"remove"](i,n),!0)}function i(){}return i.prototype.change=function(t,n,o){var i;(n||o)&&(i=r(t))&&(o&&e.remove(i,o),n&&e.add(i,n))},i.prototype.remove=function(t,n){var i;o(t,n)&&(i=r(t),1===e.getLength(i)&&i.parentNode.removeChild(i))},i.prototype.add=function(e,t){o(e,t,!0)||e.insertAdjacentHTML("afterbegin","<i class='fa "+t+"' aria-hidden='true'></i>")},i.prototype.getWidget=function(){return n},i.prototype.get=function(e){return r(e)},new i});
define("wc/ui/feedback",["wc/array/toArray","wc/dom/diagnostic","wc/dom/classList","wc/dom/tag","wc/dom/wrappedInput","wc/ui/icon","wc/dom/getLabelsForElement","wc/config"],function(e,t,r,n,i,a,o,s){"use strict";var c;return c=new function(){var u=[n.INPUT,n.SELECT,n.TEXTAREA],d="beforeend";function l(e){var t;if(!e)throw new TypeError("element must not be falsey");if(!(t=e.constructor===String?document.getElementById(e):e)||!t.tagName)throw new TypeError("element does not represent an HTML Element");return t}function g(e,r){if(!e||!t.isOneOfMe(e)){if(r)return!1;throw new TypeError("Argument must be a feedback box")}return!0}function f(e,r){var n,a;if(e&&e.tagName&&(n=i.getInput(e)||e)){if(r)return n.removeAttribute("aria-invalid"),void n.removeAttribute("aria-describedby");(a=c.getBox(e,t.LEVEL.ERROR))?(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",a.id)):(a=c.getBox(e,-1))&&(n.removeAttribute("aria-invalid"),n.setAttribute("aria-describedby",a.id))}}function E(e){var r="fa-times-circle",n=s.get("wc/ui/feedback");if(n&&n.errorIcon&&(r=n.errorIcon),!e||e===t.LEVEL.ERROR)return r;switch(e){case t.LEVEL.WARN:return n&&n.warnIcon?n.warnIcon:"fa-exclamation-triangle";case t.LEVEL.INFO:return n&&n.infoIcon?n.infoIcon:"fa-info-circle";case t.LEVEL.SUCCESS:return n&&n.successIcon?n.successIcon:"fa-check-circle";default:return r}}function h(e){var r,i,a,o="class='";if(!e)throw new TypeError("Message must not be falsey");if(e.constructor!==String){if(!e.toString)throw new TypeError("Message must be a string");e=e.toString()}return r=(a=t.getMessage()).tagName,i=a.className,Array.isArray(i)&&(i=i.join(" ")),o+=i+"'",n.toTag(r,!1,o)+e+n.toTag(r,!0)}function L(e,t){var r,n;if(!t||t.constructor!==String)throw new TypeError("Message must be a string");if(n=c.getMessages(e))for(r=0;r<n.length;++r)if(t.toLocaleLowerCase()===n[r].innerHTML.toLocaleLowerCase())return;e.insertAdjacentHTML(d,h(t))}function m(r,i,a){return r&&i?function(r){var i,a,o,s,c,u,d,l=r.el,g=r.level||t.LEVEL.ERROR,f=r.messages,L="class='",m="id='",v="data-wc-dfor='";if(!(a=r.id||(l?l.id:null)))throw new TypeError("Cannot get error box without an id.");return s=(i=t.getByType(g)).tagName,m+=(o=a+t.getIdExtension(g))+"'",v+=a+"'",c=i.className,Array.isArray(c)&&(c=c.join(" ")),L+=c+"'",u=n.toTag(s,!1,[m,L,"role='alert'",v].join(" ")),(d=E(g))&&(u+="<i aria-hidden='true' class='fa "+d+"'></i>"),f&&(f.constructor===NodeList&&(f=e(f).map(function(e){return e.nodeType===Node.ELEMENT_NODE?e.innerHTML:e.textContent?e.textContent:null})),Array.isArray(f)?f.forEach(function(e){u+=h(e)}):u+=h(f)),{html:u+=n.toTag(s,!0),id:o}}({id:r,messages:Array.isArray(i)?i:[i],level:a}):null}function v(e,r){var n,i,a;if(!e&&!r)throw console.error("What! I am magic now? What do you want to remove you womble?"),new TypeError("You forgot the args");e&&g(e,!0)?(n=r||t.getTarget(e),i=e):r&&!e&&(i=c.getBox(r,-1),n=r),i&&((a=i.parentNode)&&a.removeChild(i),n&&f(n,!0))}function w(e){var r,n,i,a;return e?(r=e.element,n=e.message,i=e.level,r&&n&&i&&(r.constructor!==String||(r=document.getElementById(r)))?(a=c.getBox(r,i))?(c.change(a,i),c.addMessages(a,n),a.id):i===t.LEVEL.ERROR&&(a=c.getBox(r,t.LEVEL.SUCCESS))||i===t.LEVEL.SUCCESS&&(a=c.getBox(r,t.LEVEL.ERROR))?(c.change(a,i),c.addMessages(a,n),a.id):c.add({target:r,messages:n,level:i}):null):null}this.LEVEL=t.LEVEL,this.isOneOfMe=function(e,r){return t.isOneOfMe(e,r)},this.change=function(e,n,i){var o,s,c,u,d,l,h;if(g(e),!n||n<1)console.log("twit");else if((o=t.getLevel(e))!==n&&(c=t.getBoxClass(n),(s=t.getBoxClass(o))!==c)){if(l=t.getIdExtension(n),d=t.getIdExtension(o),h=e.id.replace(d,l),document.getElementById(h))return console.log("cannot create diagnostic box with duplicate id"),void this.clear(e);r.add(e,c),r.remove(e,s),e.id=h,this.clear(e),function(e,t,r){var n=E(t),i=E(r);a.change(e,i,n)}(e,o,n),(u=i||t.getTarget(e))&&f(u)}},this.clear=function(e){var t;g(e),(t=this.getMessages(e))&&Array.prototype.forEach.call(t,function(t){e.removeChild(t)})},this.addMessages=function(e,t){g(e),Array.isArray(t)?t.forEach(function(t){L(e,t)}):L(e,t)},this.getMessages=function(e){return g(e,!0)?t.getMessage().findDescendants(e):null},this.set=function(e,t){g(e),this.clear(e),t&&this.addMessages(e,t)},this.getBox=function(e,r){var n,a,o,s,c,u=r||this.LEVEL.ERROR;if(n=l(e),i.isWrappedInput(n)&&(n=i.getWrapper(n)),!n.id)return null;if(a=n.id,-1===u){if(o=(c=t.getWidget().clone().extend("",{"data-wc-dfor":a})).findDescendant(n))return o;for(s in this.LEVEL)if(o=this.getBox(e,this.LEVEL[s]))return o;return null}return(c=t.getByType(u).clone().extend("",{"data-wc-dfor":a})).findDescendant(n)||c.findDescendant(document.body)},this.getLast=function(e){var r,n;return(r=l(e)).id?(i.isWrappedInput(r)&&(r=i.getWrapper(r)),(n=t.getWidget().findDescendants(r))&&n.length?n[n.length-1]:null):null},this.add=function(e){var r,a,s,c=e.position,l=e.target,g=e.messages,E=e.level||t.LEVEL.ERROR;return g&&l&&l.nodeType===Node.ELEMENT_NODE?(i.isWrappedInput(l)&&(l=i.getWrapper(l)),l.tagName!==n.INPUT||"radio"!==l.type&&"checkbox"!==l.type?i.isOneOfMe(l)&&(c=d):c=(r=(r=o(l))&&r.length?r[0]:null)?d:"afterend",c||(c=~u.indexOf(l.tagName)?"afterend":d),r=r||l,(a=m(l.id,g,E))?(s=a.id,a=a.html,r.insertAdjacentHTML(c,a),f(l),s):null):(console.warn("trying to add nothing or to nothing"),null)},this._removeDiagnostic=v,this.remove=function(e,t,r){var n,i=r||this.LEVEL.ERROR;return!(!e||e.nodeType!==Node.ELEMENT_NODE||(this.isOneOfMe(e)?(v(e,t),0):!(n=this.getBox(e,i))||(v(n,e),0)))},this._flag=w,this.flagError=function(e){var t=e;return t.level=this.LEVEL.ERROR,w(t)},this.flagWarning=function(e){var t=e;return t.level=this.LEVEL.WARN,w(t)},this.flagInfo=function(e){var t=e;return t.level=this.LEVEL.INFO,w(t)},this.flagSuccess=function(e){var t=e;return t.level=this.LEVEL.SUCCESS,w(t)}}});
define("wc/ui/label",["wc/dom/classList","wc/dom/initialise","wc/dom/shed","wc/dom/event","wc/dom/tag","wc/dom/Widget","wc/dom/getLabelsForElement","wc/ui/ajax/processResponse","wc/dom/role","wc/dom/textContent","wc/dom/wrappedInput","wc/ui/checkBox","wc/ui/feedback"],function(e,t,n,i,o,r,a,d,c,s,u,l,f){"use strict";return t.register(new function(){var t,m=[o.INPUT,o.TEXTAREA,o.SELECT,o.FIELDSET],p=l.getWrapper(),E=[p,new r("","wc-radiobutton"),new r("button","wc-selecttoggle")],N={};function g(t,n){t.tagName!==o.LEGEND&&e[n](t,"wc_req")}function h(e){var t,i,o=e.target,r=e.type;o&&(t=u.isOneOfMe(o)?u.getInput(o):o)&&"radio"!==t.type&&(m.indexOf(t.tagName)>-1||c.has(t))&&(i=r===n.events.OPTIONAL?"remove":"add",a(o).forEach(function(e){g(e,i)}))}function w(e){var t,i=e.target,r=e.type;i&&(t=r===n.events.SHOW?"show":"hide",a(i,!0).forEach(function(e){!function(e,t){e.tagName!==o.LEGEND&&n[t](e)}(e,t)}))}function O(e,t,i){var o,r,a=t.parentNode;i?(o=document.createElement("span")).setAttribute("data-wc-rofor",e.id):(o=document.createElement("label"),(r=u.getInput(e))?o.setAttribute("for",r.id):m.indexOf(e.tagName)>-1&&o.setAttribute("for",e.id)),o.className=t.className,o.innerHTML=t.innerHTML,(r=r||e)&&"radio"!==r.type&&g(o,!i&&n.isMandatory(r)?"add":"remove"),n.isHidden(e,!0)&&n.hide(o,!0),o.id=t.id,t.id="",a.insertBefore(o,t),a.removeChild(t),i||require(["wc/ui/onchangeSubmit"],function(t){t.warn(e,o)})}function T(e,t){var n,i,o;if(!e||!t)throw new TypeError("Input and label must be defined.");if(!e||e.nodeType!==Node.ELEMENT_NODE||!t)throw new TypeError("Input must be an element.");if(t.constructor===String?((n=document.createElement("span")).innerHTML=t.trim(),n=n.firstElementChild):n=t,n&&n.nodeType===Node.ELEMENT_NODE){if(u.isReadOnly(e))return o=e.parentNode,void((i=e.nextSibling)?o.insertBefore(n,i):o.appendChild(n));(i=f.getBox(e,-1))&&i.parentNode===e?e.insertBefore(n,i):e.appendChild(n)}else console.error("label arg must be an Element or HTML String representing a single element")}function b(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&p.isOneOfMe(e)&&!u.isReadOnly(e)}function v(e){var t,n,i,o=a(e,!0);if(o&&o.length)if(t=o[0],b(e)){if(e.compareDocumentPosition(t)&document.DOCUMENT_POSITION_CONTAINED_BY)return;T(e,t)}else t!==e.nextElementSibling&&(n=e.parentNode,(i=e.nextSibling)?n.insertBefore(t,i):n.appendChild(t))}function y(e){var t=e||document.body;e&&r.isOneOfMe(e,E)?v(t):Array.prototype.forEach.call(r.findDescendants(t,E),v)}function L(e){var t,n;e&&b(e)&&(t=a(e))&&t.length&&(n=t[0],e.compareDocumentPosition(n)&document.DOCUMENT_POSITION_CONTAINED_BY&&(N[e.id]=n.outerHTML))}function M(e){e&&(function(e){var t,n=e.id,i=N[n];try{i&&p.isOneOfMe(e)&&((t=a(e,u.isReadOnly(e)))&&t.length||T(e,i))}finally{i&&delete N[n]}}(e),y(e),Array.prototype.forEach.call(u.get(e,!0),function(e){var t=u.isReadOnly(e);a(e,!0).forEach(function(i){var r,a=i.tagName===o.LABEL;t&&a||!t&&!a?O(e,i,t):((r=u.getInput(e))&&"radio"!==r.type&&g(i,!t&&n.isMandatory(r)?"add":"remove"),n.isHidden(e,!0)?n.hide(i,!0):n.show(e))})}))}this.postInit=function(e){i.add(e,n.events.MANDATORY,h),i.add(e,n.events.OPTIONAL,h),i.add(e,n.events.SHOW,w),i.add(e,n.events.HIDE,w),d.subscribe(L),d.subscribe(M,!0)},this.getHint=function(e){return e?(t=t||new r("","wc-label-hint")).findDescendant(e):null},this.setHint=function(e,t){var n=this.getHint(e);n?t?(s.get(n)&&n.insertAdjacentHTML("beforeend","<br>"),n.insertAdjacentHTML("beforeend",t)):n.parentNode.removeChild(n):t&&(n=o.toTag(o.SPAN,!1,"class='wc-label-hint'")+t+o.toTag(o.SPAN,!0),e.insertAdjacentHTML("beforeend",n))},this.preInit=function(e){y(e)},this._convert=O,this._ajax=M,this._checkboxLabelPositionHelper=T})});
define("wc/ui/getVisibleText",["wc/dom/textContent","wc/dom/shed","wc/ui/tooltip","wc/ui/label"],function(e,t,o,r){"use strict";function n(e){return t.isHidden(e,!1,!0)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return function(t,i,d){var c,u,l=t.cloneNode(!0);if((c=o.getTooltip(l))&&l.removeChild(c),i)for(;c=r.getHint(l);)c.parentNode.removeChild(c);return function(e){var t,o=document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT,n,!1);for(o.currentNode=e;t=o.nextNode();)o.currentNode=t.parentNode,t.parentNode.removeChild(t)}(l),u=e.get(l),d&&u?u.trim():u}});
define("wc/ui/getFirstLabelForElement",["wc/dom/getLabelsForElement","wc/ui/getVisibleText"],function(e,t){"use strict";return function(n,i,r){var u,c=e(n);return c&&c.length&&(u=c[0],i&&(u=t(u,!r))),u}});
define("wc/profilepoint",["wc/has","wc/dom/event","wc/dom/storage","wc/dom/shed","wc/dom/initialise","wc/ui/getFirstLabelForElement","wc/dom/tag","wc/dom/getAncestorOrSelf","wc/dom/formUpdateManager"],function(e,t,n,o,a,i,d,r,c){"use strict";var s,l,u,m,_,L=!1,T=!1,E={unknown:0,success:1,error:3},S="cprofile_timings",f={LAST_CLICK:"wc_lastClick",LAST_CLICK_LABEL:"wc_lastClickLabel",SUBMIT_START:"wc_submitStart"},w=new function(){function a(e,t){var n,o,a,i=window.performance.immiOriginCheck||0,r="last_click_load",m=window.performance.timing;e.tagName===d.FORM&&(a=m.domContentLoadedEventEnd-m.domContentLoadedEventStart,n=A("interface_controls",a,E.success),a=m.loadEventStart-m.domLoading,n+=A("html_start_load",a,E.success),i>=0&&(o=i?E.unknown:E.success,m.loadEventStart&&m.unloadEventEnd&&(a=m.loadEventStart-m.unloadEventEnd,n+=A("unload_load",a,o)),u&&(a=m.loadEventStart-u,n+=A("submit_load",a,o)),l&&(a=m.loadEventStart-l,s&&(r+="_"+s),n+=A(r,a,o))),c.writeStateField(t,S,n,!0))}function w(){L=!0,n.put(f.SUBMIT_START,Date.now(),!0),n.put(f.LAST_CLICK_LABEL,m,!0),n.put(f.LAST_CLICK,_,!0)}function C(e){var t,n=e.target;L||(m="",n.form?n.tagName===d.BUTTON?m=g(n):"submit"===n.type?m=n.value:(t=i(e.target),m=t?g(t):"no_label"):(t=r(n,d.A))&&(m=g(t)),m=m||"",_=Date.now())}function g(e){var t,n,a="",i=e.childNodes,d=i.length;for(t=0;t<d;t++)(n=i[t]).nodeType===Node.TEXT_NODE?a+=n.nodeValue:n.nodeType!==Node.ELEMENT_NODE||o.isHidden(n)||(a+=g(n));return a}function A(e,t,n,o){var a=e+"{time:"+t+",result:"+n;return(o||0===o)&&(a+=",size:"+o),a+="};"}this.initialise=function(){var o,i,d;if(!T)try{if(t.add(document.body,t.TYPE.click,C,-101),e("ie")&&e("ie")<10)for(o=document.forms,i=0,d=o.length;i<d;i++)t.add(o[i],t.TYPE.submit,w,-101);else t.add(document.body,t.TYPE.submit,w,-101);u=n.get(f.SUBMIT_START,!0),s=n.get(f.LAST_CLICK_LABEL,!0),l=n.get(f.LAST_CLICK,!0)}finally{T=!0,n.erase(f.SUBMIT_START,!0),n.erase(f.LAST_CLICK_LABEL,!0),n.erase(f.LAST_CLICK,!0)}c.subscribe(a)}};return a.addCallback(w.initialise),w});
define("wc/dom/focus",["wc/array/toArray","wc/dom/tag","wc/Observer","wc/dom/getStyle","wc/dom/shed","wc/dom/uid","wc/dom/Widget","wc/dom/getFilteredGroup","wc/timers"],function(e,t,n,i,o,r,u,c,s){"use strict";var a;return a=new function(){var l,d,f,h,E,m=null,T=null,v=null,F=null,b=null,N=!1;function w(){N||(N=!0,l=[t.A,t.AREA,t.AUDIO,t.BUTTON,t.FRAME,t.IFRAME,t.INPUT,t.OBJECT,t.SELECT,t.TEXTAREA,t.VIDEO],d=NodeFilter.FILTER_ACCEPT,f=NodeFilter.FILTER_REJECT,h=NodeFilter.FILTER_SKIP)}function p(e,t,n){var i=null;return t.setCallback(function(e){i=e===d||e===f?e:h},null),t.notify(e,n),i===d}function y(){var e;return T||(T=new n,e=g,y().subscribe(e)),T}function g(e,n){var i,r=h;return e&&(i=e.tagName,r=o.isDisabled(e)||o.isHidden(e)?f:i!==t.INPUT||"radio"!==e.type||o.isSelected(e)?D(e,n):c(e).length?f:d),r}function A(e){return I().subscribe(e)}function I(){return m||(m=new n,A(C),A(O)),m}function C(e,t){var n=h;return e&&(n="hidden"===e.type||o.isDisabled(e)||"hidden"===i(e,"visibility",!1,!0)||"none"===i(e,"display",!1,!0)?f:D(e,t)),n}function O(e,t){var n=C(e,t);return 0===e.offsetWidth&&0===e.offsetHeight&&(n=f),n}function R(e,t){var n=!1;return function(){n||"function"!=typeof t||(n=!0,t(e))}}function L(e){var t=h;return a.isTabstop(e)&&a.canFocus(e)&&(t=e!==document.activeElement?d:f),t}function D(e,t){var n=e.tagName.toUpperCase(),i=e.getAttribute("tabindex"),o=h;return i||"0"===i?i=parseInt(i,10):t.isNativelyFocusable(n)&&(i=0),(i||0===i)&&(o=i>=0?d:f),o}this.isTabstop=function(e){return!(!e||!e.nodeType)&&(w(),p(e,y(),this))},this.isNativelyFocusable=function(e){return w(),!!~l.indexOf(e)},this.canFocus=function(e){return w(),p(e,I(),this)},this.setFocusRequest=function(e,t){var n;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("Cannot focus something that ain't an element!");w(),F=e.id||(e.id=r()),v&&(s.clearTimeout(v),v=null),v=s.setTimeout(function(){try{F&&(n=document.getElementById(F))&&(b=R(n,t),document.activeElement!==n&&n.focus(),b())}catch(e){console.log("cannot focus element with id "+F+" "+e.message)}},0)},this.focusFirstTabstop=function(e,t,n){var i,o=null,r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,L,!1);w(),i=n?r.lastChild():r.firstChild();do{try{b=R(i,t),i.focus(),b(),o=i;break}catch(e){o=null}}while(i=n?r.previousNode():r.nextNode());return o},this.canFocusInside=function(t){var n=null,i=!1;return t.children&&(w(),E||(E=l.map(function(e){return new u(e)}).concat(new u("","",{tabindex:null}))),(n=u.findDescendants(t,E))&&n.length&&(i=(n=e(n)).some(this.canFocus,this))),i},this.getFocusableAncestor=function(e,t){var n,i,o=this;return e?!t&&this.canFocus(e)?e:(i=function(e){var t=h;return o.isTabstop(e)&&o.canFocus(e)&&(t=d),t},n=document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT,i,!1),w(),n.currentNode=e,n.parentNode()):null}}});
define("wc/dom/getBox",[],function(){"use strict";return function(t,i){var n,o={},e=t.getBoundingClientRect();for(n in e)o[n]=e[n];if(void 0===e.height&&(o.height=e.bottom-e.top),void 0===e.width&&(o.width=e.right-e.left),i)for(n in o)o[n]=Math.round(o[n]);return o}});
define("wc/dom/getViewportSize",["wc/dom/getBox"],function(t){"use strict";return function(e){var i,n={},d=document.documentElement,h=window.self,c=window.viewportView;return e?(n.width=d.clientWidth,n.height=d.clientHeight):c?(n.width=c.clientWidth,n.height=c.clientHeight):void 0!==h.innerWidth?(n.width=h.innerWidth,n.height=h.innerHeight):document.documentElement&&document.documentElement.getBoundingClientRect?(i=t(d),n.width=i.width,n.height=i.height):(n.width=d.clientWidth||document.body.clientWidth||0,n.height=d.clientHeight||document.body.clientHeight||0),n}});
define("wc/ui/backToTop",["wc/i18n/i18n","wc/dom/event","wc/dom/focus","wc/dom/initialise","wc/dom/getViewportSize","wc/dom/shed","wc/dom/Widget","wc/has","wc/config"],function(e,n,o,t,c,i,d,s,l){"use strict";if(s("ie"))return null;return t.register(new function(){var t,s=new d("a","wc_btt"),r=0,a=!0;function u(e){var n=document.documentElement;a&&!e.defaultPrevented&&s.findAncestor(e.target)&&(e.preventDefault(),n.scrollIntoView?n.scrollIntoView():n.scrollTop=0,o.focusFirstTabstop(n))}function w(n){var o=s.findDescendant(document.body);n?(o||((o=document.createElement("a")).className="wc_btt",o.href="#",o.innerHTML="<i class='fa fa-chevron-circle-up fa-5x'></i><span class='wc-off'>"+e.get("back_to_top")+"</span>",document.body.appendChild(o)),i.show(o,!0)):o&&i.hide(o,!0)}function f(e){e.keyCode===window.KeyEvent.DOM_VK_ESCAPE&&w()}function m(){w((document.documentElement.scrollTop||document.body.scrollTop)>(r>0?r:c().height))}function p(e){var o=e?"add":"remove",t=document.body;n[o](t,"click",u),n[o](t,"keydown",f),n[o](window,"scroll",m),n[o](window,"resize",m)}this.initialise=function(){this.setEnabled(!0)},this.setEnabled=function(e){a=!!e,e?(t=t||l.get("wc/ui/backToTop",{scroll:r}),r=t.scroll):w(!1),p(e)},this.deinit=function(){p(!1)}})});
define("wc/date/addDays",[],function(){"use strict";return function(t,e){e.setDate(e.getDate()+t)}});
define("wc/date/copy",[],function(){"use strict";return function(e){var t=new Date;return t.setTime(e.getTime()),t}});
define("wc/date/dayName",["wc/i18n/i18n"],function(a){"use strict";return new function(){var n;this.get=function(t){var d;return n||(n=a.get(["day0","day1","day2","day3","day4","day5","day6"])),d=n.concat(),t&&d.push(d.shift()),d}}});
define("wc/date/isLeapYear",[],function(){"use strict";return function(e){return e%4==0&&(e%100||e%400==0)}});
define("wc/date/daysInMonth",["wc/date/isLeapYear"],function(e){"use strict";return function(n,t){return 2===t?n||0===n?e(n)?29:28:29:[void 0,31,void 0,31,30,31,30,31,31,30,31,30,31][t]}});
define("wc/date/getDifference",[],function(){"use strict";return function(e,t,r){var n=1;if(e.constructor!==Date||t.constructor!==Date)throw new TypeError("Cannot compare dates which are not of the same type");return r||(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=864e5),(e-t)/n}});
define("wc/i18n/asciify",["wc/i18n/i18n"],function(e){"use strict";var n,r="asciimap",t={};function o(t){var o,i,c,a=null,s=n||(n=function(){var n,t,o,i,c,a={},s=e.get(r);try{if(s){for(s=window.JSON.parse(s),console.log("Got ascii map:",window.JSON.stringify(s)),n=0,t=(c=Object.keys(s)).length;n<t;n++)(o=c[n])&&(o=o.trim())&&(i=s[o])&&(i=i.trim())&&(a[o.toLocaleUpperCase()]=i.toUpperCase(),a[o.toLocaleLowerCase()]=i.toLowerCase());Object.freeze&&Object.freeze(a)}else console.warn("Could not find ascii map ",r)}catch(e){console.warn(e)}return a}()),f=Object.keys(s);for(i=0,c=f.length;i<c;i++)(o=f[i])&&o.indexOf(t)>=0&&(a=s[o]);return a}return function(e){var n,r,i,c="";if(e)for(n=0;n<e.length;n++)i=null,(r=e[n]).charCodeAt(0)>128&&(i=t[r]||(t[r]=o(r))),c+=i||r;else c=e;return c}});
define("wc/date/monthName",["wc/i18n/i18n","wc/i18n/asciify"],function(n,t){"use strict";return new function(){var o,h,m,r;function b(){var b=!1;o=n.get(["month0","month1","month2","month3","month4","month5","month6","month7","month8","month9","monthA","monthB"]),h=n.get(["monthabbr0","monthabbr1","monthabbr2","monthabbr3","monthabbr4","monthabbr5","monthabbr6","monthabbr7","monthabbr8","monthabbr9","monthabbrA","monthabbrB"]),m=new Array(o.length),o.forEach(function(n,o){var h=t(n);b|=h!==n,m[o]=h}),b?r=h.map(t):(m=null,r=null)}this.get=function(n,t){return o||b(),(t&&m?n?r:m:n?h:o).concat()},this.hasAsciiVersion=function(){return o||b(),!!m}}});
define("wc/date/today",["wc/date/copy"],function(t){"use strict";return new function(){var n=new Date;this.set=function(t){n=t},this.get=function(){return t(n)}}});
define("wc/date/interchange",["wc/date/today","lib/sprintf"],function(t,n){"use strict";return new function(){var e="?",r=/[^\d]/g,i=/([\d?]{4})-?([\d?]{2})-?([\d?]{2})(?:T(\d{2}):(\d{2}):(\d{2}))?/;function u(n,r){var u,a=t.get(),s=n.match(i),d={1:a.getFullYear(),2:1,3:1,4:0,5:0,6:0},o=function(t){var n=s[t];return n&&n.indexOf(e)<0?n:r?d[t]:null};return s&&(u=[o(1),o(2),o(3),o(4),o(5),o(6)]),u}this.isComplete=function(t){var n=!1;return t&&8===t.replace(r,"").length&&(n=!0),n},this.isValid=function(t){return!(!t||!i.test(t))},this.fromDate=function(t,e){var r=e?"%04d-%02d-%02dT%02d:%02d:%02d":"%04d-%02d-%02d";return n.sprintf(r,t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},this.toDate=function(t){var n,e=u(t,!0);return e&&(n=new Date(e[0],e[1]-1,e[2],e[3],e[4])),n},this.fromValues=function(t){var e=n.sprintf("%'?2s",""),r=n.sprintf("%'?4s",""),i=t.year||r,u=t.month||e,a=t.day||e;return n.sprintf("%04s-%02s-%02s",i,u,a)},this.toValues=function(t){var n,e=u(t,!1);return e&&(n={year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5]}),n}}});
define("wc/dom/viewportCollision",["wc/dom/getBox","wc/dom/getViewportSize"],function(t,e){"use strict";return function(o){var i={n:0,e:0,s:0,w:0},n=t(o),r=e(!0);return n.left<0&&(i.w=n.left),n.right>r.width&&(i.e=n.right-r.width),n.top<0&&(i.n=n.top),n.bottom>r.height&&(i.s=n.bottom-r.height),i}});
define("wc/isNumeric",[],function(){"use strict";return function(n){var i=!1;return null!==n&&(n*=1,i=!isNaN(n)),i}});
define("wc/array/unique",[],function(){"use strict";return function(n,r){var e,t,u,f,i=[];for(e=0;e<n.length;e++){for(f=n[e],u=!1,t=0;t<i.length;t++)if(r&&0===r(f,i[t])||!r&&f===i[t]){u=!0;break}u||(i[i.length]=f)}return i}});
define("wc/array/search",[],function(){"use strict";return function(r,t){var n,e,c=r.length;for(n=0;n<c;n++)if((e=r[n])&&(e.constructor===String||(e=e.toString?e.toString():null))&&e.search(t)>-1)return n;return-1}});
define("wc/date/pivot",[],function(){"use strict";return new function(){var e=15;this.set=function(n){if(!(n>0&&n<101))throw new RangeError("value must be between 1 and 100 (inclusive)");e=n},this.get=function(){return e}}});
define("wc/date/expandYear",["wc/date/today","wc/date/pivot"],function(t,e){"use strict";return function(r){var a=t.get().getFullYear(),n=a.toString().substr(0,2),s=e.get()+parseFloat(a.toString().substr(2,2));return r=parseInt(r,10),r%=100,s>=100&&(++n,s-=100),r>s&&--n,parseFloat(100*n+r)}});
define("wc/date/pattern",["wc/date/dayName","wc/date/monthName","wc/array/search","wc/date/today","wc/date/expandYear","wc/string/escapeRe","wc/date/addDays","wc/i18n/asciify"],function(e,n,t,r,a,o,i,c){"use strict";var s="year",w="month",u="day",d="separator",y="monthName";function h(e,n,t,r){this.name=e,this.input=n,void 0!==r&&(this.output=r),void 0!==t&&(this.normalise=t)}function f(e){var n=e.year;2===n.length&&(n=a(n)),n*=1,e.year=n}function p(e){var r,a,i;w in e&&(r=1*(r=e.month)?1*r:"",e.month=r),y in e&&(a=e.monthName,i=new RegExp(o(a),"i"),(r=t(n.get(),i)+1)<1&&n.hasAsciiVersion()&&(r=t(n.get(!1,!0),i)+1),e.month=r)}function l(e){var n=e.day;n=1*n?1*n:"",e.day=n}function m(e){var n=e.shortForm,t=r.get();switch(n.toLocaleUpperCase()){case"Y":case"M":i("Y"===n.toLocaleUpperCase()?-1:1,t);case"T":e.day=t.getDate(),e.month=t.getMonth()+1,e.year=t.getFullYear()}}function g(e){var n=r.get();i(parseInt(e.relative,10),n),e.day=n.getDate(),e.month=n.getMonth()+1,e.year=n.getFullYear()}function v(){return I(n.get())}function M(){return I(e.get())}function Y(){return N(["T","Y","M"],1)}function I(e){var n=e.storedPattern;return n||(n=N(e,3),e.storedPattern=n),n}function N(e,n){var t,r,a,o,i,c,s=new C;for(t in e)if(e.hasOwnProperty(t))for(a=n,o=(r=e[t]).length;a<=o;a++)i=r.substring(0,a),s.add(D(i));return c="("+s.join()+")",s=null,c}function C(){this.store={}}function D(e){var n,t,r,a,o,i="";for(r=0,a=e.length;r<a;r++){o=e.substr(r,1);try{t=o.toLocaleLowerCase(),t+=o.toLocaleUpperCase(),(n=c(t))&&n!==t&&(t+=n)}catch(e){i+=o}i+="["+t+"]"}return i}return h.prototype.output=function(){},h.prototype.normalise=function(){},C.prototype.add=function(e){this.store[e]=e},C.prototype.join=function(){var e,n="",t=this.store;for(e in t)t.hasOwnProperty(e)&&(n+=t[e],n+="|");return n=n.replace(/\|$/,"")},{G:new h("era","(BC|AD)"),y:new h(s,"(18[0-9]{2}|19[0-9]{2}|2[0-9]{3}|[0-9]{2}|[0-9]{2})",f),"y?":new h(s,"([0-9]{2}|18[0-9]{2}|19[0-9]{2}|2[0-9]{3})",f),yy:new h(s,"([0-9]{2})",f),yyyy:new h(s,"(18[0-9]{2}|19[0-9]{2}|2[0-9]{3}|[0-9]{4})",f),M:new h(w,"(12|11|10|0[1-9]|[1-9])",p),"M?":new h(w,"([1-9]|0[1-9]|10|11|12)",p),MM:new h(w,"(12|11|10|0[1-9])",p),MON:new h(y,v,p),w:new h("weekInYear","[wW]([0-9]{2})"),W:new h("weekInMonth","_not_defined_"),D:new h("dayInYear","(00[1-9]|0[1-9][0-9]|[1-2][0-9][0-9]|3[0-5][0-9]|3[6][0-6])"),d:new h(u,"(31|30|[1-2][0-9]|0[1-9]|[1-9])",l),"d?":new h(u,"([1-9]|0[1-9]|[1-2][0-9]|30|31)",l),dd:new h(u,"(31|30|[1-2][0-9]|0[1-9])",l),F:new h("dayInWeek","(0[1-7])"),E:new h("dayInWeekName",M)," ":new h(d,"([ \\\\\\/\\.-])"),"/":new h(d,"(\\/)"),"-":new h(d,"(\\-)"),"+-":new h("relative","(\\+[0-9]+|\\-[0-9]+)",g,null),ytm:new h("shortForm",Y,m,null)}});
define("wc/date/explodeMask",["wc/string/escapeRe","wc/date/pattern"],function(e,n){"use strict";return function(t,r){for(var i,a,d,l,s=[];;){for(d in a=null,i=null,n)(l=n[d].patternAsRe)||(l=new RegExp(e(d)),n[d].patternAsRe=l),l.lastIndex=0,(a=l.exec(t))&&(!i||a.index<i.index||a.index===i.index&&a[0].length>i[0].length)&&((i=a).pattern=d);if(r&&i&&0!==i.index){s=[];break}if(null===i)break;s.push(i.pattern),t=t.substr(i.index+i[0].length)}return s}});
define("wc/date/Parser",["wc/date/today","wc/date/pattern","wc/date/interchange","wc/date/explodeMask"],function(t,n,e,a){"use strict";var r=null;function i(){this.toXfer=function(){return e.fromValues(this)},this.toDate=function(){var t=this.toString();return e.toDate(t)}}return function(){var e=!1,o=null,s=!1;this.parse=function(e){var s,u,h,l,f,c,g,d,p,m,y,w,D=[],v=function(){var t,e,i,s,u,h=[],l=null;for(t=0;t<o.length;t++)if(l=o[t],r&&l in r)h.push(r[l]);else{for(e=a(l,!0),i="^",s=0;s<e.length;s++)(u=n[e[s]].input).constructor===Function&&(u=u()),i+=u;i+="$",i=new RegExp(i),h.push({mask:l,compiled:i,pattern:e}),r||(r={}),r[l]=h[h.length-1]}return h}();for(e=e.toString().trim(),h=0,l=v.length;h<l;h++)if(s=v[h],null!==(u=e.match(s.compiled))){for(f=new i,g=[],d=(c=s.pattern).length;d--;)p=c[d],m=n[p],g.push(m.normalise),f[m.name]=u[d+1];for(d=g.length;d--;)g[d](f,this);if(f.day&&f.month&&f.year){if(y=new Date(f.month+"/"+f.day+"/"+f.year),this.isExpandYearIntoPast())for(w=t.get();y>w;)y=new Date(f.month+"/"+f.day+"/"+(f.year=f.year-100));if(this.isRolling())f.day=y.getDate(),f.month=y.getMonth()+1,f.year=y.getFullYear();else if(f.day!==y.getDate()||f.month!==y.getMonth()+1||f.year!==y.getFullYear())continue;f.date=y}D.push(f)}return D},this.setRolling=function(t){e=t},this.isRolling=function(){return e},this.setMasks=function(t){o=t},this.getMasks=function(){return o||null},this.setExpandYearIntoPast=function(t){s=t},this.isExpandYearIntoPast=function(){return s}}});
define("wc/date/Format",["wc/date/interchange","wc/date/monthName"],function(e,a){"use strict";var r=/y{2,4}|d+|MON|M{2,4}|H+|m+|h+|a+|s+/g,t=/\s{2,}/g;function s(e){if(this.mask=e,!e)throw new TypeError("mask must be provided")}function c(e,a,r){var t=e.hour;return t&&(a||r)&&((t*=1)||0===t)&&(a&&(t>12?t-=12:0===t&&(t=12)),r&&t<10&&(t="0"+t)),t}return s.prototype.format=function(s){var n=!1,o=e.toValues(s),u=o?this.mask.replace(r,function(e){var r,t=!1;switch(e){case"MM":r=o.month;break;case"MON":case"MMM":t=!0;case"MMMM":o.month&&(r=a.get(t)[o.month-1]),t=!1;break;case"d":r=o.day?1*o.day:null;break;case"dd":r=o.day;break;case"yy":r=o.year?o.year.substr(2):null;break;case"yyyy":r=o.year;break;case"HH":r=c(o,!1,!1);break;case"h":r=c(o,!0,!1);break;case"hh":r=c(o,!0,!0);break;case"mm":r=o.minute;break;case"a":r=o.hour||0===o.hour?o.hour<12?"AM":"PM":"";break;case"ss":r=o.second;break;default:n=!0}return r||" "}):"";return n?u="":u&&(u=(u=u.trim()).replace(t," ")),u},s});
define("wc/ajax/triggerManager",["wc/dom/getAncestorOrSelf","wc/dom/tag"],function(e,t){"use strict";return new function(){var r={};function g(r){var g;return r.tagName===t.A?r.parentNode&&(g=e(r.parentNode,t.A)):g=e(r,t.A),!g&&function(e){return[t.INPUT,t.BUTTON,t.SELECT,t.TEXTAREA,t.A].some(function(t){return e.tagName===t})}(r)&&(g=e(r,t.FIELDSET)),g}this.addTrigger=function(e){var t=e.id;this.getTrigger(t)&&console.info("Overwriting existing trigger",t),r[t]=e},this.getTrigger=function(e,t){var i,n,o,a;return e&&(e.constructor===String?r.hasOwnProperty(e)&&(console.log("Finding trigger by id"),i=r[e]):((n=e.id)&&(console.log("Found trigger by element (id match)"),i=this.getTrigger(n)),!i&&(n=e.name)&&(console.log("Found trigger by element (name match)"),i=this.getTrigger(n)),!i&&(n=e.getAttribute("data-wc-ajaxalias"))&&(console.log("Finding trigger by alias match"),i=this.getTrigger(n)),i||t||(a=g(e))&&(console.log("Looking for ancestor trigger"),i=this.getTrigger(a,t)))),i&&(e.getAttribute&&(o=e.getAttribute("data-wc-params"))?i._triggerParams=o:delete i._triggerParams),i},this.removeTrigger=function(e){delete r[e]}}});
define("wc/ui/cancelUpdate",["wc/i18n/i18n","wc/ajax/triggerManager","wc/dom/uid","wc/dom/event","wc/dom/initialise","wc/dom/serialize","wc/dom/isSuccessfulElement","lib/sprintf","wc/dom/Widget","wc/dom/formUpdateManager","wc/dom/focus","wc/ui/ajax/processResponse"],function(e,n,t,i,r,c,o,s,a,d,l,u){"use strict";var f;return f=new function(){var r,m,v,g,w,h=!1,b=new a("FORM"),p={},A="-recalc";function E(e){return c.serialize(e,!0,!0,y)}function y(e){return!e.hasAttribute("data-wc-clean")}function O(e){var n,t=!1;if(!(t=!!(g=g||b.extend("wc_unsaved")).findDescendant(document.body))){if(!(n=e.id)||!p[n])return!1;d.clean(e),t=c.areDifferent(p[n],E(e))}return t}function D(e){var n;e&&(n=e.id)&&(p[n]=E(e))}function _(e){var t,i;return(!e||!n.getTrigger(e))&&((i=(w=w||new a("BUTTON","wc_btn_cancel")).findAncestor(e))&&(t=i.id),t)}function j(e){var n,t,i=e.target;e.defaultPrevented||((t=_(i))?(r=t,(n=b.findAncestor(i))&&f.cancelSubmission(n)&&(r=null,e.preventDefault())):r&&(r=null))}function k(e){var n,t;if(e&&(n=b.findAncestor(e))){if(!n.id)return;if(t=n.id,!p[t])return;t=n.id+A,O(n)?p[t]&&delete p[t]:p[t]=!0}}function x(e){var n,t;e&&(n=b.findAncestor(e))&&(t=n.id+A,p[t]?(d.clean(n),D(n),delete p[t]):f.addElements(e))}function z(e){var n=e.id;n&&p[n]&&D(e)}function F(e){var n;e&&(n=e.id||(e.id=t()),p[n]||D(e))}this.resetAllFormState=function(){Array.prototype.forEach.call(b.findDescendants(document),z)},this.addElements=function(e){var n,t=o.getAll(e,!0);for(n=0;n<t.length;n++)this.addElement(t[n])},this.addElement=function(e){var n,t,i,r,o,s,a;if(e&&(n=e.form)&&n.id&&(i=p[n.id]))for(t=[e],r=c.serialize(t,!0,!0,y),o=Object.keys(r),a=0;a<o.length;a++)s=o[a],i.hasOwnProperty(s)?i[s]=i[s].concat(r[s]):i[s]=r[s];else console.log("Could not add state for element",e)},this.removeElements=function(e){var n,t=o.getAll(e,!0);for(n=0;n<t.length;n++)this.removeElement(t[n])},this.removeElement=function(e){var n,t,i,r,o,s,a,d,l;if(e&&(n=e.form)&&n.id&&(i=p[n.id])){for(t=[e],r=c.serialize(t,!0,!0,y),o=Object.keys(r),a=0;a<o.length;a++)if(s=o[a],i.hasOwnProperty(s))for(;r[s].length>0;)d=r[s].pop(),(l=i[s].indexOf(d))>-1&&i[s].splice(l,1)}else console.log("Could not remove state for element",e)},this.initialise=function(n){return i.add(n,"click",j,-100),e.translate(["cancel_title","cancel_message"]).then(function(e){m=e[0],v=e[1]})},this.postInit=function(){Array.prototype.forEach.call(b.findDescendants(document),F),u.subscribe(k),u.subscribe(x,!0)},this.deinit=function(e){i.remove(e,"click",j,-100),u.unsubscribe(k),u.unsubscribe(x,!0)},this.cancelSubmission=function(e){var n,t;return!!(r&&(n=document.getElementById(r))&&l.canFocus(n)&&(t=b.findAncestor(e))&&_(n)&&O(t)&&function(e,n){var t,i,r,c=m,o=v,a=!0;return h||((r=n?n.getAttribute("data-wc-btnmsg"):"")||((t=b.findAncestor(e))&&(i=t.getAttribute("title"))&&(c=i),r=s.sprintf(o,c)),a=window.confirm(r)),h=a,!a}(t,n))&&(d.clean(e),l.setFocusRequest(n),!0)}},r.register(f)});
define("wc/key",[],function(){"use strict";return new function(){var e;function t(){var e,t=[];for(e in KeyEvent)t[KeyEvent[e]]=e;return t}this.getLiteral=function(n){return(e||(e=t()))[n]},this.getKeysPressed=function(n){var K=[],i=n.keyCode;return n.altKey&&(K[K.length]="DOM_VK_ALT"),n.ctrlKey&&(K[K.length]="DOM_VK_CONTROL"),n.metaKey&&(K[K.length]="DOM_VK_META"),n.shiftKey&&(K[K.length]="DOM_VK_SHIFT"),this.isMeta(i)||(K[K.length]=(e||(e=t()))[i]),K.join("+")},this.isMeta=function(e){return e===KeyEvent.DOM_VK_ALT||e===KeyEvent.DOM_VK_CONTROL||e===KeyEvent.DOM_VK_META||e===KeyEvent.DOM_VK_SHIFT}}});
define("wc/debounce",["wc/timers"],function(n){return function(e,r){var t;return function(){var c=this,o=arguments;(t||0===t)&&n.clearTimeout(t),t=n.setTimeout(function(){try{e.apply(c,o)}catch(n){console.error("Error in debounced function",n)}},r)}}});
define("wc/ui/ajaxRegion",["wc/dom/event","wc/debounce","wc/dom/attribute","wc/dom/isSuccessfulElement","wc/dom/tag","wc/ajax/Trigger","wc/ajax/triggerManager","wc/dom/shed","wc/dom/Widget","wc/dom/initialise","wc/ui/ajax/processResponse","wc/dom/classList","wc/mixin","wc/timers"],function(e,t,i,r,n,a,c,s,o,u,g,d,l,f){"use strict";var m;return m=u.register(new function(){var h,T="wc.ui.ajaxRegion.inited",w=new o(n.A),v=/^[\w]+:[^/].*$/,E=!1,b=[];function p(e,t){var i,n=!1;return t&&(null===t.successful?n=!0:(i=r(e,!0),(!0===t.successful&&i||!1===t.successful&&!i)&&(n=!0))),n&&(t._submitTriggerElement=!0,t.fire()),n}function y(e){var t;return!!(t=m.getTrigger(e))&&p(e,t)}function A(e){var t=e.target,i=t.type;!t||t.tagName!==n.INPUT||"radio"!==i&&"checkbox"!==i||y(t)}function x(e){var t;h=h||new o(n.BUTTON),t=o.findAncestor(e.target,[h,w]),!e.defaultPrevented&&t&&!s.isDisabled(t)&&y(t)&&(function(e){var t=!1,i=e.tagName,r=e.type;return"submit"!==r&&"image"!==r||i!==n.INPUT&&i!==n.BUTTON||(t=!0),t}(t)||function(e){var t=!1,i=w.findAncestor(e);return!i||"true"===i.getAttribute("aria-haspopup")||i.getAttribute("target")||v.test(i.href)||(t=!0),t}(t))&&e.preventDefault()}function j(e){E||y(e.target)}function N(r){var a=r.target;r.defaultPrevented||i.get(a,T)||!function(e){var t=e.tagName,i=e.type;return!s.isSelectable(e)&&!d.contains(e,"wc-noajax")&&(t===n.SELECT||t===n.TEXTAREA||t===n.INPUT&&"file"!==i)}(a)||(i.set(a,T,!0),e.add(a,"change",t(j,250),100))}function I(){if(b&&b.length)try{b.forEach(function(e){var t,i,r,n=c.getTrigger(e);n&&(t=n.alias||n.id)&&(i=document.getElementById(t))&&(r=n.loads)&&r.length&&(i.setAttribute("aria-controls",r.join(" ")),r.forEach(function(e){var t=document.getElementById(e);t&&t.setAttribute("aria-live","polite")}))})}finally{b=[]}}function C(e){var t=c.getTrigger(e);if(t)try{t.method=t.METHODS.GET,t.serialiseForm=!1,t.oneShot=1,t.fire()}catch(t){console.log("error in delayed ajax trigger for id "+e,t.message)}}function S(e){var t=new a(e,g.processResponseXml,g.processError),i=e.delay,r=e.id;return c.addTrigger(t),b||(b=[]),b[b.length]=r,i&&u.addCallback(function(){f.setTimeout(C,i,r)}),t}this.initialise=function(t){e.add(t,"click",x,50),e.canCapture?e.add(t,{type:"focus",listener:N,capture:!0}):e.add(t,"focusin",N),console.log("Initialising trigger listeners")},this.postInit=function(){I(),g.subscribe(I,!0),e.add(document.body,s.events.SELECT,A),e.add(document.body,s.events.DESELECT,A)},this.getTrigger=function(e,t){return c.getTrigger(e,t)},this.requestLoad=function(e,t,i){var r,n,a,s,o=c.getTrigger(e,i);o?t&&l(t,o):(t?this.register(t):(a=e.id,r=e.getAttribute("data-wc-ajaxalias"),n=(s=e.getAttribute("aria-controls"))?s.split(" "):[a],this.register({id:a,loads:n,alias:r})),o=c.getTrigger(e)),o&&p(e,o)},this.clearIgnoreChange=function(){E=!1},this.ignoreNextChange=function(){E=!0},this.register=function(e){Array.isArray(e)?e.forEach(S):S(e)}})});
define("wc/ui/onchangeSubmit",["wc/dom/attribute","wc/dom/event","wc/dom/initialise","wc/dom/shed","wc/ajax/triggerManager","wc/dom/serialize","wc/dom/Widget","wc/timers","wc/ui/getFirstLabelForElement","wc/ui/label","wc/i18n/i18n","wc/dom/textContent","wc/ui/ajax/processResponse","wc/dom/classList"],function(e,n,t,i,s,a,c,r,o,u,f,d,l,g){"use strict";var w;return w=new function(){var t=!1,m=new c("","wc_soc"),O=m.extend("",{"data-wc-list":null}),b=[m.extend("",{type:"checkbox"}),m.extend("",{type:"radio"}),m.extend("",{role:"checkbox"}),m.extend("",{role:"radio"})],h=new c("form"),v=[],p=!1,x="DEPRECATION WARNING: onChangeSubmit is deprecated as it causes accessibility problems. Use AJAX or a submit button.";function M(e){var n=e.id;v[n]=C(e)}function C(e){var n;return O.isOneOfMe(e)&&(n=a.serialize([e])),n}function E(e){var i;t?console.warn("onchange submit fired twice"):s&&s.getTrigger(e)||m.isOneOfMe(e)&&(i=h.findAncestor(e))&&(O.isOneOfMe(e)?(function(e){var n=e.id;return v[n]}(e)!==C(e)&&(console.warn(x),r.setTimeout(n.fire,0,i,"submit")),function(e){var n=e.id;v[n]=null}(e)):(t=!0,console.warn(x),r.setTimeout(n.fire,0,i,"submit")))}function y(t){var i=t.target,s="wc/ui/onchangeSubmit.bootstrap";m.isOneOfMe(i)&&(e.get(i,s)||(e.set(i,s,!0),n.add(i,"change",A)),O.isOneOfMe(i)&&M(i))}function T(e){var n=e.target;O.isOneOfMe(n)&&M(n)}function A(e){var n=e.target;try{e.defaultPrevented||p||!m.isOneOfMe(n)||c.isOneOfMe(n,b)||E(n)}finally{p=!1}}function L(e){c.isOneOfMe(e,b)&&E(e)}function S(e){m.isOneOfMe(e)?w.warn(e):Array.prototype.forEach.call(m.findDescendants(e),function(e){w.warn(e)})}this.warn=function(e,n){var t;e&&m.isOneOfMe(e)&&!s.getTrigger(e)&&(t=n||o(e))&&f.translate("submitOnChange").then(function(e){var n=e||"Changing the value of this field will cause immediate save.",i=u.getHint(t);i?-1===d.get(i).indexOf(n)&&u.setHint(t,n):u.setHint(t,n),g.remove(t,"wc-off")})},this.initialise=function(e){n.canCapture?(n.add(e,{type:"focus",listener:T,capture:!0}),n.add(e,{type:"change",listener:A,capture:!0})):n.add(e,"focusin",y),r.setTimeout(S,0,e)},this.postInit=function(){i.subscribe(i.actions.SELECT,L),i.subscribe(i.actions.DESELECT,L),i.subscribe(i.actions.COLLAPSE,L),l.subscribe(S,!0)},this.ignoreNextChange=function(){p=!0},this.clearIgnoreChange=function(){p=!1}},t.register(w)});
define("wc/dom/clearSelection",[],function(){"use strict";return function(){var e;if(document.selection)try{document.selection.empty()}catch(e){console.log(e.message)}else if(window.getSelection){(e=window.getSelection())&&e.removeAllRanges&&e.removeAllRanges();try{e.isCollapsed||e.collapseToEnd()}catch(e){console.warn(e.message)}}}});
define("wc/dom/keyWalker",[],function(){"use strict";var e={CYCLE:"cycle",DEPTH_FIRST:"depthFirst"},r={FIRST:1,LAST:2,PREVIOUS:4,NEXT:8,PARENT:16,TOP:32,END:64,CHILD:128,LAST_CHILD:256};return new function(){function t(e){return e.hasAttribute("disabled")||e.hasAttribute("hidden")||"true"===e.getAttribute("aria-disabled")||"true"===e.getAttribute("aria-hidden")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}function n(e,r,t,n,o){var i=e,a={target:null,idx:e,cycled:r};if(i===(o?n.length-1:0)){if(t&&!r)return{target:n[i=o?0:n.length-1],idx:i,cycled:!0}}else i=e+(o?1:-1),a.target=n[i],a.idx=i;return a}function o(n,i,a){var c,u,d;return a&&i&&((u=function(e){var r=e.filter||t;return e.tw||(e.tw=document.createTreeWalker(e.root,NodeFilter.SHOW_ELEMENT,r,!1))}(n)).currentNode=i,(c=function(t,n,o){var i={func:"",node:n};switch(o){case r.PARENT:i.func="parentNode";break;case r.TOP:t.tw.currentNode=t.root,i.func="firstChild";break;case r.END:t.tw.currentNode=t.root,i.func="lastChild";break;case r.PREVIOUS:i.func=t[e.DEPTH_FIRST]?"previousNode":"previousSibling";break;case r.NEXT:i.func=t[e.DEPTH_FIRST]?"nextNode":"nextSibling";break;case r.FIRST:i.node=t.tw.currentNode=n.parentNode,i.func="firstChild";break;case r.LAST:i.node=t.tw.currentNode=n.parentNode,i.func="lastChild";break;case r.CHILD:i.func="firstChild";break;case r.LAST_CHILD:i.func="lastChild";break;default:throw new ReferenceError("Unknown direction for traversing a node tree.")}return i}(n,i,a)).func&&u[c.func])?!(d=u[c.func]())&&c.node&&n[e.CYCLE]&&a&(r.PREVIOUS|r.NEXT)?o(n,c.node,a===r.PREVIOUS?r.LAST:r.FIRST):d:null}function i(o,i,a){if(a===r.PARENT||a===r.CHILD||a===r.LAST_CHILD)throw new ReferenceError("Direction not supported for grouped elements.");return a&&o.root&&o.root.length?function(o,i,a){var c,u,d=!1,f=a,s=o.root,T=Array.prototype.indexOf.call(s,i),E=o.filter||t;do{switch(f){case r.NEXT:case r.PREVIOUS:c=(u=n(T,d,o[e.CYCLE],s,f===r.NEXT)).target,T=u.idx,d=u.cycled;break;case r.FIRST:case r.TOP:c=s[0],T=0,f=r.NEXT;break;case r.LAST:case r.END:c=s[T=s.length-1],f=r.PREVIOUS}}while(c&&E(c)===NodeFilter.FILTER_REJECT);return c}(o,i,a):null}this.version="1.0.0",this.MOVE_TO=r,this.OPTIONS=e,this.getTarget=function(e,r,t){var n;if("object"!=typeof e)throw new TypeError("conf must be an object.");if(!(n=e.root))throw new TypeError("conf.root must be an element, NodeList or array of elements.");if(n.nodeType){if(n.nodeType===Node.ELEMENT_NODE)return o(e,r,t);throw new TypeError("conf.root must be an element node to traverse a tree.")}return i(e,r,t)}}});
define("wc/dom/isEventInLabel",["wc/dom/focus","wc/dom/Widget"],function(e,n){"use strict";var o;return function(t){var c,r;return!(!(r=(o=o||new n("label")).findAncestor(t))||(c=e.getFocusableAncestor(t))&&!(c.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY))}});
define("wc/dom/isAcceptableTarget",["wc/dom/focus"],function(e){"use strict";return function(c,t){var n;return!(c!==t&&(n=e.getFocusableAncestor(t)))||n===c}});
define("wc/dom/ariaAnalog",["wc/has","wc/dom/attribute","wc/dom/clearSelection","wc/dom/event","wc/dom/group","wc/dom/shed","wc/dom/uid","wc/dom/Widget","wc/array/toArray","wc/dom/formUpdateManager","wc/dom/keyWalker","wc/dom/isEventInLabel","wc/dom/isAcceptableTarget"],function(e,t,i,n,r,s,o,a,c,l,E,d,u){"use strict";var h,p,T,f,I,v,O,g="true";function y(e){return e.getAttribute("aria-readonly")===g}function S(e){var t,i,n=e.type.toLowerCase();return"focusout"===n?n="blur":"focusin"===n&&(n="focus"),(i=this[n+"Event"])&&(t=i.call(this,e)),t}function b(e,t){return t.CONTAINER?r.getGroup(e,t.ITEM,t.CONTAINER):r.get(e)}function A(){}return require(["wc/dom/getFilteredGroup","wc/dom/focus"],function(e,t){p=e,T=t}),A.prototype.VALUE_ATTRIB="data-wc-value",A.prototype.SELECT_MODE={MULTIPLE:0,SINGLE:1,MIXED:2},A.prototype.KEY_DIRECTION={PREVIOUS:1,NEXT:2,FIRST:4,LAST:8},A.prototype._cycle=!1,A.prototype.actionable=null,A.prototype.selectOnNavigate=function(e){if(!e)throw new TypeError("Argument must not be null");return!1},A.prototype.exclusiveSelect=A.prototype.SELECT_MODE.MULTIPLE,A.prototype.groupNavigation=!0,A.prototype.lastActivated=null,A.prototype.ctrlAllowsDeselect=!1,A.prototype.allowSelectSelected=!1,A.prototype.simpleSelection=!1,A.prototype._extendedInitialisation=null,A.prototype.getGroupContainer=function(e){return r.getContainer(e,this.CONTAINER)},A.prototype.shedObserver=function(e,t){var i,n,o,a=!1;t===s.actions.SELECT&&this.ITEM.isOneOfMe(e)&&(this.exclusiveSelect===this.SELECT_MODE.SINGLE?a=!0:this.exclusiveSelect===this.SELECT_MODE.MIXED&&(n=this.getGroupContainer(e))&&n.getAttribute("aria-multiselectable")!==g&&(a=!0),a&&(this.CONTAINER&&(o={itemWd:this.ITEM,containerWd:this.CONTAINER}),(i=p(e,o))&&i.length&&function(e,t,i,n){var o,a,c=!0,l=!1;for(o=e.length-1;o>=0;o--)a=e[o],(0===o||1===o&&!l)&&(c=!1),a!==t?n.selectionIsImmediate?(i||r.getContainer(t,n.CONTAINER))===r.getContainer(a,n.CONTAINER)&&s.deselect(a,c):s.deselect(a,c):l=!0}(i,e,n,this)))},A.prototype.initialise=function(e){this.ITEM&&(this.TAB_ITEM=this.ITEM.extend("",{tabindex:"0"})),this.actionable=[new a("button"),new a("a")],f=new a("","",{role:null}),n.canCapture?(n.add(e,{type:"focus",listener:S.bind(this),capture:!0}),n.add(e,{type:"click",listener:S.bind(this),capture:!0})):(n.add(e,"focusin",S.bind(this)),n.add(e,"click",S.bind(this))),s.subscribe(s.actions.SELECT,this.shedObserver.bind(this)),s.subscribe(s.actions.DESELECT,this.shedObserver.bind(this)),this._extendedInitialisation&&this._extendedInitialisation(e),l.subscribe(this)},A.prototype.writeState=function(e,t){var i=this.ITEM.findDescendants(e);i.length&&p(c(i)).forEach(function(e){e.hasAttribute(this.VALUE_ATTRIB)&&!s.isDisabled(e)&&l.writeStateField(t,e.getAttribute("data-wc-name"),e.getAttribute(this.VALUE_ATTRIB))},this)},A.prototype.focusEvent=function(e){var i=e.target;this.ITEM.isOneOfMe(i)&&!s.isDisabled(i)&&(!function(e,i){var r=i.getGroupContainer(e)||e;t.get(r,"ariaAnalogKeydownInited")||(t.set(r,"ariaAnalogKeydownInited",!0),n.add(r,"keydown",S.bind(i)))}(i,this),this.groupNavigation&&this.setFocusIndex&&this.setFocusIndex(i))},A.prototype.clickEvent=function(e){var t,i=e.target;!e.defaultPrevented&&(t=this.getActivableFromTarget(i))&&u(t,i)&&this.activate(t,e.shiftKey||n.shiftKey,e.ctrlKey||e.metaKey)},A.prototype.keydownEvent=function(e){var t,i,n=e.keyCode,r=e.target;e.defaultPrevented||e.altKey||(t=this.getActivableFromTarget(r))&&(this.groupNavigation&&function(e){return e===KeyEvent.DOM_VK_HOME||e===KeyEvent.DOM_VK_END||e>=KeyEvent.DOM_VK_LEFT&&e<=KeyEvent.DOM_VK_DOWN}(n)?(i=function(e,t){var i;switch(t){case KeyEvent.DOM_VK_HOME:i=e.KEY_DIRECTION.FIRST;break;case KeyEvent.DOM_VK_END:i=e.KEY_DIRECTION.LAST;break;case KeyEvent.DOM_VK_LEFT:case KeyEvent.DOM_VK_UP:i=e.KEY_DIRECTION.PREVIOUS;break;case KeyEvent.DOM_VK_RIGHT:case KeyEvent.DOM_VK_DOWN:i=e.KEY_DIRECTION.NEXT}return i}(this,n))&&(r=this.navigate(t,i))&&(!this.selectOnNavigate(r)||e.ctrlKey||e.metaKey||this.activate(r,e.shiftKey,e.ctrlKey||e.metaKey),e.preventDefault()):n!==KeyEvent.DOM_VK_SPACE&&n!==KeyEvent.DOM_VK_RETURN||a.isOneOfMe(t,this.actionable)||!u(t,r)||(this.activate(t,e.shiftKey,e.ctrlKey||e.metaKey),e.preventDefault()))},A.prototype.navigate=function(e,t){var i,n,r,o=b(e,this);if(o&&(o=function(e){return e.filter(function(e){var t=!0;return(s.isHidden(e)||s.isDisabled(e))&&(t=!1),t})}(o))&&o.length>1){switch(v?v.root=o:v={root:o,filter:function(e){var t=NodeFilter.FILTER_ACCEPT;return(s.isDisabled(e)||s.isHidden(e))&&(t=NodeFilter.FILTER_REJECT),t}},v[E.OPTIONS.CYCLE]=this._cycle,t){case this.KEY_DIRECTION.PREVIOUS:n=E.MOVE_TO.PREVIOUS;break;case this.KEY_DIRECTION.NEXT:n=E.MOVE_TO.NEXT;break;case this.KEY_DIRECTION.FIRST:n=E.MOVE_TO.FIRST;break;case this.KEY_DIRECTION.LAST:n=E.MOVE_TO.LAST}(i=E.getTarget(v,e,n))&&i!==e&&(T.setFocusRequest(i),r=i)}return r},A.prototype.activate=function(e,t,i){var n,r,o,a=!0;try{o=!!(n=this.getGroupContainer(e))&&n.getAttribute("aria-multiselectable"),this.exclusiveSelect===this.SELECT_MODE.MIXED&&o===g&&(r=this.exclusiveSelect,this.simpleSelection||t||i?this.exclusiveSelect=this.SELECT_MODE.MULTIPLE:this.exclusiveSelect=this.SELECT_MODE.SINGLE),this.exclusiveSelect===this.SELECT_MODE.SINGLE||this.exclusiveSelect===this.SELECT_MODE.MIXED?function(e,t,i){i.simpleSelection||t&&i.ctrlAllowsDeselect?s.toggle(e,s.actions.SELECT):i.allowSelectSelected&&!t&&s.isSelected(e)?s.select(e):s.select(e,s.isSelected(e))}(e,i,this):t&&n?a=function(e,t,i,n){var r;return n.lastActivated&&n.lastActivated[t.id]&&(r=document.getElementById(n.lastActivated[t.id])),r?(n.doGroupSelect(e,r,i),!1):(s.toggle(e,s.actions.SELECT),!0)}(e,n,i,this):s.toggle(e,s.actions.SELECT),a&&this.lastActivated&&this.setLastActivated(e,n)}finally{void 0!==r&&(this.exclusiveSelect=r)}},A.prototype.doGroupSelect=function(e,t,n){var r,o,a,c,l,E,d,u,h;if(s.isSelected(e)?(r=p.FILTERS.selected,o=s.deselect):(r=p.FILTERS.deselected,o=s.select),h=p.FILTERS.visible|p.FILTERS.enabled,a=p(e,{filter:h|r,containerWd:this.CONTAINER,itemWd:this.CONTAINER?this.ITEM:null}),c=p(e,{filter:h,containerWd:this.CONTAINER,itemWd:this.CONTAINER?this.ITEM:null}),a&&a.length)for(d=Math.min(c.indexOf(e),c.indexOf(t)),u=Math.max(c.indexOf(e),c.indexOf(t)),l=0;l<c.length;++l)E=c[l],d<=c.indexOf(E)&&u>=c.indexOf(E)?~a.indexOf(E)&&o(E):!n&&r===p.FILTERS.deselected&&E!==t&&s.isSelected(E)&&s.deselect(E);i()},A.prototype.setLastActivated=function(e,t){var i,n;(t=t||this.getGroupContainer(e))&&this.lastActivated&&(i=t.id||(t.id=o()),n=e.id||(e.id=o()),this.lastActivated[i]=n)},A.prototype.setFocusIndex=function(e){var t=b(e,this);t&&t.length>1&&(t.forEach(function(e){e.tabIndex="-1"}),e.tabIndex="0")},A.prototype.getWidget=function(){return this.ITEM},A.prototype.getActivableFromTarget=function(e){var t;return d(e)?null:(t=this.ITEM.findAncestor(e))&&!s.isDisabled(t)&&function(e,t){var i,n;if(!(i=f.findAncestor(e)))return!0;if(i===t&&!y(t))return!0;for(O=O||["presentation","banner","application","alert","tablist","tabpanel","group","heading","rowheader","separator"];i&&i.parentNode;)if(O.indexOf(i.getAttribute("role"))>-1||y(i)||s.isDisabled(i)||"columnheader"===i.getAttribute("role")&&!i.getAttribute("aria-sort"))i=f.findAncestor(i.parentNode);else{if("gridcell"!==i.getAttribute("role")||(I=I||[new a("","",{role:"grid"}),new a("","",{role:"treegrid"})],!(n=a.findAncestor(i,I))||!y(n)))break;i=f.findAncestor(i.parentNode)}return!i||i===t}(e,t)?t:null},A.prototype.isMultiSelect=function(e){var t;if(this.exclusiveSelect===this.SELECT_MODE.SINGLE)return!1;if(this.exclusiveSelect===this.SELECT_MODE.MULTIPLE)return!0;if(!e)throw new TypeError("Cannot determine mixed selection nature without a sample element.");return!!(t=this.getGroupContainer(e))&&"true"===t.getAttribute("aria-multiselectable")},h=new A,void 0!==Object.freeze&&Object.freeze(h),h});
define("wc/ui/listboxAnalog",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/Widget","wc/key","wc/dom/focus","wc/dom/getFilteredGroup","wc/dom/shed","wc/dom/textContent"],function(t,e,i,n,o,r,s,c){"use strict";var a;function l(){this.selectOnNavigate=function(){return!0},this.exclusiveSelect=this.SELECT_MODE.MIXED,this.ITEM=new i("","",{role:"option"}),this.lastActivated={},this.CONTAINER=new i("","",{role:"listbox"}),this.keydownEvent=function(t){var e,i,r=t.keyCode,s=t.target;this.constructor.prototype.keydownEvent.call(this,t),t.defaultPrevented||(e=n.getLiteral(r))&&(e=e.replace(/^DOM_VK_/,""))&&1===e.length&&/[ -~]/.test(e)&&(i=this.CONTAINER.findAncestor(s))&&(s=function(t,e,i){var n,o,r,s,l=a.getAvailableOptions(t),u=l.indexOf(e);if(u>-1)for(o=u+1;o<l.length;++o)if(r=l[o],(s=c.get(r))&&s[0].toLocaleLowerCase()===i){n=r;break}return n}(i,s,e.toLocaleLowerCase()))&&o.setFocusRequest(s)},this.getAvailableOptions=function(t){return r(t,{filter:r.FILTERS.visible|r.FILTERS.enabled,containerWd:this.CONTAINER,itemWd:this.ITEM,shedAttributeOnly:!0})},this.clearAllOptions=function(t){var e;t&&(e=r(t,{containerWd:this.CONTAINER,itemWd:this.ITEM,shedAttributeOnly:!0}))&&e.forEach(function(t){s.deselect(t,!0),t.tabIndex=0})},this.getOptionValue=function(t,e,i){var n=i?c.get(t):t.hasAttribute(this.VALUE_ATTRIB)?t.getAttribute(this.VALUE_ATTRIB):c.get(t);return e?n.toLocaleLowerCase():n}}return l.prototype=t,(a=new l).constructor=l,e.register(a)});
define("wc/ui/dateField",["wc/has","wc/array/unique","wc/date/Parser","wc/date/interchange","wc/date/Format","wc/dom/attribute","wc/ui/cancelUpdate","wc/dom/event","wc/dom/focus","wc/dom/formUpdateManager","wc/dom/initialise","wc/dom/shed","wc/dom/tag","wc/dom/Widget","wc/i18n/i18n","wc/timers","wc/key","wc/dom/textContent","wc/ui/ajaxRegion","wc/ui/ajax/processResponse","wc/ui/onchangeSubmit","wc/ui/feedback","wc/ui/listboxAnalog"],function(e,t,n,i,a,r,s,o,c,u,d,f,l,b,g,p,v,h,m,x,O,w,A){"use strict";var T;return T=new function(){var d,E,M,D,y=e("native-dateinput"),L="wc.ui.dateField_bootstrapped",_=new b("div","wc-datefield"),N=new b("","wc-datefield"),B=new b("","",{"data-wc-component":"datefield"}),F=new b("input"),I=F.extend("",{type:"date"}),C=F.extend("",{type:"text"}),P=new b("","",{role:"listbox"}),S="data-wc-value",k={},H=new b("button","wc_wdf_cal"),R={},K="",V=8===e("ie")?50:0;function X(e,t){var n,i;return-1===t||!t&&_.isOneOfMe(e)?n=P.findDescendant(e):1===t?n=P.findAncestor(e):(i=T.get(e))&&(n=P.findDescendant(i)),n}function j(e){var t,n=T.get(e);function i(e){D&&p.clearTimeout(D),_.isOneOfMe(e)&&T.acceptFirstMatch(T.getTextBox(e)),V?p.setTimeout(function(){f.collapse(e)},150):f.collapse(e)}O.clearIgnoreChange(),m.clearIgnoreChange(),K&&(t=document.getElementById(K))&&_.isOneOfMe(t)&&(!n||n.id!==K)&&f.isExpanded(t)&&i(t),n&&q(e)&&f.isExpanded(n)&&i(n)}function W(e){return(E||(E=new a(g.get("datefield_mask_format")))).format(e)}function q(e){return F.isOneOfMe(e)}function U(e,t){var n=!1,i=e.trim(),a=t.trim();return i!==a&&i.toLocaleLowerCase()!==a.toLocaleLowerCase()||(n=!0),n}function Y(e){return d||function(){var e=["ytm","+-"].concat(g.get("datefield_masks_full").split(",")),t=e.concat(g.get("datefield_masks_partial").split(","));function i(t,i,a){var r=new n;return r.setRolling(!!a),r.setMasks(t||e),r.setExpandYearIntoPast(!!i),r}d={standard:i(),past:i(null,!0),partial:i(t),partialPast:i(t,!0)}}(),C.isOneOfMe(e)?d.partial:d.standard}function z(e,n){var i=n||e.value,a=Y(e).parse(i.trim());return a=t(a,function(e,t){var n=1;return e.day===t.day&&e.month===t.month&&e.year===t.year&&(n=0),n})}function G(e,t){var n,i,a="";for(n=0;n<e.length;n++)a=W(e[n].toXfer()),e[n].html=a;e.length&&(i=X(t))&&(i.setAttribute("aria-busy","true"),i.innerHTML="",1===e.length&&U(a,T.getTextBox(t).value)?f.isExpanded(t)&&f.collapse(t):(i.innerHTML=function(e){var t,n,i=[],a=l.toTag("SPAN",!0);for(t=0;t<e.length;t++)n=0===t?"0":"-1",e[t].attributes=e[t].attributes||"",e[t].attributes+=" role='option' class='wc-invite' "+S+"='"+e[t].html+"' tabindex='"+n+"'",i.push(l.toTag("SPAN",!1,e[t].attributes)),i.push(e[t].html),i.push(a);return i.join("")}(e),i.removeAttribute("aria-busy"),f.isExpanded(t)||f.expand(t)))}function J(e,t){var n=t;function i(){var t,n=z(T.getTextBox(e));n.length?(f.isExpanded(e)||f.expand(e),G(n,e)):(t=X(e))&&(t.innerHTML="",t.setAttribute("aria-busy","true"),f.isExpanded(e)&&f.collapse(e))}_.isOneOfMe(e)&&(D&&p.clearTimeout(D),0===t?i():(n||(n=125),D=p.setTimeout(i,n)))}function Q(e){var t,n=e||document.body;t=e&&N.isOneOfMe(e)?[e]:N.findDescendants(n),Array.prototype.forEach.call(t,function(e){var t,n,i,a;B.isOneOfMe(e)||(a=e,_.isOneOfMe(a)&&!I.findDescendant(a))?(n=(t=e).getAttribute(S)||t.getAttribute("datetime"))&&(i=W(n))&&(B.isOneOfMe(t)?h.set(t,i):T.getTextBox(t).value=i):T.isLameDateField(e)?function(e){var t,n,i,a,r,s;(t=T.getTextBox(e))&&(r=e.id,(n=e.getAttribute(S))&&document.activeElement===t&&(R[r]=n,O.ignoreNextChange(),m.ignoreNextChange()),s=w.getLast(e),H.findDescendant(e)||(i="<button value='"+r+"_input' tabindex='-1' id='"+r+"_cal' type='button' aria-hidden='true' class='wc_wdf_cal wc-invite' aria-haspopup='true'",f.isDisabled(t)&&(i+=" disabled='disabled'"),i+="><i class='fa fa-calendar' aria-hidden='true'></i></button>",s?s.insertAdjacentHTML("beforebegin",i):e.insertAdjacentHTML("beforeend",i)),X(e,-1)||(a="<span role='listbox' aria-busy='true'></span>",s?s.insertAdjacentHTML("beforebegin",a):e.insertAdjacentHTML("beforeend",a)),e.setAttribute("role","combobox"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-autocomplete","list"),t.setAttribute("autocomplete","off"),t.setAttribute("aria-owns",r+"_cal"),(n=t.value)&&T.acceptFirstMatch(t))}(e):e.removeAttribute(S)}),s.resetAllFormState()}function Z(e,t){Q(t)}function $(e){var t;e&&e.hasAttribute(S)&&X(e,1)&&(t=T.get(e))&&function(e,t){var n,a;X(e,-1)&&((n=t.hasAttribute(S)?t.getAttribute(S):h.get(t))&&i.isValid(n)&&(n=W(n)),(a=T.getTextBox(e))&&(a.value=n),k[e.id]!==T.getValue(e,!0)&&p.setTimeout(o.fire,0,T.getTextBox(e),"change"))}(t,e)}function ee(e,t){var n,i,a;e&&_.isOneOfMe(e)&&(t===f.actions.EXPAND?f.isExpanded(e)&&(K=e.id,k[e.id]=T.getValue(e),J(e,0)):t===f.actions.COLLAPSE?f.isExpanded(e)||(k[e.id]=null,K="",D&&(p.clearTimeout(D),D=null)):(n=T.getTextBox(e))&&(a=function(e){var t;switch(e){case f.actions.SHOW:t="show";break;case f.actions.HIDE:t="hide";break;case f.actions.MANDATORY:t="mandatory";break;case f.actions.OPTIONAL:t="optional";break;case f.actions.ENABLE:t="enable";break;case f.actions.DISABLE:t="disable"}return t}(t))&&(f[a](n),t!==f.actions.ENABLE&&t!==f.actions.DISABLE||!(i=H.findDescendant(e))||f[a](i,!0)))}function te(e,t){var n,i,a,r,s,o=_.findDescendants(e);for(n=0;n<o.length;n++)s=(i=o[n]).id+"-date",f.isDisabled(i)||(T.hasNativeInput(i)?(r=T.getTextBox(i))&&r.value&&u.writeStateField(t,s,r.value):(a=T.getValue(i))&&u.writeStateField(t,s,a))}function ne(e){var t,n=e.target;T.hasNativeInput(n,!0)||(t=T.get(n))&&(T.acceptFirstMatch(n),t.removeAttribute(S))}function ie(e){var t,n=e.target;e.defaultPrevented||(q(n)&&!r.get(n,L)&&(r.set(n,L,!0),o.add(n,"change",ne)),T.hasNativeInput(n,!0)||((t=T.get(n))&&!r.get(t,L)&&(r.set(t,L,!0),o.add(t,"keydown",re)),j(n)))}function ae(e){var t,n=e.target;e.defaultPrevented||T.hasNativeInput(n,!0)||(t=T.get(n))&&!f.isDisabled(t)&&X(n,1)&&(c.setFocusRequest(T.getTextBox(t),function(){f.collapse(t)}),e.preventDefault())}function re(e){var t,n=e.currentTarget,i=e.keyCode,a=e.target;T.hasNativeInput(a,!0)||n&&!f.isDisabled(n)&&(i!==KeyEvent.DOM_VK_ESCAPE?i!==KeyEvent.DOM_VK_RETURN?i!==KeyEvent.DOM_VK_DOWN&&i!==KeyEvent.DOM_VK_UP||X(a,1)?i!==KeyEvent.DOM_VK_TAB?!v.isMeta(i)&&q(a)&&(n.removeAttribute(S),J(n)):function(e,t){f.isExpanded(e)&&q(t)&&(D&&(p.clearTimeout(D),J(e,0)),T.acceptFirstMatch(t))}(n,a):f.isExpanded(n)&&(t=X(n,-1))&&(function(e){function t(e){f.isSelected(e)||A.activate(e)}M=M||new b("","",{role:"option"}),e&&M.findDescendant(e)&&(O.ignoreNextChange(),m.ignoreNextChange(),D&&p.clearTimeout(D),V?p.setTimeout(c.focusFirstTabstop,V,e,t):c.focusFirstTabstop(e,t))}(t),e.preventDefault()):function(e,t){var n;return f.isExpanded(e)&&(t.hasAttribute(S)&&X(t,1)?(n=!0,function(e){var t=T.getTextBox(e);t?c.setFocusRequest(t,function(){f.collapse(e)}):f.collapse(e)}(e)):q(t)&&T.acceptFirstMatch(t)),n}(n,a)&&e.preventDefault():function(e,t){var n;return!!f.isExpanded(e)&&(X(t,1)&&(n=T.getTextBox(e))?c.setFocusRequest(n,function(){f.collapse(e)}):f.collapse(e),!0)}(n,a)&&e.preventDefault())}F.descendFrom(_,!0),I.descendFrom(_,!0),C.descendFrom(_,!0),P.descendFrom(_,!0),this.acceptFirstMatch=function(e){var t,n,i;this.hasNativeInput(e)||(t=z(e))&&t.length&&(n=this.get(e))&&(~t.map(function(e){return W(e.toXfer())}).indexOf(e.value)||(n.removeAttribute(S),(i=W(t[0].toXfer()))!==e.value&&(e.value=i,document.body&&document.body.contains(e)&&p.setTimeout(o.fire,0,e,"change"))))},this.getLaunchWidget=function(){return H},this.getPartialDateWidget=function(){return C},this.getTextBox=function(e){return F.findDescendant(e)},this.getValue=function(e,t){var n,i,a;if(e&&(a=this.get(e))){if(n=a.getAttribute(S))return n;if(this.hasNativeInput(e)&&(n=e.value))return n;if(!n&&(i=T.getTextBox(a))&&i.value)return function(e,t){var n,i,a,r,s,o=e.value;if(o=o.trim()){for(r=0,s=(i=z(e)).length;r<s;r++)if(U(W((a=i[r]).toXfer()),o)){n=a.toXfer();break}!n&&s&&t&&(n=i[0].toXfer())}return n}(i,t)}return n||""},this.getWidget=function(){return N},this.initialise=function(e){o.canCapture?o.add(e,{type:"focus",listener:ie,capture:!0}):o.add(e,"focusin",ie),o.add(e,"click",ae),u.subscribe(te),Q()},this.hasNativeInput=function(e,t){var n;return!!y&&!!(n=t?e:_.isOneOfMe(e)?T.getTextBox(e):e)&&I.isOneOfMe(n)},this.isLameDateField=function(e){return!y&&!!I.findDescendant(e)},this.isOneOfMe=function(e,t){return t?N.isOneOfMe(e):!1===t?F.isOneOfMe(e):b.isOneOfMe(e,[F,N])},this.isReadOnly=function(e){return B.isOneOfMe(e)},this.postInit=function(){f.subscribe(f.actions.SELECT,$),f.subscribe(f.actions.ENABLE,ee),f.subscribe(f.actions.DISABLE,ee),f.subscribe(f.actions.SHOW,ee),f.subscribe(f.actions.HIDE,ee),f.subscribe(f.actions.EXPAND,ee),f.subscribe(f.actions.COLLAPSE,ee),f.subscribe(f.actions.MANDATORY,ee),f.subscribe(f.actions.OPTIONAL,ee),x.subscribe(Z)},this.get=function(e){return _.findAncestor(e)},this._closeDateCombo=j,this._getListBox=X,this._filterOptions=J},d.register(T)});
define("wc/template",["wc/dom/textContent","wc/has"],function(e,n){"use strict";return new function(){var o;function t(n,t){var r;r=function(o){var r;(r=n.constructor===String?n:n.nodeType===Node.TEXT_NODE?e.get(n):n.innerHTML)&&o.parse(r),t(r)},o?r(o):require(["lib/mustache/mustache.min"],function(e){r(o=e)})}function r(e,n,r,c,i){t(e,function(t){var u,a=n||e,s=r||{};if(u=t.constructor===Function?t(s):o.render(t,s),a.nodeType===Node.TEXT_NODE?a.nodeValue=u:c?a.insertAdjacentHTML(c,u):a.innerHTML=u,i)try{i(t)}catch(e){console.warn(e)}})}this.process=function(e){var o=function(n){r(n,e.target,e.context,e.position,e.callback)},t=function(n){e.errback?e.errback(n):console.warn("error processing template "+n)};(!n("ie")||n("ie")>9)&&(e&&e.source?e.loadSource?require(["wc/loader/resource"],function(n){n.load(e.source,!0,!0).then(o,t)}):o(e.source):document.body&&r(document.body))}}});
define("wc/ui/calendar",["wc/dom/attribute","wc/date/addDays","wc/date/copy","wc/date/dayName","wc/date/daysInMonth","wc/date/getDifference","wc/date/monthName","wc/date/today","wc/date/interchange","wc/dom/classList","wc/dom/event","wc/dom/focus","wc/dom/shed","wc/dom/tag","wc/dom/viewportCollision","wc/dom/getBox","wc/dom/Widget","wc/i18n/i18n","wc/isNumeric","wc/ui/dateField","wc/dom/initialise","wc/timers","wc/template","wc/config"],function(e,t,n,a,o,i,c,d,r,s,u,l,f,g,m,y,v,h,w,M,b,D,_,x){"use strict";return b.register(new function(){var b,p,E,T="date_key",A="wc_calbox",I="wc_caldaybox",O="wc_calmonth",K="wc_calyear",N="aria-controls",B=250,V={SOUTH:"wc_colsth",WEST:"wc_colwest",TODAY:"wc_wdf_today",DATE_BUTTON:"wc_wdf_pick",LAST:"wc_cal_last"},F=M.getLaunchWidget(),S=new v("button",V.DATE_BUTTON),C=new v("button","wc_wdf_mv"),H=new v("button","wc_wdf_cls"),k=!1,L="min",R="max",Y=x.get("wc/ui/calendar",{min:1e3,max:9999}),P="wc/ui/calendar.BOOTSTAPPED";function W(){return document.getElementById(O)}function U(){return document.getElementById(K)}function q(e){var t,n=W();if(n&&n.options&&n.options.length)for(t=0;t<n.options.length;++t)e?f.disable(n.options[t],!0):f.enable(n.options[t],!0)}function j(e,t,n){var a,o,i=-1,c=n?"day":"month",d=t?R:L;return t&&(i=n?32:12),e&&(a=e.getAttribute(d))?(o=r.toValues(a)[c],n?1*o:o-1):i}function G(e){var t=e.value.trim();return t=t&&w(t)?parseInt(t,10):NaN}function z(){var e=U(),t=function(e,t){return{yearMin:e.getAttribute(L),yearMax:e.getAttribute(R),monthMin:j(t),monthMax:j(t,!0),dayMin:j(t,!1,!0),dayMax:j(t,!0,!0)}}(e,ie()),a=G(e);isNaN(a)||oe(function(e){var i,c;i=function(e,t,n){var a=W(),o=a.selectedIndex;return n.yearMin===t||n.yearMax===t?(n.yearMin===t&&((n.monthMin||0===n.monthMin)&&n.monthMin>o?(e.setMonth(n.monthMin),a.selectedIndex=n.monthMin):e.setMonth(o)),n.yearMax===t&&(n.monthMax&&n.monthMax<o?(e.setMonth(n.monthMax),a.selectedIndex=n.monthMax):e.setMonth(o))):e.setMonth(o),a.selectedIndex}(c=function(e,t){var a=n(e);return a.setDate(1),a.setFullYear(t),a}(e,a),a,t),function(e,t,n,a,i){var c=e.getDate(),d=o(t.getFullYear(),t.getMonth()+1);i.yearMin!==n&&i.yearMax!==n||(i.monthMin===a?i.dayMin>c&&(c=i.dayMin):i.monthMax===a&&i.dayMax<c&&(c=i.dayMax)),c>d?t.setDate(d):t.setDate(c)}(e,c,a,i,t),ce(c,!1)})}function J(e){var t=e.getAttribute(L)||Y.min,n=e.getAttribute(R)||Y.max;D.clearTimeout(p),p=D.setTimeout(function(){var a=G(e);!isNaN(a)&&a>=t&&a<=n&&(e.value=a,z())},B)}function Q(e){var t,n=ne();n&&!f.isHidden(n,!0)&&(E=!e&&(t=ie(n))?t.id:null,f.hide(n))}function X(e,t,n){switch(t){case KeyEvent.DOM_VK_LEFT:case KeyEvent.DOM_VK_RIGHT:case KeyEvent.DOM_VK_UP:case KeyEvent.DOM_VK_DOWN:return function(e,t){for(var n=S.findDescendants(document.getElementById(I)),a=n.length;a--&&n[a]!==e;);switch(t){case KeyEvent.DOM_VK_LEFT:a=Math.max(0,a-1);break;case KeyEvent.DOM_VK_UP:a=Math.max(0,a-7);break;case KeyEvent.DOM_VK_RIGHT:a=Math.min(n.length-1,a+1);break;case KeyEvent.DOM_VK_DOWN:a=Math.min(n.length-1,a+7)}e!==n[a]&&l.setFocusRequest(n[a])}(e,t),!0;case KeyEvent.DOM_VK_T:ce(new Date,!0);break;case KeyEvent.DOM_VK_TAB:if(!n&&s.contains(e,V.LAST))return l.setFocusRequest(W()),!0}return!1}function Z(e){var t,n=e.target,a=e.shiftKey,o=e.keyCode,i=!1;e.defaultPrevented||(o===KeyEvent.DOM_VK_ESCAPE?(Q(),i=!0):n.id===K&&o!==KeyEvent.DOM_VK_TAB&&o!==KeyEvent.DOM_VK_SHIFT?i=function(e,t){return J(e),t===KeyEvent.DOM_VK_RETURN}(n,o):o===KeyEvent.DOM_VK_TAB&&a&&n===W()?(ae(function(e){t=S.findDescendants(e),l.setFocusRequest(t[t.length-1])}),i=!0):(n=S.findAncestor(n))&&(i=X(n,o,a)),i&&e.preventDefault())}function $(e){e.defaultPrevented||z()}function ee(e){J(e.target)}function te(){return function(e,t){return e&&e.length?t(e)[0]:t(e)}}function ne(){return document.getElementById(A)}function ae(e){var t=ne();t?e(t):function(e){var t,n,o=d.get();n={dayName:a.get(!0),monthName:c.get(),fullYear:o.getFullYear(),monthLabel:h.get("datefield_calendarMonthLabel"),yearLabel:h.get("datefield_calendarYearLabel"),lastMonth:h.get("datefield_lastMonth"),today:h.get("datefield_today"),nextMonth:h.get("datefield_nextMonth"),closeLabel:h.get("datefield_close"),dayColHeader:te},(t=document.createElement("div")).id=A,t.setAttribute("role","dialog"),document.body.appendChild(t),_.process({source:"wc.ui.dateField.calendar.html",loadSource:!0,target:t,context:n,callback:function(){document.getElementById(O).selectedIndex=o.getMonth(),u.add(t,"keydown",Z),u.add(W(),"change",$),u.add(U(),"change",ee),e(t)}})}(e)}function oe(t){ae(function(n){var a,o=e.get(n,T);o||0===o?(a=new Date(o),t(a)):t(null)})}function ie(e){var t,n,a=e||ne();return a&&(t=a.getAttribute(N))&&(n=document.getElementById(t)),n}function ce(a,o,c){ae(function(d){var u,m,y,v,h,w,b,D,_,x,p,E,A,I,O,K,N,B,F,S,C,H,k,Y=n(a),P=new Date,G=Y.getMonth(),z=Y.getFullYear(),J=W(),Q=U();if(k=Y,ae(function(t){var n;if(!k||k.constructor!==Date)throw new TypeError("storeDate expects a date object");n=k.getTime(),console.log("storing date",new Date(n)),e.set(t,T,n)}),J.selectedIndex=G,Q.value=z,Y.setDate(1),u=Y.getDay(),-1==--u&&(u=6),t(-1*u,Y),m=n(Y),t(34,m),y=d.getElementsByTagName(g.TBODY)[0].getElementsByTagName(g.TR),v=!1,h=!1,F=Q.getAttribute(R),(B=Q.getAttribute(L))||F){if(q(),B*=1,F*=1,I=ie(d),F&&z>=F)if(z>F)H=!0;else if((C=j(I,!0))||0===C){for(_=C+1;_<J.options.length;++_)f.disable(J.options[_],!0);C===G&&(N=j(I,!0,!0))}else q();if(B&&z<=B)if(z<B)H=!0;else if((S=j(I))||0===S){for(_=0;_<S&&J.options[_];++_)f.disable(J.options[_],!0);S===G&&(K=j(I,!1,!0))}else q();H?q(!0):(S&&S>G||(C||0===C)&&C<G)&&(H=!0)}else q();for(_=0;_<y.length;_++){if(v){f.hide(y[_]);break}for(f.show(y[_]),b=y[_].getElementsByTagName(g.TD),x=0;x<b.length;x++)(D=b[x]).innerHTML="",p=Y.getDate(),G===Y.getMonth()?(h=!0,A="<button type='button' class='wc-nobutton wc-invite "+V.DATE_BUTTON+"' value='"+p+"'>"+p+"</button>",D.innerHTML=A,w=A=D.firstChild,H||K&&p<K||N&&p>N?f.disable(A,!0):f.enable(A,!0),c&&0===i(Y,a)?f.select(A,!0):!c&&(I=ie(d))&&I.value&&(O=M.getValue(I))&&(O=r.toDate(O))&&0===i(Y,O)&&f.select(A,!0),0===i(Y,P)&&s.add(A,V.TODAY),o&&!E&&0===i(Y,a)&&(E=A)):D.appendChild(document.createTextNode(p)),t(1,Y),h&&G!==Y.getMonth()&&(v=!0)}w&&s.add(w,V.LAST),E&&l.setFocusRequest(E)})}function de(e){ae(function(t){var n,a,o=e.value,c=!1;t.setAttribute(N,o),function(e){var t,n,a,o;e&&((n=e.getAttribute(R))||(a=e.getAttribute(L)))&&(t=document.getElementById(K))&&(a?(o=r.toValues(a)).year&&t.setAttribute(L,o.year):t.setAttribute(L,Y.min),n?(o=r.toValues(n)).year&&t.setAttribute(R,o.year):t.setAttribute(R,Y.max))}(o=document.getElementById(o)),(n=M.getValue(o))&&(n=r.toDate(n),c=!0),n||(n=new Date,(a=o.getAttribute(L))&&(a=r.toDate(a))&&i(a,n,!1)>0&&(n=a),(a=o.getAttribute(R))&&(a=r.toDate(a))&&i(a,n,!1)<0&&(n=a)),ce(n,!1,c),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),f.show(t)})}function re(e){try{!e||k||f.isDisabled(e)||(k=!0,de(e))}finally{k=!1}}function se(e){var t,n;e.defaultPrevented||((t=F.findAncestor(e.target))?re(t):ne()&&((t=S.findAncestor(e.target))?(n=t,ae(function(e){var t,a,o,i=ie(e);i&&!f.isDisabled(i)?oe(function(e){t=n.value,e.setDate(t),a=[e.getDate(),e.getMonth()+1,e.getFullYear()],o=a.join(" "),i.value=o,l.setFocusRequest(i,function(e){M.acceptFirstMatch(e)}),Q(!0)}):Q()})):(t=C.findAncestor(e.target))?function(e){var t,n,a,o,i,c,d=new Date;"t"===e.value?ce(d,!0):(o=(t=W()).options.length,a=G(n=document.getElementById(K)),isNaN(a)&&(n.value=a=d.getFullYear()),"-1"===e.value?0===t.selectedIndex?(!(i=n.getAttribute(L))||i<n.value)&&(n.value=a-1,t.selectedIndex=o-1):(i=n.getAttribute(L))&&i===n.value?j(ie())<t.selectedIndex&&(t.selectedIndex=t.selectedIndex-1):t.selectedIndex=t.selectedIndex-1:t.selectedIndex===o-1?(!(c=n.getAttribute(R))||parseInt(c,10)>n.value)&&(n.value=a+1,t.selectedIndex=0):(c=n.getAttribute(R))&&c===n.value?j(ie(),!0)>t.selectedIndex&&(t.selectedIndex=t.selectedIndex+1):t.selectedIndex=t.selectedIndex+1,z())}(t):H.findAncestor(e.target)&&Q()))}function ue(e){var t,n=e.currentTarget;e.keyCode===KeyEvent.DOM_VK_DOWN&&(e.altKey||e.metaKey)&&(t=F.findDescendant(M.get(n)))&&(re(t),e.preventDefault())}function le(e){var t,n,a=e||ne();a&&!f.isHidden(a,!0)&&(window.getComputedStyle&&"fixed"===window.getComputedStyle(a).position?(t=ie(a))&&(n=y(t),a.style.top=n.bottom+"px"):a.style.top="",function(e){var t,n,a,o=m(e),i=o.s>0,c=o.w<0;i&&(a=e.offsetTop,isNaN(a)||(e.style.top=a-o.s+"px")),c&&(s.add(e,V.WEST),(o=m(e)).e>0&&(t=y(e),(n=Math.min(t.left,o.e))>0&&(e.style.left=-1*n+"px")))}(a))}function fe(e,t){var n,a,o;e.id===A?t===f.actions.HIDE?(e.removeAttribute(N),(o=document.getElementById(K))&&(o.setAttribute(L,Y.min),o.setAttribute(R,Y.max)),s.remove(e,V.WEST),e.style.left="",e.style.top="",e.removeAttribute("style"),E&&((a=document.getElementById(E))&&l.canFocus(a)&&l.setFocusRequest(a),E=null)):t===f.actions.SHOW&&(le(e),l.focusFirstTabstop(e)):t===f.actions.HIDE&&(n=ne())&&e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINS&&(b=b||new v("tr")).isOneOfMe(e)&&Array.prototype.forEach.call(S.findDescendants(e),function(e){e.parentNode.removeChild(e)})}function ge(){var e,t,n,a=window.getComputedStyle;a||Q(),(e=ne())&&(t=a(e).top,n=a(e).left,"0px"===t&&"0px"===n||Q())}function me(t){var n,a,o=t.target;M.isOneOfMe(o,!1)&&!e.get(o,P)&&(e.set(o,P,!0),u.add(o,"keydown",ue)),o&&(a=ne())&&!f.isHidden(a,!0)&&((n=M.get(o))&&n===M.get(ne())||Q(!0))}function ye(e,t){var n=e?"add":"remove";u.canCapture?u[n](t,"focus",me,null,null,!0):u[n](t,"focusin",me),u[n](t,"click",se)}function ve(e){var t=e?"subscribe":"unsubscribe";u[e?"add":"remove"](window,"resize",ge),f[t](f.actions.SHOW,fe),f[t](f.actions.HIDE,fe)}this.initialise=ye.bind(this,!0),this.postInit=ve.bind(this,!0),this.deinit=function(e){ye(!1,e),ve(!1)},this._keydownEventHandler=Z})});
define("wc/ui/cancelButton",["wc/dom/classList","wc/dom/initialise","wc/dom/Widget","wc/ui/ajax/processResponse","wc/ui/cancelUpdate"],function(n,e,t,i){"use strict";return e.register(new function(){var e=new t("button","wc_btn_cancel"),c="wc_unsaved",s=e.extend(c),d=new t("form");function o(e){var t;e&&(s.isOneOfMe(e)||s.findDescendant(e))&&(t=d.findAncestor(e))&&n.add(t,c)}this.getWidget=function(){return e},this.postInit=function(){var e,t;(e=s.findDescendant(document.body))&&(t=d.findAncestor(e))?n.add(t,c):i.subscribe(o,!0)},this.deinit=function(){i.unsubscribe(o,!0)}})});
define("wc/ui/fieldset",["wc/dom/initialise","wc/ui/ajax/processResponse","wc/ui/getFirstLabelForElement","wc/dom/Widget","wc/dom/tag","wc/ui/onchangeSubmit","wc/dom/classList"],function(e,t,i,n,r,a,c){"use strict";return e.register(new function(){var e=new n("fieldset");function s(e){for(var t,n,s=e.firstChild,o="wc-moved-label ";s&&s.nodeType!==Node.ELEMENT_NODE;)s=s.nextSibling;s&&s.tagName===r.LEGEND||((s=i(e))?(n=s.innerHTML,o+=s.className,t=s.getAttribute("data-wc-accesskey")):((n=e.getAttribute("aria-label"))?e.removeAttribute("aria-label"):(n=e.getAttribute("title"),e.removeAttribute("title")),o+="wc-off"),e.insertAdjacentHTML("afterbegin","<legend class='"+o+"'"+(t?" accesskey = '"+t+"'":"")+">"+n+"</legend>"),s=e.firstChild,c.remove(s,"wc-label"),a.warn(e,s))}function o(t){var i=t||document.body;t&&e.isOneOfMe(i)?s(i):Array.prototype.forEach.call(e.findDescendants(i),s)}this.getWidget=function(){return e},this.preInit=function(){o(),t.subscribe(o,!0)}})});
define("wc/ui/checkBoxSelect",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/shed","wc/dom/clearSelection","wc/dom/group","wc/dom/getFilteredGroup","wc/ui/fieldset","wc/dom/cbrShedPublisher"],function(e,t,i,s,c,n,d,l){"use strict";var o;function a(){var e;this.ITEM=l.getWidget("cb").clone(),this.CONTAINER=d.getWidget().clone().extend("wc-checkboxselect"),this.exclusiveSelect=this.SELECT_MODE.MULTIPLE,this.lastActivated={},this._extendedInitialisation=function(){this.actionable.push(this.ITEM)},this.activate=function(t,i){var s,c=this.getGroupContainer(t);c&&!e&&(i&&(s=document.getElementById(this.lastActivated[c.id]))&&this.doGroupSelect(t,s,c),this.setLastActivated(t))},this.setSelectionByValue=function(e,t){var s,n,d=!0;this.CONTAINER.isOneOfMe(e)&&!i.isHidden(e)&&!i.isDisabled(e)&&(n=c.get(e))&&n.length&&(n.forEach(function(e,c){d&&c===n.length-1&&(d=!1),t.indexOf(e.value)>-1?i.select(e,d):i.deselect(e,d),s=e}),s&&this.setLastActivated(s))},this.doGroupSelect=function(t,c,d){var l,o,a,r,h,f,u,g,E,S;try{if(e=!0,(t&&c&&d&&!i.isDisabled(t)&&!i.isHidden(d)||i.isDisabled(d))&&(l=(u=i.isSelected(t))?n.FILTERS.deselected:n.FILTERS.selected,o=(f=n(t,{filter:n.FILTERS.enabled|l,asObject:!0})).filtered,a=f.unfiltered,o&&o.length)){for(r=Math.min(a.indexOf(t),a.indexOf(c));a[r]&&i.isSelected(a[r])===u;)r++;if(r<a.length){for(h=Math.max(a.indexOf(t),a.indexOf(c));h>=0&&i.isSelected(a[h])===u;)h--;if(h>=0&&(r=o.indexOf(a[r]))>-1)for(h=o.indexOf(a[h]),S=u?"select":"deselect",g=r;g<=h;++g)E=o[g],i[S](E,g!==h)}}s()}finally{e=!1}},this.focusEvent=null}return a.prototype=e,(o=new a).constructor=a,t.register(o)});
define("wc/ui/collapsible",["wc/dom/event","wc/dom/attribute","wc/dom/focus","wc/dom/formUpdateManager","wc/has","wc/dom/initialise","wc/dom/Widget","wc/dom/shed","wc/timers","wc/dom/isEventInLabel","wc/dom/isAcceptableTarget","wc/dom/role","wc/ui/icon"],function(e,t,n,i,a,c,s,r,o,d,u,f,l){"use strict";var p,b=null;return p=new function(){var c=new s("details"),p=new s("summary"),v="wc.ui.collapsible.bootStrapped",w="true",A="false";function E(t,i){var a,s,f=t.target;return d(f)||(u(i,f)?(function(e){var t,n=c.findAncestor(e);n&&(t=r.isExpanded(n),o.setTimeout(function(){var i=r.isExpanded(n);t?i?r.collapse(n):r.publish(n,r.actions.COLLAPSE):i?r.publish(n,r.actions.EXPAND):r.expand(n),b&&b.checkRepaint(e)},0))}(i),s=i):(a=n.getFocusableAncestor(f))&&(a!==f?(t.preventDefault(),o.setTimeout(e.fire,0,a,"click")):s=a)),s}function O(n){var i,c=n.target;n.defaultPrevented||!p.isOneOfMe(c)||t.get(c,v)||(t.set(c,v,!0),e.add(c,"keydown",h),!a("element-details")&&(i=c.parentNode)&&(c.setAttribute("role","button"),c.setAttribute("aria-controls",i.id),c.setAttribute("aria-expanded",r.isExpanded(i)?w:A)))}function m(e){var t;!e.defaultPrevented&&(t=p.findAncestor(e.target))&&E(e,t)}function h(e){var t,n,i=e.target,a=e.keyCode;e.defaultPrevented||e.altKey||e.ctrlKey||a!==KeyEvent.DOM_VK_SPACE&&a!==KeyEvent.DOM_VK_RETURN||!(t=p.findAncestor(i))||r.isDisabled(t)||(n=E(e,t),i!==t&&n||e.preventDefault())}function g(e,t){var n;e&&c.isOneOfMe(e)&&(n=p.findDescendant(e))&&(t===r.actions.DISABLE?r.isDisabled(n)&&r.enable(n,!0):"button"===f.get(n)&&n.setAttribute("aria-expanded",t===r.actions.EXPAND?w:A),t===r.actions.EXPAND?l.change(n,"fa-caret-down","fa-caret-right"):t===r.actions.COLLAPSE&&l.change(n,"fa-caret-right","fa-caret-down"))}function D(e,t){function n(e){var n=r.isExpanded(e)?"open":"closed";i.writeStateField(t,e.id,n,!1,!0)}Array.prototype.forEach.call(c.findDescendants(e),n),c.isOneOfMe(e)&&n(e)}function M(e){var t=e?"subscribe":"unsubscribe";r[t](r.actions.DISABLE,g),r[t](r.actions.EXPAND,g),r[t](r.actions.COLLAPSE,g),i[t](D)}function P(t,n){var i=t?"add":"remove";e.canCapture?e[i](n,"focus",O,null,null,!0):e[i](n,"focusin",O),e[i](n,"click",m)}p.descendFrom(c,!0),this.isOneOfMe=function(e,t){return t?c.isOneOfMe(e):!1===t?p.isOneOfMe(e):s.isOneOfMe(e,[p,c])},this.getActionElement=function(e){var t;return c.isOneOfMe(e)&&(t=p.findDescendant(e)),t},this.initialise=P.bind(this,!0),this.postInit=M.bind(this,!0),this.deinit=function(e){M(!1),P(!1,e)},this._keydownEvent=h},8===a("ie")&&require(["wc/fix/inlineBlock_ie8"],function(e){b=e}),c.register(p)});
define("wc/dom/convertDynamicContent",["wc/dom/formUpdateManager","wc/dom/serialize","wc/dom/Widget"],function(e,n,i){"use strict";var t;return function(d){var r,a,o=e.getStateContainer(d);for(t=t||new i("","",{name:null}),d.parentNode.appendChild(o),e.update(d,null,!0),(r=t.findDescendants(d))&&r.length&&(a=n.serialize(r,!1),n.deserialize(a,o)),d.innerHTML="";o.firstChild;)d.appendChild(o.firstChild);o.parentNode.removeChild(o)}});
define("wc/ui/getForm",["wc/dom/Widget"],function(e){"use strict";var n;return function(r,t){var o;return r?r.form?r.form:(n=n||new e("form")).findAncestor(r):!t&&(o=document.getElementsByTagName("form"))&&o.length?o[0]:null}});
define("wc/ui/containerload",["wc/dom/shed","wc/ajax/triggerManager","wc/ui/ajaxRegion","wc/dom/initialise","wc/dom/uid","wc/dom/Widget","wc/dom/classList","wc/dom/convertDynamicContent","wc/timers","wc/dom/event","wc/ui/getForm"],function(e,n,i,t,o,r,a,c,s,d,u){"use strict";var f=new function(){var m,g="wc_magic",w=new r("",g),l=w.extend("wc_dynamic"),O=new r("","wc_lame"),v="data-wc-get";function b(e,t,r){var c;return e?new Promise(function(d,u){!function(e,n,t){var r,a,c=e.id||(e.id=o()),s=!l.isOneOfMe(e),d=t?"get":"post",u=!n;r=e.getAttribute("data-wc-ajaxalias")||c,a=e.getAttribute(v)||null,i.register({id:c,loads:[c],alias:r,oneShot:s,getData:a,serialiseForm:u,method:d,formRegion:r})}(e,t,r),(c=n.getTrigger(e.id))?(l.isOneOfMe(e)?n.removeTrigger(e.id):a.remove(e,g),s.setTimeout(function(){c.fire().then(d,u)},0)):u()}):Promise.resolve()}function h(e){var n,i;return e&&(O.isOneOfMe(e)?(i=u(e,!0))&&s.setTimeout(d.fire,0,i,"submit"):w.isOneOfMe(e)&&(n=b(e,!1,!0))),n||Promise.resolve()}function M(n,i){var t,o=[O,l];(t=i===e.actions.COLLAPSE?r.isOneOfMe(n,o)?n:r.findDescendant(n,o,!0)||n:n)&&r.isOneOfMe(t,o)&&c(t)}function L(){m||(m=!0,e.subscribe(e.actions.EXPAND,f.onexpand),e.subscribe(e.actions.COLLAPSE,M),e.subscribe(e.actions.SHOW,f.onshow),e.subscribe(e.actions.HIDE,M))}function x(e){var n=document.getElementById(e);!n||n.innerHTML&&n.innerHTML.trim()||(console.log("Eager loading: ",e),b(n,!0,!0))}t.addCallback(L),this.load=function(e,n,i){L(),b(e,n,i)},this.onshow=function(e){return h(e)},this.onexpand=function(e){var n=[O,w],i=r.isOneOfMe(e,n)?e:r.findDescendant(e,n,!0);return h(i)},this.register=function(e){e&&e.length&&t.addCallback(function(){!function(e){var n;L();for(;n=e.shift();)x(n)}(e)})}};return f});
define("wc/ui/viewportUtils",["wc/dom/getViewportSize","wc/config"],function(i,n){"use strict";return new function(){var t={large:1981,small:1e3,phone:773},e=window.devicePixelRation||1;function r(n,t){var e=i();return!!e&&(t?e.width>=n:e.width<=n)}function o(){var i=n.get("wc/ui/viewportUtils",t);return Object.keys(t).forEach(function(n){i[n]&&!isNaN(i[n])||(i[n]=t[n])}),i}this.isPhoneLike=function(){return r(o().phone)},this.isSmallScreen=function(){return r(o().small)},this.isLargeScreen=function(){return r(o().large,!0)},this.isHighDef=function(){return e>=2},this.isModerateDefinition=function(){return e>=1.5&&e<2},this.isHigherDefinition=function(){return e>=1.5},this.isStandardDefinition=function(){return!e||1===e}}});
define("wc/ui/tabset",["wc/array/toArray","wc/dom/ariaAnalog","wc/dom/formUpdateManager","wc/dom/getFilteredGroup","wc/dom/initialise","wc/dom/shed","wc/dom/Widget","wc/ui/containerload","wc/dom/focus","wc/dom/classList","wc/ui/viewportUtils","wc/ui/ajax/processResponse","wc/dom/event","wc/debounce","wc/dom/getStyle"],function(e,t,n,i,r,a,s,o,c,d,l,u,f,E,h){"use strict";var b;function p(){var t,r=new s("","",{role:"tablist"}),p=new s("","",{role:"tabpanel"}),A=new s("","wc-tabset"),v=E(function(){K()},100),y="data-wc-converted",I="aria-multiselectable",g="true",w="false",S="wc-tabset-type-accordion",T="data-wc-height",x="data-wc-width",O="data-wc-size";function m(e){return e.getAttribute(I)}function D(e){var t;e.getAttribute(O)&&(e.removeAttribute(O),(t=e.getAttribute(x))?e.style.width=t:e.style.width&&(e.style.width=""),(t=e.getAttribute(T))?e.style.height=t:e.style.height&&(e.style.height=""))}function L(e,t){var n,i,s=r.findDescendant(e);s&&(!(i=m(s))||t&&i!==g||(n=t?"expand":"collapse",Array.prototype.forEach.call(b.ITEM.findDescendants(s),function(e){a.isExpanded(e)!==t&&a[n](e)})))}function M(e,t){var n,s;e===a.actions.EXPAND&&b.setFocusIndex(t),(s=b.getGroupContainer(t))&&(n=N(t))&&(e===a.actions.EXPAND?(a.show(n),m(s)===w&&function(e){var t,n,s,o={filter:i.FILTERS.enabled|i.FILTERS.expanded,containerWd:r,itemWd:b.ITEM};for(t=(s=i(e,o)).length-1;t>=0;t--)(n=s[t])!==e&&a.collapse(n)}(t)):e===a.actions.COLLAPSE&&a.hide(n))}function C(e,t){var n,i,r,s=function(){i&&D(i)};e===a.actions.SELECT&&(b.setFocusIndex(t),b.constructor.prototype.shedObserver.call(b,t,e)),(r=b.getGroupContainer(t))&&(n=N(t))&&(m(r)||(i=n.parentNode),e===a.actions.SELECT?(a.show(n,!0),o.onshow(n).then(s).catch(s)):e===a.actions.DESELECT&&(i&&function(e){var t,n,i,r,a=!1;e.getAttribute(O)||(t=h(e,"width",!0,!0),n=h(e,"height",!0,!0),t&&n&&(a=!0,e.setAttribute(O,"x"),(i=e.style.width)?e.setAttribute(x,i):e.style.width=t,(r=e.style.height)?e.setAttribute(T,r):e.style.height=n))}(i),a.hide(n)))}function F(){var e,n,a,s;try{if(!t||!(e=document.getElementById(t)))return;a=m(b.getGroupContainer(e)),s=i.FILTERS.enabled|(a?i.FILTERS.expanded:i.FILTERS.selected),(n=i(e,{filter:s,containerWd:r,itemWd:b.ITEM}))&&n.length&&b.setFocusIndex(n[0])}finally{t=""}}function R(e){var t,n,i,r;return b.ITEM.findAncestor(e)?null:((n=p.findAncestor(e))&&(i=n.id)&&(r=A.findAncestor(n))&&(t=b.ITEM.extend("",{"aria-controls":i}).findDescendant(r)),t)}function N(e){var t;return(t=e.getAttribute("aria-controls"))?document.getElementById(t):(console.warn("tab does not control a tabPanel"),null)}function P(e){var t,n,i;if(A.isOneOfMe(e)&&e.getAttribute(y)&&(t=r.findDescendant(e,!0))&&m(t))try{(i=b.ITEM.findDescendants(t,!0))&&i.length&&(Array.prototype.forEach.call(i,function(t){var n=N(t);n&&e.appendChild(n),t.setAttribute("aria-selected",a.isExpanded(t)?g:w),t.removeAttribute("aria-expanded")}),n=!0)}finally{n&&(d.remove(e,S),(d.contains(e,"wc-tabset-type-left")||d.contains(e,"wc-tabset-type-right"))&&t.setAttribute("aria-orientation","vertical"),t.removeAttribute(I),e.removeAttribute(y))}}function _(e){var t,n,i;if(A.isOneOfMe(e)&&(t=r.findDescendant(e,!0))&&!m(t))try{(i=b.ITEM.findDescendants(t,!0))&&i.length&&(Array.prototype.forEach.call(i,function(e){var t=N(e),n=e.parentNode;t&&(e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t)),e.setAttribute("aria-expanded",a.isSelected(e)?g:w),e.removeAttribute("aria-selected")}),n=!0)}finally{n&&(d.add(e,S),t.setAttribute(I,w),t.removeAttribute("aria-orientation"),D(e),e.setAttribute(y,g))}}function K(t){var n,i=t||document.body;(n=A.isOneOfMe(i)?[i]:e(A.findDescendants(i))).length&&(l.isSmallScreen()?n.forEach(_):n.forEach(P))}this.ITEM=new s("","",{role:"tab"}),this.selectOnNavigate=function(e){var t=this.getGroupContainer(e);return!t||!t.getAttribute(I)},this.exclusiveSelect=this.SELECT_MODE.MIXED,this._cycle=!0,this.getList=function(){return r},this.collapseAll=function(e){L(e,!1)},this.expandAll=function(e){L(e,!0)},this.areAllInExpandedState=function(e,t){var n,i=r.findDescendant(e);return!(!i||!(n=m(i)))&&((n!==w||!t)&&Array.prototype.every.call(this.ITEM.findDescendants(i),function(e){if(a.isExpanded(e)===t)return!0}))},this.shedObserver=function(e,t){if(e)if(this.ITEM.isOneOfMe(e))switch(t){case a.actions.SELECT:case a.actions.DESELECT:C(t,e);break;case a.actions.EXPAND:case a.actions.COLLAPSE:M(t,e);break;case a.actions.DISABLE:!function(e){var t,n,s;"0"===e.tabIndex&&(t=b.getGroupContainer(e))&&((n=m(t))?a.isExpanded(e):a.isSelected(e))&&(n&&(s=i(e,{filter:i.FILTERS.enabled|i.FILTERS.expanded,containerWd:r,itemWd:b.ITEM}))&&s.length||(s=i(e,{filter:i.FILTERS.enabled,containerWd:r,itemWd:b.ITEM}))&&s.length&&(e.tabIndex="-1",s[0].tabIndex="0"))}(e);break;case a.actions.ENABLE:!function(e){var t,n,s,o;"-1"===e.tabIndex&&(t=b.getGroupContainer(e))&&(((n=m(t))?a.isExpanded(e):a.isSelected(e))?e.tabIndex="0":(o=i.FILTERS.enabled|(n?i.FILTERS.expanded:i.FILTERS.selected),(s=i(e,{filter:o,containerWd:r,itemWd:b.ITEM}))&&s.length?e.tabIndex="-1":e.tabIndex="0"))}(e);break;default:console.warn("Unknown action",t)}else t!==a.actions.DISABLE&&t!==a.actions.ENABLE||!r.isOneOfMe(e)||Array.prototype.forEach.call(this.ITEM.findDescendants(e),function(e){a[t](e)})},this.activate=function(e){var t=this.getGroupContainer(e);t&&(m(t)?A.findAncestor(t).getAttribute(y)?a.isExpanded(e)||a.expand(e):a.toggle(e,a.actions.EXPAND):a.isSelected(e)||a.select(e))},this.writeState=function(e,t){var s=r.findDescendants(e),o=function(e,t){var r,s,o,c={asObject:!0,filter:i.FILTERS.enabled},d=t.parentNode.id;a.isDisabled(t)||a.isDisabled(t.parentElement)||(m(t)?c.filter=c.filter|i.FILTERS.expanded:c.filter=c.filter|i.FILTERS.selected,(r=i(t,c))&&(s=r.filtered,r=r.unfiltered,s.length?s.forEach(function(t){o=r.indexOf(t),n.writeStateField(e,d,o,!1,!0)}):n.writeStateField(e,d,"",!1,!0)))}.bind(this,t);s.length&&Array.prototype.forEach.call(s,o),this.ITEM.isOneOfMe(e)&&o(r.findAncestor(e))},this.focusEvent=function(e){var n,i,a,s=e.target;this.constructor.prototype.focusEvent.call(this,e),(n=b.ITEM.findAncestor(s))?(t&&(i=document.getElementById(t))&&(a=r.findAncestor(i)),a&&a!==r.findAncestor(n)&&F(),t=n.id):t&&F()},this.keydownEvent=function(e){var t,n,i,a=e.keyCode,s=e.target;if(e.shiftKey||!e.ctrlKey&&!e.metaKey)this.constructor.prototype.keydownEvent.call(this,e);else if(o=s,(d=p.findAncestor(o))&&(d=d.parentNode)&&r.isOneOfMe(d)&&m(d)){var o,d;if(a===KeyEvent.DOM_VK_PAGE_UP||a===KeyEvent.DOM_VK_PAGE_DOWN)(t=R(s))&&(i=a===KeyEvent.DOM_VK_PAGE_UP?b.KEY_DIRECTION.PREVIOUS:b.KEY_DIRECTION.NEXT,n=b.navigate(t,i));else{if(a!==KeyEvent.DOM_VK_UP)return void this.constructor.prototype.keydownEvent.call(this,e);n=R(s)}n&&(e.preventDefault(),c.setFocusRequest(n))}},this._extendedInitialisation=function(e){K(e),u.subscribe(K,!0),a.subscribe(a.actions.EXPAND,this.shedObserver.bind(this)),a.subscribe(a.actions.COLLAPSE,this.shedObserver.bind(this)),a.subscribe(a.actions.ENABLE,this.shedObserver.bind(this)),a.subscribe(a.actions.DISABLE,this.shedObserver.bind(this)),f.add(window,"resize",v,1)}}return p.prototype=t,(b=new p).constructor=p,r.register(b)});
define("wc/ui/radioAnalog",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/Widget"],function(i,t,e){"use strict";var n;function o(){this.ITEM=new e("","",{role:"radio"}),this.selectOnNavigate=function(){return!0},this.exclusiveSelect=this.SELECT_MODE.SINGLE}return o.prototype=i,(n=new o).constructor=o,t.register(n)});
define("wc/ui/collapsibleToggle",["wc/array/toArray","wc/dom/event","wc/dom/focus","wc/dom/initialise","wc/dom/Widget","wc/dom/shed","wc/timers","wc/ui/tabset","wc/ui/ajax/processResponse","wc/ui/radioAnalog"],function(e,n,t,c,i,o,a,r,s){"use strict";return c.register(new function(){var c,d=new i("","wc-collapsibletoggle"),u=new i("button","wc_collapsibletoggle"),l=new i("details"),f=new i("","wc-tabset-type-accordion"),p="expand",b="aria-controls";function w(n){var t=(d.isOneOfMe(n)?u.findDescendant(n):n).getAttribute(b);return t?t.split(/\s+/).map(function(e){return document.getElementById(e)}):e(l.findDescendants(document.body))}function g(e){var s,d=e.getAttribute("data-wc-value")===p;(s=w(e))&&s.forEach(function(e){e&&function(e,t){var a;l.isOneOfMe(e)?(c||(c=new i("summary")).descendFrom(l,!0),t!==e.hasAttribute("open")&&(a=c.findDescendant(e))&&n.fire(a,"click")):f.isOneOfMe(e)&&!o.isDisabled(e)&&(t?r.expandAll(e):r.collapseAll(e))}(e,d)}),a.setTimeout(t.setFocusRequest,0,e)}function A(e){!function(e,n){var t,c,i=!1,a=w(e),s=!!n;if(a&&a.length)for(i=!0,t=0;t<a.length;++t)if(c=a[t])if(f.isOneOfMe(c)){if(!(i=r.areAllInExpandedState(c,s)))return!1}else if(o.isExpanded(c)!==s)return!1;return i}(e,"expand"===e.getAttribute("data-wc-value"))?o.deselect(e,!0):o.select(e,!0)}function m(n){var t;n&&(t=function(n){var t,c=l.isOneOfMe(n)?n:f.findAncestor(n);return c&&c.id&&(t=u.extend("",{"aria-controls":c.id}).findDescendants(document.body))&&t.length?e(t):null}(n))&&t.length&&t.forEach(A)}function y(e){var n,t,c,o,a=e.getAttribute("data-wc-group"),r=[];n=[l.extend("",{"data-wc-group":a}),f.extend("",{"data-wc-group":a})],(t=i.findDescendants(document.body,n))&&t.length||(t=l.findDescendants(document.body)),Array.prototype.forEach.call(t,function(e){r.push(e.id)}),r.length&&(c=u.findDescendants(e),o=r.join(" "),Array.prototype.forEach.call(c,function(e){e.setAttribute(b,o)}))}function h(){Array.prototype.forEach.call(d.findDescendants(document.body),y)}function E(e){var n;e&&u.isOneOfMe(e)&&(g(e),n=d.findAncestor(e),Array.prototype.forEach.call(u.findDescendants(n),A))}this.postInit=function(){h(),o.subscribe(o.actions.SELECT,E),o.subscribe(o.actions.EXPAND,m),o.subscribe(o.actions.COLLAPSE,m),s.subscribe(h,!0)}})});
define("wc/ui/confirm",["wc/dom/event","wc/dom/initialise","wc/dom/Widget","wc/ui/cancelButton","wc/dom/focus"],function(t,e,n,i,c){"use strict";return e.register(new function(){var e=new n("button","",{"data-wc-btnmsg":null}),o=i.getWidget();function u(t){var n,i;!t.defaultPrevented&&(n=e.findAncestor(t.target))&&!o.isOneOfMe(n)&&c.canFocus(n)&&((i=n.getAttribute("data-wc-btnmsg"))?window.confirm(i)||(t.preventDefault(),c.setFocusRequest(n)):console.warn("No message found for element",n))}this.getWidget=function(){return e},this.initialise=function(e){t.add(e,"click",u,-1)}})});
define("wc/ui/defaultSubmit",["wc/dom/event","wc/dom/initialise","wc/dom/Widget"],function(e,t,n){"use strict";var i;return i=new function(){var t,i=new n("input"),r=i.extend("",{type:"file"}),u=new n("button","",{type:"submit"}),c=new n("","",{"data-wc-submit":null}),d="data-wc-submit";function f(f){var s,a=f.keyCode,o=f.target;!f.defaultPrevented&&a===KeyEvent.DOM_VK_RETURN&&o.form&&function(e){return!!(t=t||new n("select")).isOneOfMe(e)||i.isOneOfMe(e)&&!r.isOneOfMe(e)}(o)&&(s=function(e){var t,n,i,r=e.form;return r&&!(t=u.findAncestor(e))&&(!(n=e.getAttribute(d))&&(i=c.findAncestor(e))&&(n=i.getAttribute(d)),n?t=document.getElementById(n):r&&(t=u.findDescendant(r))),t}(o))&&(f.preventDefault(),e.fire(s,"click"))}this.initialise=function(t){e.add(t,"keypress",f,-1)}},t.register(i),i});
define("wc/ui/modalShim",["wc/dom/attribute","wc/dom/uid","wc/dom/classList","wc/dom/event","wc/dom/focus","wc/dom/Widget","wc/dom/shed","wc/timers","wc/Observer"],function(e,t,n,o,i,u,c,s,d){"use strict";return new function(){var r,l,m="wc-shim",a=!1,f=new u("","",{accesskey:null}),h="accesskey",w={},y="wc/ui/modalShim.wired";function b(e){a=e.shiftKey}function v(e){!e.defaultPrevented&&r&&(e.target.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINS||s.setTimeout(i.focusFirstTabstop,0,r,null,a))}function N(e){e.defaultPrevented||!r||e.target.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINS||e.preventDefault()}function p(t){var n=t?"add":"remove",i=document.body;t&&e.get(i,y)||(t?e.set(i,y,!0):e.remove(i,y),o[n](i,"keydown",b,!1),o[n](i,"keyup",b,!1),o.canCapture?t?(o[n](i,"focus",v,null,null,!0),o[n](document.body,"touchstart",N,null,null,!0)):(o[n](i,"focus",v,!0),o[n](document.body,"touchstart",N,!0)):o[n](i,"focusin",v))}this.setModal=function(e,o){var i,u,s,d=document.getElementById(m)||(i=document,u=i.body,(s=i.createElement("div")).id=m,c.hide(s,!0),u.firstChild?u.insertBefore(s,u.firstChild):u.appendChild(s),s);d.style.height=document.documentElement.scrollHeight+"px",c.show(d,!0),r=e||d,p(!0),o&&n.add(d,o),Array.prototype.forEach.call(f.findDescendants(document),function(n){var o=n.id||(n.id=t());!e||n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS||(w[o]=n.getAttribute(h),n.removeAttribute(h))}),l&&(l.setFilter("shimshow"),l.notify(r))},this.clearModal=function(){var e,t,n,o;try{if((e=document.getElementById(m))&&!c.isHidden(e,!0)){for(t in p(),e.className="",w)(n=document.getElementById(t))&&n.setAttribute(h,w[t]);c.hide(e,!0)}o=!0}finally{r=null,w={},o&&l&&l.notify()}},this.subscribe=function(e,t){var n=null;return l||(l=new d),t&&(n={group:"shimshow"}),l.subscribe(e,n)},this.unsubscribe=function(e,t){var n;return l?(n=t?"shimshow":null,l.unsubscribe(e,n)):null}}});
define("wc/dom/getEventOffset",[],function(){"use strict";return function(e){var t={};return t.X=e.pageX?e.pageX:e.clientX+document.documentElement.scrollLeft,t.Y=e.pageY?e.pageY:e.clientY+document.documentElement.scrollTop,t}});
define("wc/ui/resizeable",["wc/dom/attribute","wc/dom/classList","wc/dom/clearSelection","wc/dom/event","wc/dom/getEventOffset","wc/dom/isAcceptableTarget","wc/dom/getBox","wc/dom/getStyle","wc/dom/initialise","wc/dom/shed","wc/dom/uid","wc/dom/Widget","wc/has","wc/ui/ajax/processResponse","wc/Observer","wc/timers","wc/ui/icon","wc/config"],function(e,t,i,n,a,o,r,c,s,d,u,l,h,m,f,w,g,v){"use strict";var b;return b=new function(){var s,y,p,E,x=new l("","wc_resize"),A=new l("button","wc_maxcont"),z=new l("","wc_maxcont"),O="wc_max",_=0,T={},N={},S="px",D=6,M="wc.ui.resizeable",k=M+".inited",C=M+".move.inited",I=100;function K(e){return e.getAttribute("data-wc-resizedirection")}function L(){var e=v.get("wc/ui/resizeable",{delay:I});return(e.delay||0===e.delay)&&!isNaN(e.delay)&&e.delay>=0?e.delay:I}function P(e){return x.findAncestor(e)}function B(e){var t=e,i=e.getAttribute("data-wc-resize");return i&&(t=document.getElementById(i)),t}function F(e){var t=e;if(y=y||function(){var e,t=document,i=t.defaultView,n=!(i&&i.getComputedStyle),a=c(t.body,"fontSize",n,!0)||0;return isNaN(a)?(e=parseFloat(a),a.indexOf(S)?e:a.indexOf("%")?16*e/100:a.indexOf("em")?16*e:e):a}(),t&&isNaN(t)){if(t.indexOf(S)>-1)return parseInt(t,10);t=Math.round(parseFloat(t)*y)}return isNaN(t)?0:t}function V(e,t){var i,n,a,o=e.style.height,c=e.style.width;try{return t&&(i=c,n=o,e.style.width="",e.style.height="",c=0,o=0),a=r(e),o=o?parseFloat(o.replace(S,"")):a.height,{width:c=c?parseFloat(c.replace(S,"")):a.width,height:o}}finally{i&&(e.style.width=i),n&&(e.style.height=n)}}function W(e,t){var i,n="min-"+(t?"height":"width"),a=!(document.defaultView&&document.defaultView.getComputedStyle),o=c(e,n,a,!0)||0;return isNaN(o)?"auto"===o||o.indexOf("-content")?(i=V(e,!0),t?parseFloat(i.height):parseFloat(i.width)):0:o}function H(e,t,n,a){var o,r,c,s,d,u,l;try{e&&(o=V(e))&&(l=(u=v.get("wc/ui/resizeable",{min:_})).min&&!isNaN(u.min)&&u.min>0?u.min:_,t&&(r=(r=W(e))?F(r):l,(s=Math.round(Math.max(o.width+t,r)))>r&&s!==parseInt(e.style.width)&&(e.style.width=s+S,c=!0)),n&&(r=(r=W(e,!0))?F(r):l,(d=Math.round(Math.max(o.height+n,r)))>r&&d!==parseInt(e.style.height)&&(e.style.height=d+S,c=!0)))}finally{i(),a&&c&&p&&(E&&(w.clearTimeout(E),E=null),E=w.setTimeout(p.notify,L(),e))}}function X(e){var t,i,n,r,c=e.target;!e.defaultPrevented&&(t=P(c))&&o(t,c)&&(r=B(t))&&(i=r.id||(r.id=u()),b.disableAnimation(r),n=a(e),s=i,N[i]=n.Y,T[i]=n.X)}function Y(e){var t,i,n,a,r;!e.defaultPrevented&&1===e.touches.length&&(t=e.touches[0])&&(i=t.target)&&(n=P(i))&&o(n,i)&&(r=B(n))&&(a=r.id||(r.id=u()),s=a,b.disableAnimation(r),T[a]=t.pageX,N[a]=t.pageY,e.preventDefault())}function R(e){var t,i,n,a,o=e.target,r=0,c=0,s=e.keyCode,d=D;if(!e.defaultPrevented&&(t=P(o))&&(i=B(t))){switch(n=K(i),(a=v.get("wc/ui/resizeable",{step:D})).step&&!isNaN(a.step)&&a.step>0&&(d=a.step),s){case KeyEvent.DOM_VK_RIGHT:"v"!==n&&(r=d);break;case KeyEvent.DOM_VK_LEFT:"v"!==n&&(r=0-d);break;case KeyEvent.DOM_VK_DOWN:"h"!==n&&(c=d);break;case KeyEvent.DOM_VK_UP:"h"!==n&&(c=0-d)}(r||c)&&(b.disableAnimation(i),H(i,r,c,!0),b.restoreAnimation(t),e.preventDefault())}}function j(e,t,i){var n=e.id,a=K(e),o="v"===a?0:t-T[n],r="h"===a?0:i-N[n];e&&(o||r)&&H(e,o,r),T[n]=t,N[n]=i}function G(e){var t,i;s&&!e.defaultPrevented&&(t=document.getElementById(s))&&(b.disableAnimation(t),j(t,(i=a(e)).X,i.Y))}function U(e){var t,i;s&&!e.defaultPrevented&&1===e.changedTouches.length&&(t=e.changedTouches[0])&&t.target&&(i=document.getElementById(s))&&(j(i,t.pageX,t.pageY),e.preventDefault())}function q(e){var t,i=e.target;!e.defaultPrevented&&(t=A.findAncestor(i))&&(d.toggle(t,d.actions.SELECT),e.preventDefault())}function J(e){var t,n,a=e.target;!e.defaultPrevented&&(t=z.findAncestor(a))&&o(t,a)&&(n=A.findDescendant(t))&&(d.toggle(n,d.actions.SELECT),i(),e.preventDefault())}function Q(){var e;s&&(e=document.getElementById(s))&&(p&&(E&&(w.clearTimeout(E),E=null),E=w.setTimeout(p.notify,L(),e)),b.restoreAnimation(e)),s=null}function Z(t){var i=document.body;e.get(t,k)||(e.set(t,k,!0),n.add(t,"mousedown",X),n.add(t,"keydown",R),h("event-ontouchstart")&&n.add(t,"touchstart",Y)),e.get(i,C)||(e.set(i,C,!0),n.add(i,"mousemove",G),h("event-ontouchmove")&&n.add(i,"touchmove",U))}function $(e){e&&(x.isOneOfMe(e)?Z(e):te(e))}function ee(e,i){var n;e&&A.isOneOfMe(e)&&(n=B(e))&&(t[i===d.actions.SELECT?"add":"remove"](n,O),i===d.actions.SELECT?g.change(e,"fa-minus","fa-plus"):g.change(e,"fa-plus","fa-minus"))}function te(e){var t=e||document.body;Array.prototype.forEach.call(x.findDescendants(t),Z)}this.initialise=function(e){n.add(e,"mouseup",Q),n.add(e,"click",q),n.add(e,"dblclick",J),h("event-ontouchend")&&n.add(e,"touchend",Q),h("event-ontouchcancel")&&n.add(document.body,"touchcancel",Q)},this.getWidget=function(){return{handle:x,maximise:A}},this.setMaxBar=function(e){t.add(e,"wc_maxcont")},this.clearMaxBar=function(e){t.remove(e,"wc_maxcont")},this.postInit=function(){te(),d.subscribe(d.actions.SELECT,ee),d.subscribe(d.actions.DESELECT,ee),d.subscribe(d.actions.SHOW,te),m.subscribe($,!0)},this.subscribe=function(e){function t(e){return p.subscribe(e)}return p||(p=new f,this.subscribe=t),t(e)},this.getTarget=B,this.clearSize=function(t,i){var n,a=B(t);return!!a&&(n=a.style,i&&!e.get(t,"data-wc-storedsize")&&e.set(t,"data-wc-storedsize",n.width+","+n.height+","+n.maxWidth+","+n.maxHeight),n.width="",n.height="",n.minWidth="",n.minHeight="",p&&p.notify(a),!0)},this.resetSize=function(t,i){var n=e.get(t,"data-wc-storedsize");n&&(e.remove(t,"data-wc-storedsize"),n=n.split(","),t.style.width=n[0],t.style.height=n[1],t.style.maxWidth=n[2],t.style.maxHeight=n[3],p&&!i&&p.notify(t))},this.makeAnimatable=function(e){t.add(e,"wc_resizeflow")},this.clearAnimatable=function(e){t.remove(e,"wc_resizeflow")},this.disableAnimation=function(e){t.contains(e,"wc_resizeflow")&&(this.clearAnimatable(e),e.setAttribute("data-wc-resizeableremovedanimation","true"))},this.restoreAnimation=function(e){"true"===e.getAttribute("data-wc-resizeableremovedanimation")&&(this.makeAnimatable(e),e.removeAttribute("data-wc-resizeableremovedanimation"))}},s.register(b)});
define("wc/ui/positionable",["wc/dom/getViewportSize","wc/dom/getBox","wc/dom/getStyle","wc/dom/uid","wc/dom/event","wc/dom/initialise","wc/dom/shed","wc/timers","wc/ui/resizeable"],function(t,e,i,l,s,o,h,y,n){"use strict";var d;return d=new function(){var o,f="px",c="0"+f,r={length:0},a=100;function w(t){var e,i,l;"length"!==t&&(i=r[t]).conf&&(e=document.getElementById(t))&&!h.isHidden(e)&&(e.style.width&&(i.conf.width=e.style.width.replace(f,""),l=!0),e.style.height&&(i.conf.height=e.style.height.replace(f,""),l=!0),l&&d.storePosBySize(e,i.conf),d.setBySize(e,i.conf))}function g(){Object.keys(r).forEach(w)}function p(t){r.length&&(o&&y.clearTimeout(o),o=y.setTimeout(g,a,t))}function u(t){var e,i,l=t.id;l&&(e=r[l])&&(i=e.conf)&&(t.style.width?i.width=t.style.width.replace(f,""):delete i.width,t.style.height?i.height=t.style.height.replace(f,""):delete i.height,d.storePosBySize(t,i),d.setBySize(t,i))}this.setPosition=function(l,s,o){var h,y,n,d,r,a=l.nodeType?l:document.getElementById(l);a&&a.style&&((s||0===s)&&(a.style.left=s+f),(o||0===o)&&(a.style.top=o+f),h=a,r=t(!0),h.style.top&&parseFloat(h.style.top)<0&&(h.style.top=c),h.style.left&&parseFloat(h.style.left)<0&&(h.style.left=c),(y=e(h)).width>r.width||y.height>r.height?(n=!0,y.width>r.width&&(h.style.left=c,"100%"!==i(h,"maxWidth",!0,!0)&&(h.style.maxWidth="100%")),y.height>r.height&&(h.style.top=c,"100%"!==i(h,"maxHeight",!0,!0)&&(h.style.maxHeight="100%")),(d=i(h,"overflow",!1,!0))&&"visible"!==d||(h.style.overflow="auto")):"auto"===h.style.overflow&&(h.style.overflow=""),n&&(y=e(h)),y.left<0&&(h.style.left=c),y.top<0&&(h.style.top=c))},this.storePosBySize=function(t,e){var i=t.id||(t.id=l());r[i]||++r.length,r[i]={id:i,conf:e}},this.setBySize=function(i,s){var o,h,y,n,d,c,a=i.nodeType?i:document.getElementById(i),w=a.id||(a.id=l()),g=.5,p=.5;s&&(h=s.width,y=s.height,g=void 0!==s.topOffsetPC?s.topOffsetPC:g,p=void 0!==s.leftOffsetPC?s.leftOffsetPC:p),o=t(!0),r[w]||++r.length,r[w]={id:w,conf:s},a.style.top="",a.style.left="",(n=e(a))&&(h=n.width||h,y=n.height||y),!h&&a.style.width&&(h=parseFloat(a.style.width.replace(f,""))),!y&&a.style.height&&(y=parseFloat(a.style.height.replace(f,""))),h=h||0,c=(o.width-h)*p,y=y||0,d=(o.height-y)*g,this.setPosition(a,c,d)},this.clearZeros=function(t,e){e||t.style.top!==c||(t.style.top=""),t.style.bottom===c&&(t.style.bottom=""),e||t.style.left!==c||(t.style.left=""),t.style.right===c&&(t.style.right="")},this.clear=function(t){t.style.top="",t.style.left="",t.style.right="",t.style.bottom=""},this.postInit=function(){s.add(window,"resize",p,1),n.subscribe(u)}},o.register(d)});
define("wc/ui/draggable",["wc/dom/attribute","wc/dom/clearSelection","wc/dom/event","wc/dom/getEventOffset","wc/dom/isAcceptableTarget","wc/dom/getBox","wc/dom/initialise","wc/dom/shed","wc/dom/uid","wc/dom/Widget","wc/has","wc/ui/ajax/processResponse","wc/ui/positionable","wc/ui/resizeable","wc/config"],function(e,t,n,a,o,i,r,c,d,u,s,f,l,g,v){"use strict";return r.register(new function(){var r,m=new u("","",{"data-wc-draggable":"true"}),b="data-wc-dragfor",w={},h={},p=v.get("wc/ui/draggable",{step:8}),y="wc.ui.draggable.inited";function A(e){var t=e,n=e.getAttribute(b);return n&&(t=document.getElementById(n)),t}function D(e){var t,n,c,u,s,f=e.target;!e.defaultPrevented&&(t=m.findAncestor(f))&&o(t,f)&&(s=A(t))&&(c=s.id||(s.id=d()),r=c,u=a(e),n=i(s,!0),w[c]=u.X-n.left,h[c]=u.Y-n.top)}function E(e){var t,n,a,o=e.target,r=e.keyCode;if(!e.defaultPrevented&&(t=m.findAncestor(o)))switch(r){case KeyEvent.DOM_VK_RIGHT:n=p.step;break;case KeyEvent.DOM_VK_LEFT:n=0-p.step;break;case KeyEvent.DOM_VK_DOWN:a=p.step;break;case KeyEvent.DOM_VK_UP:a=0-p.step}(function(e,t,n){var a,o,r;if(!t&&!n)return!1;if(!(a=A(e)))return!1;try{return g.disableAnimation(a),r=!0,t=t||0,n=n||0,o=i(a,!0),l.clearZeros(a,!0),l.setPosition(a,o.left+t,o.top+n),!0}finally{r&&g.restoreAnimation(a)}})(t,n,a)&&e.preventDefault()}function O(e){var t,n,a,c,u,s;e.defaultPrevented||1!==e.touches.length||(n=(t=e.touches[0]).target)&&(c=m.findAncestor(n))&&o(c,n)&&(s=A(c))&&(u=s.id||(s.id=d()),r=u,a=i(s,!0),w[u]=t.pageX-a.left,h[u]=t.pageY-a.top,e.preventDefault())}function K(){r=null}function P(e,n,a){var o,i,r,c=e.id;try{if(!c)return;o=a-h[c],i=n-w[c],(o||i)&&(g.disableAnimation(e),r=!0,l.clearZeros(e,!0),l.setPosition(e,i,o))}finally{t(),r&&g.restoreAnimation(e)}}function _(e){var t,n;r&&!e.defaultPrevented&&(t=document.getElementById(r))&&P(t,(n=a(e)).X,n.Y)}function I(e){var t,n;r&&!e.defaultPrevented&&1===e.changedTouches.length&&(t=e.changedTouches[0])&&(n=document.getElementById(r))&&(P(n,t.pageX,t.pageY),e.preventDefault())}function k(t,a){var o=a?"remove":"add";if(a||!e.get(t,y))try{n[o](t,"mousedown",D),n[o](t,"keydown",E),s("event-ontouchstart")&&n[o](t,"touchstart",O)}finally{e[o=a?"remove":"set"](t,y,!0)}}function M(e,t){e&&(m.isOneOfMe(e)&&k(e),Array.prototype.forEach.call(m.findDescendants(e),function(e){k(e,t===c.actions.HIDE)}))}this.makeDraggable=function(e,t){e.setAttribute("data-wc-draggable","true"),k(e),t&&e.setAttribute(b,t)},this.clearDraggable=function(e){e.removeAttribute("data-wc-draggable"),k(e,!0),e.removeAttribute(b)},this.initialise=function(e){n.add(e,"mouseup",K),n.add(e,"mousemove",_),s("event-ontouchmove")&&n.add(e,"touchmove",I),s("event-ontouchend")&&n.add(e,"touchend",K),s("event-ontouchcancel")&&n.add(e,"touchcancel",K)},this.postInit=function(){Array.prototype.forEach.call(m.findDescendants(document.body),k),c.subscribe(c.actions.SHOW,M),c.subscribe(c.actions.HIDE,M),f.subscribe(M,!0)}})});
define("wc/ui/dialogFrame",["wc/dom/event","wc/dom/focus","wc/dom/initialise","wc/dom/shed","wc/dom/uid","wc/dom/Widget","wc/i18n/i18n","wc/ui/ajax/processResponse","wc/ui/modalShim","wc/timers","wc/has","wc/ui/resizeable","wc/ui/positionable","wc/ui/draggable","wc/dom/role","wc/template","wc/ui/viewportUtils","wc/ui/getForm","wc/config"],function(e,t,n,i,o,a,r,l,s,c,d,u,f,g,m,h,w,v,p){"use strict";var y,b;return b=new function(){var n,d,D,E,O,I,T,_="wc_dlgid",A=.33,B={close:null},C=new a("dialog"),F=new a("div","content",{"aria-live":"assertive"}),S=new a("button").extend("wc_dialog_close"),N=new a("header"),P=new a("h1"),k="px",M="Cannot open a dialog whilst another dialog is open",x="Cannot find a form to which to attach the dialog",z="Failed to open dialog: readon unknown";function H(e){return"alertdialog"===m.get(e)}function K(){var e=p.get("wc/ui/dialogFrame",{vpUtil:null}),t="isPhoneLike";return e.vpUtil&&w[e.vpUtil]&&(t=e.vpUtil),!w[t]()}function L(e){return r.translate("dialog_noTitle").then(function(t){var o=e||{},a=b.getDialog();return!(!a||b.isOpen(a)||(n=o.openerId?o.openerId:document.activeElement?document.activeElement.id:null,o.title||(o.title=t),function(e,t){var n,o;b.unsetAllDimensions(e),e.className=t.className||"",b.resetContent(!1,t.id||""),(n=P.findDescendant(e))&&(n.innerHTML="",n.innerHTML=t.title),B.close=t.onclose,function(e,t){var n;R(e),t.max&&(n=E.findDescendant(e))&&i.select(n)}(e,t),function(e,t){t.width&&(e.style.width=t.width+k),t.height&&(e.style.height=t.height+k),(t.top||0===t.top)&&(e.style.top=t.top+k),(t.left||0===t.left)&&(e.style.left=t.left+k,e.style.margin="0"),U(e)}(e,t),o=void 0===t.modal||t.modal,function(e,t){t?(e.setAttribute("role","alertdialog"),s.setModal(e)):e.removeAttribute("role")}(e,o)}(a,o),i.show(a),function(e,t){var n,i;try{t&&(i=W(t.width,t.height),(!t.top&&0!==t.top||!t.left&&0!==t.left)&&(K()?(u.disableAnimation(e),n=!0,f.setBySize(e,i)):(f.storePosBySize(e,i),f.clear(e))))}finally{n&&u.restoreAnimation(e)}}(a,e),0))})}function R(e){var t;(t=N.findDescendant(e,!0))&&(K()?(g.makeDraggable(t,_),u.setMaxBar(t),u.makeAnimatable(e)):(u.clearAnimatable(e),g.clearDraggable(t),u.clearMaxBar(t)))}function U(e){var t;try{K()?u.resetSize(e):(u.disableAnimation(e),t=!0,u.clearSize(e,!0))}finally{t&&u.restoreAnimation(e)}}function W(e,t){var n=p.get("wc/ui/dialogFrame",{}),i=A;return n.offset&&(isNaN(n.offset)?console.log("Offset must be a number, what are you playing at?"):n.offset<=0?console.log("Offset must be greater than zero otherwise dialogs will be above the top of the screen."):n.offset>=1?console.log("Offset must be less than one otherwise dialogs will be below the bottom of the screen."):i=n.offset),{width:e,height:t,topOffsetPC:i}}function q(e,t){var n,i=!1;t.querySelector?t.querySelector("#"+_)&&(i=!0):t.getElementById&&t.getElementById(_)&&(i=!0),i&&(n=b.getDialog())&&b.isOpen(n)&&s.clearShim(n)}function j(e){var t,n;e&&(t=b.getContent())&&t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY&&(n=b.getDialog(),b.isOpen(n)&&(n.style.width&&n.style.height&&function(){var e=b.getContent();return!!e&&!!(O=O||new a("","",{"aria-busy":"true"})).findDescendant(e)}()||b.reposition(null,null,!0)))}function V(e,t,n){try{n||u.disableAnimation(e),K()&&f.setBySize(e,t),U(e),R(e),y&&y.checkRepaint(e)}finally{n||u.restoreAnimation(e)}}function Y(e){var o,a,r,l=e.target;try{if(l&&l.id===_&&(r=!0,s.clearModal(),E&&(o=E.findDescendant(l))&&i.isSelected(o)&&i.deselect(o),n&&(o=document.getElementById(n))&&t.setFocusRequest(o),B.close))try{a=B.close,B.close=null,a()}catch(e){console.warn(e)}}finally{r&&(n=null)}}function G(e){var n=e.target;n&&n===b.getDialog()&&t.focusFirstTabstop(n)}function J(e){var t;!e.defaultPrevented&&S.findAncestor(e.target)&&(t=document.getElementById(_))&&b.isOpen(t)&&(b.close(),e.preventDefault())}function Q(e){return t.isTabstop(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}function X(e){var i,o=e.target,a=!1,r=e.keyCode;if(!e.defaultPrevented&&(i=document.getElementById(_))&&b.isOpen(i)){switch(r){case KeyEvent.DOM_VK_ESCAPE:a=b.close();break;case KeyEvent.DOM_VK_TAB:a=function(e,n,i){var o,a=!1;return!i&&H(n)&&((o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,Q,!1)).lastChild(),e===o.currentNode&&(a=!0,t.focusFirstTabstop(n))),a}(o,i,e.shiftKey);break;case KeyEvent.DOM_VK_F6:!H(i)&&n&&(a=!0,t.setFocusRequest(n))}a&&e.preventDefault()}}function Z(){var e=document.getElementById(_);e&&b.isOpen(e)&&(U(e),R(e))}function $(e){e.defaultPrevented||(T&&c.clearTimeout(T),T=c.setTimeout(Z,10))}P.descendFrom(N),F.descendFrom(C,!0),d=u.getWidget(),D=d.handle,E=d.maximise,this.open=function(t){var n,i,a=this.getDialog();return a?this.isOpen(a)?Promise.reject(M):L(t):(n=function(e){var t,n=e?e.formId||e.openerId:null;return n&&(t=document.getElementById(n)),v(t)}(t))?(i=n.id||(n.id=o()))?function(t){return new Promise(function(n,i){r.translate(["dialog_maxRestore","dialog_close","loading","dialog_move","dialog_resize"]).then(function(o){var a,r={heading:{maxRestore:o[0],close:o[1]},message:{loading:o[2]}};if(t&&(a=document.getElementById(t)),!(a=v(a)))return console.error("Cannot find form for dialog frame"),i(null),null;h.process({source:"dialog.xml",loadSource:!0,target:a,context:r,position:"beforeEnd",callback:function(){var t,a,r,l,s;(t=b.getDialog())?(e.add(t,"keydown",X),(a=N.findDescendant(t,!0))&&(l=o[3])&&(a.title=l),D&&(r=D.findDescendant(t))&&(s=o[4])&&(r.title=s),n(t)):i(null)},errback:i})})})}(i).then(function(){return L(t)}):Promise.reject(x):Promise.reject(z)},this.isOpen=function(e){var t=e||this.getDialog();return t&&!i.isHidden(t,!0)},this.unsetAllDimensions=function(e){var t=e||this.getDialog();t&&(t.style.width="",t.style.height="",t.style.margin="",f.clear(t))},this.reposition=function(e,t,n){var i;I&&(c.clearTimeout(I),I=null),(i=this.getDialog())&&K()&&(I=c.setTimeout(V,100,i,W(e,t),n))},this.close=function(){var e=this.getDialog();return!(!e||!this.isOpen(e)||(i.hide(e),0))},this.initialise=function(t){e.add(t,"click",J),e.add(window,"resize",$,-1),e.add(t,i.events.SHOW,G),e.add(t,i.events.HIDE,Y)},this.postInit=function(){l.subscribe(q),l.subscribe(j,!0)},this.getWidget=function(){return C},this.getDialog=function(){return document.getElementById(_)},this.getContent=function(){var e=this.getDialog();return e?F.findDescendant(e):null},this.resetContent=function(e,t){var n=this.getContent();n&&(n.removeAttribute("data-wc-get"),n.id=t||"",n.className="content",e||(n.innerHTML="",r.translate("loading").then(function(e){n.innerHTML=e})))}},n.register(b),8===d("ie")&&require(["wc/fix/inlineBlock_ie8"],function(e){y=e}),b});
define("wc/ui/dialog",["wc/dom/classList","wc/dom/event","wc/dom/initialise","wc/dom/shed","wc/dom/tag","wc/dom/uid","wc/dom/Widget","wc/i18n/i18n","wc/ui/ajaxRegion","wc/ui/ajax/processResponse","wc/ui/containerload","wc/timers","wc/ui/dialogFrame","wc/ui/getForm"],function(t,e,n,i,o,r,d,a,u,c,l,s,g,m){"use strict";var f;return f=new function(){var w,p,h,v=new d("button"),N="wc-dialog",I={},E={},C=!1,D="data-wc-get";function T(t){var e=t.triggerid||t.id,n=function(n){I[e]={id:t.id,className:N+(t.className?" "+t.className:""),width:t.width,height:t.height,modal:t.modal||!1,openerId:t.triggerid,title:t.title||n},E[t.id]=e,t.open&&(h=e)};e&&(t.title?n(t.title):a.translate("dialog_noTitle").then(n))}function O(t){var e,n=g.getContent();return!!(n&&t&&(e=document.getElementById(t)))&&!!(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)}function b(t,e){var n,i,r=t.id;if(t.tagName===o.FORM)return null;if(i=I[r])return i.id===r?null:t;if(e)return null;for(n=t;(n=n.parentNode)&&n.nodeType===Node.ELEMENT_NODE;){if(n.tagName===o.FORM)return null;if((r=n.id)&&(i=I[r]))return i.id===r?null:n}return null}function y(e){var n,i,o,d=I[e];d&&(d.formId||(n=document.getElementById(e))&&(i=m(n))&&(o=i.id||(i.id=r()),d.formId=o),g.open(d).then(function(){var n,i,o=g.getContent();o?(o.id=d.id,h&&h===e||!(n=d.openerId)?o.removeAttribute(D):(i=document.getElementById(n),o.setAttribute(D,n+"="+(i?encodeURIComponent(i.value):"x"))),t.add(o,"wc_magic"),t.add(o,"wc_dynamic"),l.load(o,!1,!1)):console.warn("Could not find dialog content wrapper."),h=null}).catch(function(t){console.warn(t),h=null}))}function _(t){var e;t&&t===g.getContent()&&t.id&&(e=A(t.id))&&(e.top||e.left||0===e.top||0===e.left||g.reposition({width:e.width,height:e.height}))}function A(t){var e=E[t];return e?I[e]:null}function B(t){var e,n,i,o=t.target;if(o&&o===g.getDialog()&&(e=g.getContent())&&(n=e.id)&&(i=A(n)))try{g.unsetAllDimensions(),g.resetContent(C,C?"":i.id)}finally{C=!1}}function P(t){var e,n,o,r,a,c;t.defaultPrevented||(e=t.target,c=g.getDialog(),((n=b(e))&&!O(e.id)?!i.isDisabled(n)&&(f.open(n),function(t){var e=!1,n=t.type;return"submit"!==n&&"image"!==n||(e=!0),e}(n)):c&&!i.isHidden(c,!0)&&(o=g.getContent())&&o.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY&&(C=!1,(r=u.getTrigger(e,!0))?n=e:(w=w||new d("A"),(n=d.findAncestor(e,[v,w]))&&(r=u.getTrigger(n,!0))),r&&((a=r.loads)&&a.length&&!a.some(O)&&(C=!0,g.close()),0)))&&t.preventDefault())}this.initialise=function(t){e.add(t,"click",P),e.add(t,i.events.HIDE,B)},this.postInit=function(){c.subscribe(_,!0)},this.register=function(t){t&&t.length&&(t.forEach(T),n.addCallback(function(){var t,e,n;for(t in I)I.hasOwnProperty(t)&&(e=t,n=void 0,(n=document.getElementById(e))&&!n.getAttribute("aria-haspopup")&&n.setAttribute("aria-haspopup","true"));h&&(p&&s.clearTimeout(p),p=s.setTimeout(y,0,h))}))},this.open=function(t){var e=b(t);return!!e&&(y(e.id),!0)}},n.register(f)});
define("wc/ui/dropdown",["wc/dom/group","wc/dom/tag","wc/dom/shed"],function(e,t,n){"use strict";return new function(){this.setSelectionByValue=function(o,c){var i,u,r;if(o&&o.tagName===t.SELECT)for(i=e.get(o),r=0;r<i.length;++r)if((u=i[r]).value===c||u.text===c){n.select(u);break}}}});
define("wc/ui/field",["wc/ui/ajax/processResponse","wc/dom/Widget","wc/dom/initialise","wc/dom/classList"],function(e,t,i,n){"use strict";return i.register(new function(){var i,c=new t("","wc-field"),r="data-wc-nop";function s(e,s){var d,o,u;e&&c.isOneOfMe(e)&&(o=e.parentNode)&&(s.getElementById?d=s.getElementById(e.id):s.querySelector&&(d=s.querySelector("#"+e.id)),d&&"true"===d.getAttribute(r)&&(d.removeAttribute(r),n.contains(o,"stacked")&&(u=(i=i||new t("","wc_fld_pl")).findDescendant(d))&&u.parentElement.removeChild(u)))}this.postInit=function(){e.subscribe(s)}})});
define("wc/file/clearSelector",[],function(){return function(e,n){var l=e,r=!1;e.value="",""!==e.value&&e.parentNode&&(r=!0,l=e.cloneNode(!1),e.parentNode.replaceChild(l,e)),n&&n(l,r)}});
define("wc/file/getFileSize",["wc/has"],function(e){"use strict";var i=-1;return function(t){var f,n,l,r;if(t)if(t.files)for(n=[],l=t.files.length,f=0;f<l;f++)t.files.item?(r=t.files.item(f).size)||0===r||(r=t.files.item(f).fileSize):(r=t.files[f].size)||0===r||(r=t.files[f].fileSize),n[f]=r;else{if(!e("activex"))throw new TypeError("fileInfo does not have a files collection");n=[function(e){var t=i;if(e)try{t=new window.ActiveXObject("Scripting.FileSystemObject").getFile(e).size}catch(e){console.info("Zone security prevented determination of file size.",e)}return t}(t.value)]}return n}});
define("wc/file/size",["wc/i18n/i18n","wc/file/getFileSize"],function(e,t){var i={check:function(t){var a,o,u,l,s,c,h,_=t.element,w=i.getMax(_),p=t.msgId||"file_toolarge",z=function(e){return w<e},M=i.get(t.testObj||_);if(w&&M.length>0&&M.some(z)){for(o=[],a=0;a<M.length;a++)z(M[a])&&(w>=f?(u=f,c=e.get("file_size_gb")):w>=r?(u=r,c=e.get("file_size_mb")):w>=n&&(u=n,c=e.get("file_size_kb")),u?(l=g(w/u),s=g(M[a]/u)):(l=w,s=M[a],c=e.get("file_size_")),h=e.get(p,s,l,c),o.push(h));o=o.join("\n")}return o},get:t,getMax:function(e){if(e)return parseInt(e.getAttribute("data-wc-maxfilesize"))||0;return 0}},n=Math.pow(10,3),r=Math.pow(10,6),f=Math.pow(10,9),a=1;function g(e){var t,i=parseInt(e,10);return i===e?e:(t=Math.pow(10,a),i+Math.round(e%1*t)/t)}return i});
define("wc/file/getMimeType",["wc/loader/resource"],function(r){"use strict";var e,n=/\.([a-z0-9]+)$/i;function t(n){if(n){if(n.constructor!==String)throw new TypeError("Lookup by extension without a String extension.");if(e||function(){var n,t,o;if(!e){if(!(o=r.load("mimemap.json",!0)))throw new ReferenceError("Could not load MIME map resource");for(t in o=JSON.parse(o),e={},o)if(o.hasOwnProperty(t)){if(!(n=o[t]))continue;if(!Array.isArray(n))throw new TypeError("Each MIME type should have an array of String extensions.");n.forEach(function(r){var n;r&&r.constructor===String&&(n=r.toLowerCase(),e[n]=t)})}}}(),e)return e[n]}return null}function o(r){var e;return r&&(e=r.match(n)),e&&e.length?e[1].toLowerCase():""}function i(r){var e,n,i,a,f;if(void 0!==r.files){for(e=[],n=r.files.length,i=0;i<n;i++)f=o((a=r.files[i]).name),e[i]={mime:a.type,ext:f};return e}return[{mime:t(f=o(r.value)),ext:f}]}return i._guess=t,i});
define("wc/file/accepted",["wc/file/getMimeType"],function(e){"use strict";return function(t){var i,r,n,f=!0,a=t.accept;return a&&(i=a.split(","),f=e(t).every(function(e){var t=e.mime||"",f=e.ext?"."+e.ext:"",c=!t&&!f||f&&a.indexOf(f)>=0||t&&a.indexOf(t)>=0;if(!c)for(r=0;r<i.length;r++){if(n=(n=i[r].toLowerCase()).trim(),f&&(f=f.toLowerCase())===n){c=!0;break}if(t){if((t=t.toLowerCase())===n){c=!0;break}if(n.indexOf("*")===n.length-1&&(n=n.substring(0,n.length-1),0===t.indexOf(n))){c=!0;break}}}return c})),f}});
define("wc/ui/prompt",["wc/debounce"],function(n){var r={alert:n(function(n){var r=i(n);window.alert(r)},250),confirmAsync:n(o,250),confirm:function(n,c){if(!c)return o(n);r.confirmAsync(n,c)}};function c(n){return n?n.message?n.message:n:""}function i(n){return Array.isArray(n)?n.map(c).join("\n"):c(n)}function o(n,r){var c=i(n),o=window.confirm(c);if(r)try{r(o)}catch(n){console.warn(n)}return o}return r});
define("wc/file/validate",["wc/i18n/i18n","wc/file/size","wc/file/accepted","wc/ui/prompt"],function(e,c,t,i){return{check:function(l){var n,r,a=[],f=l.selector;try{l.files&&(r={files:l.files}),f&&(t(f)||(n=e.get("file_wrongtype",f.accept),a.push(n)),(!l.stopAtFirst||a.length<1)&&(n=c.check({element:f,testObj:r}))&&a.push(n))}catch(e){console.error(e)}a.length?(l.errback&&l.errback(f,a),l.notify&&(n=a.join("\n"),i.alert(n))):l.callback&&l.callback(f)}}});
define("wc/ui/fileUpload",["wc/dom/attribute","wc/dom/event","wc/dom/initialise","wc/has","wc/file/clearSelector","wc/file/validate","wc/dom/Widget","wc/dom/focus","wc/isNumeric","wc/ui/ajaxRegion"],function(e,i,t,n,c,a,r){"use strict";var u;return u=new function(){var t="wc.ui.fileUpload.inited",f=new r("","wc-fileupload"),o=new r("INPUT","",{type:"file"});function d(e){var i=e.target;!e.defaultPrevented&&o.isOneOfMe(i)&&function(e){e.value&&a.check({selector:e,notify:!0,errback:u.clearInput})}(i)}function s(c){var a=n("ie")<9,r=c;o.isOneOfMe(c)&&(r=a?c:c.form,e.get(r,t)||(e.set(r,t,!0),i.add(r,"change",d)))}function l(e){s(e.target)}o.descendFrom(f,!0),this.initialise=function(e){i.canCapture?i.add(e,{type:"focus",listener:l,capture:!0}):i.add(e,"focusin",l)},this.getWidget=function(){return o},this.isOneOfMe=function(e){return!!e&&o.isOneOfMe(e)},this.clearInput=function(e){c(e,function(e,i){i&&s(e)})}},t.register(u)});
define("wc/ui/menu/core",["wc/dom/attribute","wc/dom/classList","wc/dom/event","wc/dom/focus","wc/dom/formUpdateManager","wc/dom/getFilteredGroup","wc/dom/keyWalker","wc/dom/shed","wc/dom/viewportCollision","wc/dom/Widget","wc/key","wc/ui/ajax/processResponse","wc/timers","wc/i18n/i18n","wc/dom/getBox","wc/array/toArray","wc/ui/viewportUtils"],function(e,t,n,i,s,r,o,a,c,h,u,l,d,p,_,E,f){"use strict";var m,b,g,T,y,O,I,A,w="true",v={COLLIDE_EAST:"wc_coleast",COLLIDE_WEST:"wc_colwest",COLLIDE_SOUTH:"wc_colsth",DEFAULT_DIRECTION:null,AGAINST_DEFAULT:null,CLOSER:"wc_closesubmenu"},N={OPEN:"_openBranch",CLOSE_MY_BRANCH:"_closeMyBranch",ACTION:"_actionItem",CLOSE:"_closeBranch",ESCAPE:"_escape"},S=null,D=[KeyEvent.DOM_VK_SPACE,KeyEvent.DOM_VK_UP,KeyEvent.DOM_VK_DOWN,KeyEvent.DOM_VK_LEFT,KeyEvent.DOM_VK_RIGHT];function B(){return{TABSTOP:new h("","",{tabIndex:"0"}),GENERIC_ROOT:[new h("","wc-menu"),new h("","",{role:"tree"})],OFFSCREEN:new h("","wc-off"),SUBMENU:new h("","wc_submenucontent")}}function F(){return y||(y=B())}function L(e,t){var n,i,s;(i=t.getRoot(e))&&(t._isBranch(e)&&(s=t._getBranchOpener(e))&&(e=s),(n=F().TABSTOP.findDescendants(i)).length&&Array.prototype.forEach.call(n,function(t){e!==t&&(t.tabIndex="-1")}),e.tabIndex="0")}function C(e){var t,n,i=e.type.toLowerCase();return"focusout"===i?i="blur":"focusin"===i&&(i="focus"),(n=this[i+"Event"])&&(t=n.call(this,e)),t}function R(e,t){var n=!1;return e&&(n=v.DEFAULT_DIRECTION===v.COLLIDE_EAST?t?e.w<0:e.e>0:t?e.e>0:e.w<0),n}function M(e,t,n){try{t===window?n.closeAllPaths(e):!t||t.tabIndex>=0?d.setTimeout(n.closeAllPaths.bind(n),150,e,t):n.closeAllPaths(e,t)}finally{S=null,I=null}}function P(e,n){var i,s,r,o,a=document.getElementById(e.id);v.DEFAULT_DIRECTION=v.DEFAULT_DIRECTION||"wc_col"+p.get("menu_popout_direction"),v.AGAINST_DEFAULT=v.AGAINST_DEFAULT||"wc_col"+p.get("menu_popout_reverse"),a&&(r=R(i=c(a)),o=R(i,!0),r&&o?(t.add(a,v.DEFAULT_DIRECTION),t.add(a,v.AGAINST_DEFAULT),console.warn("There is something seriously wrong with this menu design, it overflows both edges of the screen")):((r||!o&&function(e,n){var i,s=e.parentNode,r=!1;return s&&(i=n.getSubMenu(s))&&(r=t.contains(i,v.DEFAULT_DIRECTION)),r}(a,n))&&(t.add(a,v.DEFAULT_DIRECTION),i=c(a)),R(i,!0)&&(t.add(a,v.AGAINST_DEFAULT),r||t.remove(a,v.DEFAULT_DIRECTION))),i.s>0&&(t.add(a,v.COLLIDE_SOUTH),(s=_(a))&&s.top<0&&(a.style.bottom=s.top+"px")))}function x(e,t){T&&(d.clearTimeout(T),T=null),T=d.setTimeout(P,0,e,t)}function U(){this._FUNC_MAP=N}return U.prototype.getFirstMenuAncestor=function(e){return h.findAncestor(e,F().GENERIC_ROOT)},U.prototype._textMatchFilter=function(e){var t=e.parentNode;return a.isHidden(t)||a.hasDisabledAncestor(e,t)||F().OFFSCREEN.findAncestor(t)?NodeFilter.FILTER_REJECT:e.nodeValue?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},U.prototype.hasTextNodeMatch=function(e,t){var n,i,s,r=NodeFilter.FILTER_SKIP;return O=O||new RegExp(p.get("letter")),t&&O.test(t)&&((n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,this._textMatchFilter.bind(this),!1)).currentNode=e,n.nextNode(),(i=n.currentNode)&&i.nodeType===Node.TEXT_NODE&&(0===(s=i.nodeValue).toLocaleUpperCase().indexOf(t.toLocaleUpperCase())?r=NodeFilter.FILTER_ACCEPT:s&&(r=NodeFilter.FILTER_REJECT))),r},U.prototype._isItem=function(e){var t,n;if(this._isBranch(e))return!0;if(!(t=e.getAttribute("role"))||this._isOpener(e))return!1;for(n in this._role.LEAF)if(this._role.LEAF[n]===t)return!0;return!1},U.prototype.getItem=function(e){return this.getRoot(e)?this._isBranch(e)?e:this._isOpener(e)?this._getBranch(e):h.findAncestor(e,this._wd.leaf):null},U.prototype.getNavigationTreeWalkerFilter=function(e,t){var n=this;return function(i){var s,r,o=NodeFilter.FILTER_SKIP;return a.isDisabled(i)||a.isHidden(i)?o=NodeFilter.FILTER_REJECT:n._isItem(i)&&(o=NodeFilter.FILTER_ACCEPT),e&&o!==NodeFilter.FILTER_REJECT&&n.isSubMenu(i)&&((s=n._getBranch(i))?(r=n._getBranchExpandableElement(s))&&!a.isExpanded(r)&&(o=NodeFilter.FILTER_REJECT):o=NodeFilter.FILTER_SKIP),t&&o===NodeFilter.FILTER_ACCEPT&&(o=n.hasTextNodeMatch(i,t)),o}},U.prototype._getkeyWalkerConfig=function(e,t){var n,i=t||this.getRoot(e);return i&&((n={root:i})[o.OPTIONS.DEPTH_FIRST]=this._treeWalkDepthFirst(i),n[o.OPTIONS.CYCLE]=this._cycleSiblings),n},U.prototype._getTextTarget=function(e,t,n){var i=this._getkeyWalkerConfig(e,n);return i.filter=this.getNavigationTreeWalkerFilter(!0,t),i[o.OPTIONS.CYCLE]=!1,o.getTarget(i,e,o.MOVE_TO.NEXT)},U.prototype._getTreeWalker=function(e,t){var n=this.getNavigationTreeWalkerFilter(t);return document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,n,!1)},U.prototype._getPathToItem=function(e,t){var n,i,s=[e];for((n=this._getTreeWalker(t,!1)).currentNode=e;(i=n.parentNode())&&i!==t;)s[s.length]=i;return s[s.length]=t,s.reverse(),s},U.prototype.closeAllPaths=function(e,t){var n,i,s;for(t&&(n=this._getPathToItem(t,e))&&n.length&&(n.reverse(),n.pop()),i=this._getTreeWalker(e,!0);s=i.nextNode();)n&&s===n[n.length-1]?n.pop():this._isBranch(s)&&this[N.CLOSE](s)},U.prototype._getFirstAvailableItem=function(e){var t,n,i=e;if(this.isSubMenu(i)||this.getRoot(i)===i||(i=this.getSubMenu(i,this._isBranch(i))),i)for((t=this._getTreeWalker(i,!0)).currentNode=i;n=t.nextNode();)if(this._isItem(n)&&!a.isDisabled(n)&&!a.isHidden(n))return n;return null},U.prototype._disableInBranch=function(e,t){var n,i,s=this.getSubMenu(e,!0),r=s.children||s.childNodes;for(n=0;n<r.length;++n)(i=r[n]).nodeType===Node.ELEMENT_NODE&&a[t](i)},U.prototype._hideDisableHelper=function(e,t){var n,i,s=F().TABSTOP.findDescendant(t);(!s||s===e||s.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS)&&(i=(n=this._getPathToItem(e,t)).length<=2?this._getFirstAvailableItem(t):n[n.length-2]),!document.activeElement||document.activeElement===e||document.activeElement===document.body||document.activeElement===document.documentElement||document.activeElement.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS?this._focusItem(i||this._getFirstAvailableItem(t),t):i&&L(i,this)},U.prototype._shedCollapseHelper=function(e,t){var n=this._isBranch(e)?e:this.isSubMenu(e)?this._getBranch(e):null,s=n?this._getBranchOpener(n):null;s?s!==document.activeElement&&n.compareDocumentPosition(document.activeElement)&Node.DOCUMENT_POSITION_CONTAINED_BY?this._focusItem(s,t):(this._remapKeys(s),L(s,this)):i.focusFirstTabstop(t)},U.prototype._expand=function(e,t){var n,i;(n=this.getSubMenu(e,!0))&&(this.isTransient&&x(n,this),(i=this._getFirstAvailableItem(n))&&d.setTimeout(this._focusItem.bind(this),0,i,t))},U.prototype._shedSubscriber=function(e,n){var i,s;e&&(i=this.getRoot(e))&&(n!==a.actions.ENABLE&&n!==a.actions.DISABLE?n!==a.actions.HIDE?this.isTransient?n!==a.actions.EXPAND&&n!==a.actions.COLLAPSE||this.isSubMenu(e)&&(s=this._getBranch(e))&&function(e,n,i,s){var r;n===a.actions.EXPAND?(S=i.id,s._expand(e,i)):n===a.actions.COLLAPSE&&(r=s.getSubMenu(e,!0))&&(v.DEFAULT_DIRECTION&&(t.remove(r,v.DEFAULT_DIRECTION),t.remove(r,v.AGAINST_DEFAULT)),t.remove(r,v.COLLIDE_SOUTH),r.style.bottom="",r.removeAttribute("style"),s._shedCollapseHelper(e,i))}(s,n,i,this):n!==a.actions.COLLAPSE?n===a.actions.EXPAND&&this._enterOnOpen&&(this._isBranch(e)?this._expand(e,i):this.isSubMenu(e)&&(s=this._getBranch(e))&&this._expand(s,i)):this._shedCollapseHelper(e,i):this._hideDisableHelper(e,i):this._enableDisable(e,n,i))},U.prototype._enableDisable=function(e,t,n){var i,s;this.getRoot(e)===n&&(this._isBranch(e)&&(i=t===a.actions.DISABLE?"disable":"enable",t===a.actions.DISABLE&&this.isTransient&&(s=this._getBranchExpandableElement(e))&&a.isExpanded(s)&&a.collapse(s),a[i](this._getBranchOpener(e)),this._disableInBranch(e,i)),t===a.actions.DISABLE&&this._hideDisableHelper(e,n))},U.prototype.writeMenuState=function(e,t){e&&(E(this._wd.branch.findDescendants(e)).filter(function(e){var t=this._getBranchExpandableElement(e);return!!t&&(!a.isDisabled(e)&&a.isExpanded(t))},this).forEach(function(e){(function(e,t){var n,i;this._isBranch(e)?n=e.id:this.isSubMenu(e)&&(i=this._getBranch(e))&&(n=i.id),n&&s.writeStateField(t,n+".open",w,!1,!0)}).call(this,e,t)},this),Array.prototype.forEach.call(r(e,{ignoreInnerGroups:!0}),function(e){(function(e,t){var n=this.getRoot(e);n&&n===this.getFirstMenuAncestor(e)&&s.writeStateField(t,e.id+".selected","x")}).call(this,e,t)},this),s.writeStateField(t,e.id+"-h","x"))},U.prototype.writeState=function(e,t){var n;try{Array.prototype.forEach.call(this.ROOT.findDescendants(e),function(e){this.writeMenuState(e,t)},this),this.isRoot(e)?this.writeMenuState(e,t):(n=this.getRoot(e))&&(this._isBranch(e)||this._isLeaf(e)||this.isSubMenu(e))&&this.writeMenuState(n,t)}catch(e){throw console.log(e),e}},U.prototype.ROOT=null,U.prototype._keyMap={},U.prototype._wd={submenu:null,leaf:null},U.prototype.isTransient=!0,U.prototype._treeWalkDepthFirst=function(e){if(!e)throw new TypeError("Argument must not be null");return!1},U.prototype._cycleSiblings=!0,U.prototype._oneOpen=function(e){if(!e)throw new TypeError("Argument must not be null");return!0},U.prototype._selectOnNavigate=!1,U.prototype._openOnSelect=function(e){if(!e)throw new TypeError("Argument must not be null");return!1},U.prototype._enterOnOpen=!0,U.prototype._role={MENU:"menu",LEAF:{noSelection:"menuitem",single:"menuitemradio",multi:"menuitemcheckbox"}},U.prototype._setupKeymap=function(){},U.prototype._remapKeys=function(){},U.prototype.getRoot=function(e){var t=this.ROOT.findAncestor(e);return t&&t!==this.getFirstMenuAncestor(e)?null:t},U.prototype._select=function(e){a.select(e)},U.prototype._getBranch=function(e){return this._wd.branch.findAncestor(e)},U.prototype._getBranchExpandableElement=function(e){var t;if(!e)throw new TypeError("Item must not be undefined.");if(this.isSubMenu(e))return e;if(this._isBranch(e))return this.getSubMenu(e,!0);if(this._isOpener(e)&&(t=this._getBranch(e)))return this.getSubMenu(t,!0);throw new TypeError("Item must be a branch, submenu or branch opener element.")},U.prototype.getSubMenu=function(e,t,n){var i;return this.getRoot(e)?!this.isSubMenu(e)||t&&n?(i=t?"findDescendant"+(n?"s":""):"findAncestor",this._wd.submenu[i](e)):e:null},U.prototype._animateBranch=function(e,t){var n;return!!e&&(a[t?"expand":"collapse"](e),this._remapKeys(e),(n=this._getBranch(e))&&(n=this._getBranchOpener(n))&&a[t?"select":"deselect"](n),!0)},U.prototype._actionItem=function(e){var t,n,i=this.getRoot(e);return!!i&&(!(!(t=this.getItem(e))||a.isDisabled(t))&&((A=A||new h("button",v.CLOSER,{role:"menuitem"})).isOneOfMe(t)?(this[N.CLOSE_MY_BRANCH](t),!0):!(!this._isBranch(t)||(n=this._getBranchExpandableElement(t),!this._animateBranch(n,!a.isExpanded(n))))&&(this._oneOpen(i)&&this.closeAllPaths(i,t),this._remapKeys(t),!0)))},U.prototype._escape=function(e){var t,n=this.getRoot(e);n&&this.isTransient&&(t=this[this._FUNC_MAP.CLOSE_MY_BRANCH](e))&&t.parentNode&&((t=this._getBranch(t.parentNode))&&t!==n||(I=null))},U.prototype._openBranch=function(e){var t,n,i;return(i=this.getRoot(e))&&(t=this._getBranch(e))&&(n=this._getBranchExpandableElement(t))&&!a.isExpanded(n)?(this._oneOpen(i)&&this.closeAllPaths(i,e),this._animateBranch(n,!0)):null},U.prototype._closeBranch=function(e){var t;return!(!(t=this._getBranchExpandableElement(e))||!a.isExpanded(t))&&this._animateBranch(t,!1)},U.prototype._isOpener=function(e){return!!this._wd.opener.findAncestor(e)},U.prototype._isBranchOrOpener=function(e){return this._isBranch(e)||this._isOpener(e)},U.prototype.isRoot=function(e){return this.ROOT.isOneOfMe(e)},U.prototype._closeMyBranch=function(e){var t,n,i=e;return this._isBranchOrOpener(i)&&(t=this._getBranch(i))&&(n=this._getBranchExpandableElement(t))&&!a.isExpanded(n)&&(i=t.parentNode),(t=this._getBranch(i))&&t!==this.getRoot(i)?(this[N.CLOSE](t),this._remapKeys(t),t):null},U.prototype._getBranchOpener=function(e){return this._wd.opener.findDescendant(e,!0)},U.prototype._focusItem=function(e,t,n){var s,r=e.id?document.getElementById(e.id):null,o=t.id?document.getElementById(t.id):null;r&&o&&this.getRoot(r)===o&&!a.isDisabled(r)&&(s=function(e){this._remapKeys(e),n&&"function"==typeof n&&n(e)},this.isTransient&&this.closeAllPaths(o,r),L(r,this),i.canFocus(r)?i.setFocusRequest(r,s.bind(this)):i.focusFirstTabstop(r,s.bind(this)))},U.prototype._isBranch=function(e){return this._wd.branch.isOneOfMe(e)},U.prototype._isLeaf=function(e){return this._isItem(e)&&!this._isBranch(e)},U.prototype.isSubMenu=function(e){return e?this._wd.submenu.isOneOfMe(e)&&!this.isRoot(e):null},U.prototype._getTargetItem=function(e,t,n,i){var s=this._getkeyWalkerConfig(e,n);return s.filter=this.getNavigationTreeWalkerFilter(!0),(i||!1===i)&&(s[o.OPTIONS.CYCLE]=i),o.getTarget(s,e,t)},U.prototype._keyActivator=function(e,t,n,i,s){var r,o=u.getLiteral(t),a=this._keyMap[o];if(O=O||new RegExp(p.get("letter")),a){if(this[a])return this[a](e);r=this._getTargetItem(e,a,n)}else o&&(o=o.replace(/^DOM_VK_/,""))&&1===o.length&&O.test(o)&&(r=this._getTextTarget(e,o,n));return!!r&&(this._focusItem(r,n),this._selectOnNavigate&&!s&&this._select(r,!1,i),!0)},U.prototype.focusEvent=function(t){var i,s,r,o,c=t.target;t.defaultPrevented||(s=c===window||c===document?null:this.getRoot(c),r=c===window||c===document?null:this.getFirstMenuAncestor(c),s&&s===r?(e.get(s,"wc/ui/menu/bs")||(e.set(s,"wc/ui/menu/bs",!0),n.add(s,"keydown",C.bind(this))),S&&(i=document.getElementById(S))&&i!==s&&M(i,c,this),this.isTransient&&(e.get(s,"wc/ui/menu/bs-transient")||(e.set(s,"wc/ui/menu/bs-transient",!0),n.add(s,"mouseover",function(e){var t,n,i,s=e.target;if(!e.defaultPrevented&&(t=this.getRoot(s))&&this.isTransient&&t===this.getRoot(document.activeElement)){if(!(n=this.getItem(s))||a.isDisabled(n))return;this._focusItem(n,t),I!==t.id||f.isPhoneLike()||(this._isOpener(n)&&(n=this._getBranch(n)),n&&this._isBranch(n)&&(i=this._getBranchExpandableElement(n))&&!a.isExpanded(i)&&this[N.OPEN](n))}}.bind(this)))),(o=this.getItem(c))&&!a.isDisabled(o)&&(this._remapKeys(o),this._isBranch(o)&&(o=this._getBranchOpener(o)),L(o,this))):!r&&S&&(i=document.getElementById(S))&&this.isRoot(i)&&M(i,c,this))},U.prototype.clickEvent=function(e){var t,n,i,s,r,o=e.target;if(!e.defaultPrevented)try{o!==window&&(t=this.getRoot(o))?(n=this.getItem(o))&&!a.isDisabled(n)&&(S&&(i=document.getElementById(S))&&t!==i&&M(i,null,this),r=this[N.ACTION](o),this.isTransient&&(this._isBranch(n)?(s=this._getBranchExpandableElement(n),I=s&&a.isExpanded(s)?t.id:null):this._isLeaf(n)&&M(t,null,this))):S&&(i=document.getElementById(S))&&this.isRoot(i)&&M(i,null,this)}catch(t){e.preventDefault(),console.error("Uncaught exception in AbstractMenu.onClick: ",t.message)}finally{r&&e.preventDefault()}},U.prototype.keydownEvent=function(e){var t,n,i=e.keyCode;e.defaultPrevented||(n=this.getRoot(e.target))&&(t=this.getItem(e.target))&&this._keyActivator(t,i,n,e.shiftKey,e.ctrlKey||e.metaKey)&&~D.indexOf(i)&&e.preventDefault()},U.prototype._setUpWidgets=function(){var e,t=this._role.LEAF;for(e in this._wd.submenu=new h("","",{role:"menu","aria-expanded":null}),this._wd.branch=new h("","wc-submenu"),this._wd.opener=new h("button","wc-submenu-o"),this._wd.leaf=[],t)t.hasOwnProperty(e)&&(this._wd.leaf[this._wd.leaf.length]=new h("","",{role:t[e]}))},U.prototype.initialise=function(e){y=y||B(),this._setUpWidgets(),this._setupKeymap(),n.canCapture?(n.add(window,{type:"focus",listener:C.bind(this),capture:!0}),n.add(window,"click",C.bind(this))):(n.add(e,"focusin",C.bind(this)),n.add(e,"click",C.bind(this))),this.preAjaxSubscriber&&l.subscribe(this.preAjaxSubscriber.bind(this)),l.subscribe(function(e){var t,n;e&&(t=this.getRoot(e))&&t===this.getFirstMenuAncestor(e)&&(b&&(d.clearTimeout(b),b=null),this.isSubMenu(e)&&(this.isTransient&&x(e,this),(n=this._getFirstAvailableItem(e))&&(g&&(d.clearTimeout(g),g=null),d.setTimeout(this._focusItem.bind(this),0,n,t))),document.activeElement||(b=d.setTimeout(function(){document.activeElement||(i.canFocus(e)?i.setFocusRequest(e):i.focusFirstTabstop(e))},150)))}.bind(this),!0),s.subscribe(this.writeState.bind(this)),a.subscribe(a.actions.SELECT,this._shedSubscriber.bind(this)),a.subscribe(a.actions.DESELECT,this._shedSubscriber.bind(this)),a.subscribe(a.actions.EXPAND,this._shedSubscriber.bind(this)),a.subscribe(a.actions.COLLAPSE,this._shedSubscriber.bind(this)),a.subscribe(a.actions.HIDE,this._shedSubscriber.bind(this)),a.subscribe(a.actions.ENABLE,this._shedSubscriber.bind(this)),a.subscribe(a.actions.DISABLE,this._shedSubscriber.bind(this))},U.prototype._clearActivateOnHover=function(){I=null},m=new U,void 0!==Object.freeze&&Object.freeze(m),m});
define("wc/ui/menu/menuItem",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/Widget","wc/dom/isAcceptableTarget"],function(t,e,i,n){"use strict";var c,o,s;return new function(){function r(t,e){var c,o=t.target;!t.defaultPrevented&&(c=e.getActivableFromTarget(o))&&(s=s||new i("button","wc-submenu-o"),(n(c,o)||s.findAncestor(o))&&e.activate(c,t.shiftKey,t.ctrlKey||t.metaKey))}function u(){this.ITEM=new i("","",{role:"menuitemcheckbox"}),this.exclusiveSelect=this.SELECT_MODE.MULTIPLE,this.groupNavigation=!1,this.clickEvent=function(t){r(t,this)}}function a(){this.ITEM=new i("","",{role:"menuitemradio"}),this.exclusiveSelect=this.SELECT_MODE.SINGLE,this.groupNavigation=!1,this.selectionIsImmediate=!0,this.clickEvent=function(t){r(t,this)}}u.prototype=t,(c=new u).constructor=u,e.register(c),a.prototype=t,(o=new a).constructor=a,e.register(o),this.menuItemCheckBox=c,this.menuItemRadio=o}});
define("wc/ui/menu/bar",["wc/ui/menu/core","wc/array/toArray","wc/dom/event","wc/dom/keyWalker","wc/dom/shed","wc/dom/Widget","wc/dom/initialise","wc/dom/uid","wc/i18n/i18n","wc/dom/classList","wc/timers","wc/ui/ajax/processResponse","wc/template","wc/ui/viewportUtils","wc/ui/menu/menuItem"],function(e,t,n,i,s,r,a,c,_,o,u,h,O,d){"use strict";var l;function M(){var e,a,M,f,p,T="wc_menu_fix",E="wc_menu_hbgr";function m(e,t,n){var s,r=n?i.MOVE_TO.NEXT:i.MOVE_TO.PREVIOUS;return!(s=l._getTargetItem(e,r,t,!1))||e===s}function w(t){var n,i,s;if(o.contains(t,T))try{if(!(n=(e=e||new r("div",E)).findDescendant(t)))return;if(!(i=l._wd.submenu.findDescendant(n)))return;for(;s=i.firstChild;)o.contains(s,"wc_closesubmenu")?i.removeChild(s):t.appendChild(s);n.parentNode.removeChild(n)}finally{o.remove(t,T)}}function y(e){var t,n,i,s,a,_;try{e&&l.isSubMenu(e)&&(t=l._getBranch(e))&&(n=l._getBranchOpener(t))&&(i=(M=M||new r("","wc-decoratedlabel")).findDescendant(n))&&(a=document.createElement("span"),_='<button class="wc-menuitem wc_closesubmenu wc-nobutton wc-invite" role="menuitem" type="button">'+i.outerHTML+"</button>",a.insertAdjacentHTML("afterbegin",_),s=a.firstChild,(i=M.findDescendant(s))&&i.insertAdjacentHTML("afterbegin",'<i class="fa fa-caret-left wc_dlbl_seg" aria-hidden="true"></i>'),Array.prototype.forEach.call(s.querySelectorAll("[id]"),function(e){e.id=c()}),e.hasChildNodes()&&e.insertBefore(s,e.firstChild))}finally{a=null}}function b(e){o.contains(e,T)||_.translate(["menu_open_label","menu_close_label"]).then(function(t){var n={id:c(),class:" "+E,opener:{class:" wc_hbgr fa fa-bars",tooltip:t[0]},contentId:c(),open:!1,closeText:t[1],items:e.innerHTML};O.process({source:"submenu.mustache",loadSource:!0,target:e,context:n,callback:function(){o.add(e,T)}})})}function V(e){var n,i=e||document.body;l.isSubMenu(i)||(n=(f=f||l.ROOT.extend(["wc-respond"])).isOneOfMe(i)?[i]:t(f.findDescendants(i))).length&&(n=n.filter(function(e){return e.childNodes.length>1})).length&&(d.isPhoneLike()?n.forEach(b):n.forEach(w))}function A(){a&&u.clearTimeout(a),a=u.setTimeout(V,100)}function D(e){p||(p=new r("hr")).descendFrom(l.ROOT,!0),Array.prototype.forEach.call(p.findDescendants(e),function(e){e.setAttribute("aria-orientation","vertical")})}function N(e,t){D(t)}function C(e){var t=e||document.body;e&&l.isSubMenu(e)&&y(e),Array.prototype.forEach.call(l._wd.submenu.findDescendants(t),y)}this._wd={},this.ROOT=new r("","",{role:"menubar"}),this._role.MENU="menubar",this._remapKeys=function(e){var t,n,r,a=e,c="DOM_VK_UP",_="DOM_VK_DOWN",o=this.getRoot(a);o&&((t=this.getSubMenu(a))?((n=this._getBranch(t))&&(r=this.getSubMenu(n))?(this._keyMap.DOM_VK_LEFT=this._FUNC_MAP.CLOSE_MY_BRANCH,this._keyMap[c]=i.MOVE_TO.PREVIOUS,this._keyMap[_]=i.MOVE_TO.NEXT):this._keyMap.DOM_VK_LEFT=null,this._isBranchOrOpener(a)?this._keyMap.DOM_VK_RIGHT=this._FUNC_MAP.ACTION:this._keyMap.DOM_VK_RIGHT=null,r||(this._isBranchOrOpener(a)&&(a=this._getBranch(a)),a&&(m(a,o)?this._keyMap[c]=i.MOVE_TO.PARENT:this._keyMap[c]=i.MOVE_TO.PREVIOUS,m(a,o,!0)?this._keyMap[_]=i.MOVE_TO.PARENT:this._keyMap[_]=i.MOVE_TO.NEXT))):(this._keyMap.DOM_VK_LEFT=i.MOVE_TO.PREVIOUS,this._keyMap.DOM_VK_RIGHT=i.MOVE_TO.NEXT,this._isOpener(a)&&(a=this._getBranch(a)),this._isBranch(a)&&(a=this._getBranchExpandableElement(a))&&(s.isExpanded(a)?(this._keyMap[c]=i.MOVE_TO.LAST_CHILD,this._keyMap[_]=i.MOVE_TO.CHILD):(this._keyMap[c]=this._FUNC_MAP.ACTION,this._keyMap[_]=this._FUNC_MAP.ACTION))))},this._setupKeymap=function(){this._keyMap={DOM_VK_LEFT:i.MOVE_TO.PREVIOUS,DOM_VK_RIGHT:i.MOVE_TO.NEXT,DOM_VK_HOME:i.MOVE_TO.FIRST,DOM_VK_END:i.MOVE_TO.LAST,DOM_VK_ESCAPE:this._FUNC_MAP.ESCAPE,DOM_VK_UP:this._FUNC_MAP.ACTION,DOM_VK_DOWN:this._FUNC_MAP.ACTION}},this.initialise=function(e){this.constructor.prototype.initialise.call(this,e),C(),V(e),D(e),h.subscribe(N),h.subscribe(C,!0),h.subscribe(V,!0),n.add(window,"resize",A,1)}}return M.prototype=e,(l=new M).constructor=M,a.register(l)});
define("wc/ui/menu/column",["wc/ui/menu/core","wc/dom/keyWalker","wc/dom/shed","wc/dom/Widget","wc/dom/initialise","wc/ui/menu/menuItem"],function(e,t,_,i,n){"use strict";var s;function O(){this._wd={},this.ROOT=new i("","wc-menu-type-column"),this._remapKeys=function(e){var i=e;this.getRoot(e)&&this._isBranchOrOpener(i)&&(i=this._getBranchExpandableElement(i),_.isExpanded(i)?this._keyMap.DOM_VK_RIGHT=t.MOVE_TO.CHILD:this._keyMap.DOM_VK_RIGHT=this._FUNC_MAP.ACTION)},this._setupKeymap=function(){this._keyMap={DOM_VK_UP:t.MOVE_TO.PREVIOUS,DOM_VK_DOWN:t.MOVE_TO.NEXT,DOM_VK_LEFT:this._FUNC_MAP.CLOSE_MY_BRANCH,DOM_VK_ESCAPE:this._FUNC_MAP.CLOSE_MY_BRANCH}}}return O.prototype=e,(s=new O).constructor=O,n.register(s)});
define("wc/ui/menu/treeItem",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/Widget","wc/dom/isAcceptableTarget","wc/dom/shed","wc/dom/getFilteredGroup"],function(e,t,i,r,c,n){"use strict";var s;function l(){var e,t;require(["wc/ui/menu/tree"],function(e){t=e}),this.ITEM=new i("","",{role:"treeitem"}),this.CONTAINER=new i("","",{role:"tree"}),this.exclusiveSelect=this.SELECT_MODE.MIXED,this.groupNavigation=!1,this.lastActivated={},this.ctrlAllowsDeselect=!0,this.allowSelectSelected=!0,this.activate=function(e,i,r){var l,o,u,a=this.CONTAINER.findAncestor(e);if(a&&(l=a.getAttribute("aria-multiselectable")))try{i||r?"true"===l&&t.isHTree(a)&&(u=function(e,i){var r,l=t.getSubMenu(e)||i;return!l||(r=n(l,{itemWd:s.ITEM}).length,c.isSelected(e)?1===r:0===r)}(e)):u=!0,u&&(o=this.exclusiveSelect,this.exclusiveSelect=this.SELECT_MODE.SINGLE),this.constructor.prototype.activate.call(this,e,i,r)}finally{o&&(this.exclusiveSelect=o,o=null)}},this.clickEvent=function(i){var c,n=i.target;!i.defaultPrevented&&(c=this.getActivableFromTarget(n))&&function(i,c){var n=r(i,c);if(t&&t.getRoot(c)){if(t.isInVOpen(c)||t.isSubMenu(c)||t.isRoot(c))return!1;if(!n&&(e=e||t._wd.opener))return!!e.findAncestor(c)}return n}(c,n)&&this.activate(c,i.shiftKey,i.ctrlKey||i.metaKey)}}return l.prototype=e,(s=new l).constructor=l,t.register(s),s});
define("wc/ui/menu/tree",["wc/ui/menu/core","wc/dom/keyWalker","wc/dom/shed","wc/dom/Widget","wc/array/toArray","wc/ui/menu/treeItem","wc/dom/initialise","wc/has","wc/dom/classList","wc/dom/formUpdateManager","wc/dom/getFilteredGroup","wc/ui/ajaxRegion","wc/timers","wc/ui/icon"],function(e,t,i,n,r,s,a,o,h,c,_,d,l,u){"use strict";var f;function p(){var e,a,p,E;8===o("ie")&&require(["wc/fix/inlineBlock_ie8"]),this.isHTree=function(e){return!!e&&h.contains(e,"wc_htree")},this.isInVOpen=function(t){return(e=e||new n("","wc_leaf_vopener")).findAncestor(t)},this._wd={},this.ROOT=new n("","",{role:"tree"}),this._role={MENU:"tree",LEAF:{noSelection:"treeitem"}},this._oneOpen=function(e){var t=function(e){var t;if(!e)throw new ReferenceError("Argument 'element' is required.");if(!(t=f.isRoot(e)?e:f.getRoot(e)))throw new TypeError("Argument is not in a tree node.");return t}(e);return this.isHTree(t)},this._enterOnOpen=!1,this._treeWalkDepthFirst=function(e){return!this.isHTree(e)},this._openOnSelect=function(e){return this.isHTree(e)},this._cycleSiblings=!1,this.isTransient=!1,this._selectOnNavigate=!0,this._select=function(e,t,n,r){var a=this.getRoot(e);a&&a.getAttribute("aria-multiselectable")&&(t?i.select(e,t):s.activate(e,n,r))},this._remapKeys=function(e){var n,r,s,a=e,o=this.getRoot(a),h="DOM_VK_LEFT";o&&(r=this.isHTree(o),this._keyMap.DOM_VK_RETURN=null,this._keyMap.DOM_VK_SPACE=null,this._keyMap[h]=t.MOVE_TO.PARENT,this._keyMap.DOM_VK_RIGHT=null,(this._isBranch(a)||(n=this._isOpener(a)))&&(n&&(a=this._getBranch(a)),a&&(this.isHTree(o)||(this._keyMap.DOM_VK_RETURN=this._FUNC_MAP.ACTION,this._keyMap.DOM_VK_SPACE=this._FUNC_MAP.ACTION),(s=this._getBranchExpandableElement(a))&&i.isExpanded(s)?r?(this._keyMap.DOM_VK_RIGHT=t.MOVE_TO.CHILD,this._keyMap[h]=t.MOVE_TO.PARENT):this._keyMap[h]=this._FUNC_MAP.CLOSE:(this._keyMap.DOM_VK_RIGHT=this._FUNC_MAP.ACTION,this._keyMap[h]=t.MOVE_TO.PARENT))))},this._setupKeymap=function(){this._keyMap={DOM_VK_UP:t.MOVE_TO.PREVIOUS,DOM_VK_DOWN:t.MOVE_TO.NEXT,DOM_VK_LEFT:t.MOVE_TO.PARENT,DOM_VK_HOME:t.MOVE_TO.TOP,DOM_VK_PAGE_DOWN:t.MOVE_TO.END,DOM_VK_END:t.MOVE_TO.END,DOM_VK_MULTIPLY:"_openAllBranches"}},this._setUpWidgets=function(){var e=new n("","",{"aria-controls":null});a=a||new n("","",{role:"treeitem"}),this._wd.submenu=new n("","",{role:"group"}),this._wd.branch=a.extend("",{"aria-expanded":null}),e.descendFrom(this._wd.branch,!0),this._wd.opener=e,this._wd.leaf=[a]},this._openAllBranches=function(e){var t,i=this.getRoot(e);i&&!this.isHTree(i)&&(t=this._wd.opener.findDescendants(i))&&t.length&&((t=r(t)).reverse(),t.forEach(this[this._FUNC_MAP.OPEN],this))},this._getBranchExpandableElement=function(e){if(!e)throw new TypeError("Item must be defined.");if(this._isBranch(e))return e;if(this.isSubMenu(e)||this._isOpener(e))return this._getBranch(e);throw new TypeError("Item must be a branch, submenu or branch opener element.")},this.clickEvent=function(e){var t,n=e.target;!e.defaultPrevented&&n!==document.body&&n!==window&&(t=this.getRoot(n))&&(this.isHTree(t)?(e.ctrlKey||e.metaKey)&&function(e){var t,n=f.getItem(e);if(n&&f._isBranch(n)&&i.isExpanded(n)){if((t=f.getSubMenu(n))&&(t=f._getBranch(t)))return void f._select(t,!1,!1,!0);i.deselect(n),i.collapse(n)}}(n):this.isInVOpen(n)&&this.constructor.prototype.clickEvent.call(this,e))},this.writeMenuState=function(e,t){var n,s;e&&(n=this.getRoot(e))&&(s=n.id,r(this._wd.branch.findDescendants(e)).filter(function(e){var t=this._getBranchExpandableElement(e);return!!t&&(!i.isDisabled(e)&&i.isExpanded(t))},this).forEach(function(e){var i;this._isBranch(e)&&(i=e.id),i&&c.writeStateField(t,s+".open",i)},this),Array.prototype.forEach.call(_(e,{ignoreInnerGroups:!0}),function(e){c.writeStateField(t,s,e.id)},this),c.writeStateField(t,s+"-h","x"))},this.preAjaxSubscriber=function(e,t,n){var r,s,a,o;if(this.isRoot(e)&&t&&"in"===n)for(s=t.childNodes,r=0;s&&r<s.length;r++)(a=this._getBranch(s[r]))&&(o=document.getElementById(a.id))&&i.isSelected(o)&&i.select(a,!0)},this._shedSubscriber=function(t,r){var s,a;if(t&&(s=this.getRoot(t)))return r===i.actions.SELECT||r===i.actions.DESELECT?(d.getTrigger(s,!0)&&(p&&(l.clearTimeout(p),p=null),p=l.setTimeout(d.requestLoad,0,s)),void(this.isHTree(s)&&r===i.actions.SELECT&&(this._isBranch(t)&&!i.isExpanded(t)?this[this._FUNC_MAP.OPEN](t):this.closeAllPaths(s,t)))):(this.constructor.prototype._shedSubscriber.call(this,t,r),e=e||new n("","wc_leaf_vopener"),E=E||new n("","wc_leaf_img"),r===i.actions.EXPAND?(function(e,t){var i,n=t.getAttribute("data-wc-mode"),r=e.id;n&&"client"!==n&&(i={id:r,alias:t.id,loads:[r+"-content"],oneShot:"lazy"===n?1:-1,getData:"wc_tiid="+r,serialiseForm:!0,method:"get",formRegion:t.id},d.requestLoad(e,i,!0))}(t,s),!this.isHTree(s)&&(a=e.findDescendant(t,!0))&&u.change(a,"fa-caret-down","fa-caret-right"),void((a=this._getBranchOpener(t))&&(a=E.findDescendant(a,!0))&&u.change(a,"fa-folder-open-o","fa-folder-o"))):void 0)},this._animateBranch=function(e,t){var n=this.getRoot(e);return!(!e||!(n=this.getRoot(e)))&&(t&&this.isHTree(n)?(function(e,t){var n=f.getSubMenu(e)||(t&&f.isRoot(t)?t:f.getRoot(e));return _(n,{itemWd:a}).length===(i.isSelected(e)?1:0)}(e,n)&&(i.expand(e),this._remapKeys(e)),!0):(i[t?"expand":"collapse"](e),this._remapKeys(e),!0))},this._textMatchFilter=function(e){var t=e.parentNode;return h.contains(t,"wc_leaf_name")&&e.nodeValue?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},this._shedCollapseHelper=function(t,r){var s,a,o,h=r||this.getRoot(t);h&&t&&this._isBranch(t)&&(e=e||new n("","wc_leaf_vopener"),E=E||new n("","wc_leaf_img"),!this.isHTree(r)&&(o=e.findDescendant(t,!0))&&u.change(o,"fa-caret-right","fa-caret-down"),(o=this._getBranchOpener(t))&&(o=E.findDescendant(o,!0))&&u.change(o,"fa-folder-o","fa-folder-open-o"),(a=this.getSubMenu(t,!0))&&(s=_(a,{itemWd:this._wd.leaf[0]}))&&s.length&&(s.forEach(function(e){i.deselect(e)}),this.isHTree(h)||i.select(t)))}}return p.prototype=e,(f=new p).constructor=p,a.register(f)});
define("wc/ui/menu/treemenu",["wc/ui/menu/core","wc/dom/keyWalker","wc/dom/shed","wc/dom/Widget","wc/dom/initialise","wc/ui/icon","wc/ui/menu/menuItem"],function(t,e,i,n,s,r){"use strict";var c;function _(){this._wd={},this.ROOT=new n("","wc-menu-type-tree"),this._cycleSiblings=!1,this._enterOnOpen=!1,this.isTransient=!1,this._oneOpen=function(){return!1},this._treeWalkDepthFirst=function(){return!0},this._remapKeys=function(t){var n=t;this.getRoot(t)&&this._isBranchOrOpener(n)&&(n=this._getBranchExpandableElement(n),i.isExpanded(n)?this._keyMap.DOM_VK_RIGHT=e.MOVE_TO.CHILD:this._keyMap.DOM_VK_RIGHT=this._FUNC_MAP.ACTION)},this._setupKeymap=function(){this._keyMap={DOM_VK_UP:e.MOVE_TO.PREVIOUS,DOM_VK_DOWN:e.MOVE_TO.NEXT,DOM_VK_LEFT:this._FUNC_MAP.CLOSE_MY_BRANCH,DOM_VK_ESCAPE:this._FUNC_MAP.CLOSE_MY_BRANCH}},this._shedSubscriber=function(t,e){var n;t&&this.getRoot(t)&&(e!==i.actions.EXPAND&&e!==i.actions.COLLAPSE||(n=this._getBranch(t))&&(n=this._getBranchOpener(n))&&(e===i.actions.EXPAND?r.change(n,"fa-caret-down","fa-caret-right"):e===i.actions.COLLAPSE&&r.change(n,"fa-caret-right","fa-caret-down")),this.constructor.prototype._shedSubscriber.call(this,t,e))}}return _.prototype=t,(c=new _).constructor=_,s.register(c)});
define("wc/file/filedrop",["wc/has","wc/dom/event","wc/timers"],function(r,t,e){"use strict";var a="wc_dragging",n={},o=!1,d={dragenter:function(r,t){o||i(r.currentTarget,t,"dragstart"),r.stopPropagation()},dragover:function(r,t){o||i(r.currentTarget,t,"dragstart"),r.stopPropagation()},dragleave:function(r,t){var a=r.currentTarget;r.stopPropagation(),n[a.id]=e.setTimeout(c,500,a,t,"dragstop",null)},drop:function(r,t){var a=r.currentTarget,o=r.dataTransfer.files;c(a),n[a.id]=e.setTimeout(c,100,a,t,r.type,o)}};function i(r,t,d){o=!0,r.classList.add(a),n[r.id]&&e.clearTimeout(n[r.id]),d&&t&&t(d)}function c(r,t,d,i){o=!1,r.classList.remove(a),n[r.id]&&e.clearTimeout(n[r.id]),d&&t&&t(d,i)}return{register:r("draganddrop")?function(r,e){var a=document.getElementById(r),n=function(r){return function(t){var e=d[t.type];e&&(t.preventDefault(),e(t,r))}}(e);a?(t.add(a,"dragenter",n),t.add(a,"dragleave",n),t.add(a,"dragover",n),t.add(a,"drop",n)):console.warn("Could not register dropzone",r)}:function(){}}});
define("wc/ui/multiFileUploader",["wc/dom/attribute","wc/loader/prefetch","wc/dom/event","wc/dom/initialise","wc/dom/uid","wc/ajax/Trigger","wc/dom/classList","wc/has","wc/file/clearSelector","wc/file/validate","wc/i18n/i18n","wc/dom/Widget","wc/dom/formUpdateManager","wc/file/filedrop","wc/ajax/ajax","wc/ui/prompt","wc/dom/focus","wc/isNumeric","wc/ui/ajaxRegion","wc/config","wc/debounce","wc/dom/toDocFragment","wc/ui/feedback","wc/ui/icon","wc/ui/fieldset"],function(e,t,n,i,a,r,o,c,d,l,u,f,s,m,g,p,w,h,v,b,x,y,A,E){"use strict";var O=new function(){var r,f="wc/ui/multiFileUploader.inited";function A(e){var t=e.target;!e.defaultPrevented&&k.isOneOfMe(t)&&V(t,null)}function G(e){var t=document.getElementById(e);t&&v.getTrigger(t,!0)&&v.requestLoad(t,null,!0)}function K(e){var t,n,i,a;e.defaultPrevented?$(e):(ee(a=P.findAncestor(e.target)||e.target),(t=B.findAncestor(a))?H.isOneOfMe(a)?p.confirm(u.get("file_confirmdelete"))&&Q(t):(n=L.findAncestor(t))&&o.contains(n,U)&&(i=q.isOneOfMe(a)?a:q.findAncestor(a))&&(i.setAttribute("data-wc-params","wc_fileid="+window.encodeURIComponent(t.id)),console.log("wc_fileid",t.id)):S.isOneOfMe(a)&&require(["wc/ui/imageEdit"],function(e){e.upload!==O.upload&&(e.upload=O.upload)}))}function Q(e){var t,n=L.findAncestor(e);n&&(e.parentNode.removeChild(e),W.hasOwnProperty(e.id)&&(t=W[e.id])&&t.abort&&t.abort(),_[n.id]=_[n.id]||x(function(e){G(e),function(e){var t,n,i,a,r=document.getElementById(e);if(r&&r.hasAttribute(M)&&(a=r.getAttribute(M))&&h(a)&&a>1&&(t=ie(r),t.length>1))for(i=B.findDescendants(r),n=0;n<i.length;n++)t[n%a].appendChild(i[n])}(e),delete _[e]},300),_[n.id](n.id))}function V(e,t,n){var i,a,o,d,f=!e.value&&t&&t.length>0,s=function(){O.clearInput(e)};d=function(r){var d,m,g=function(t){l.check({selector:e,files:t,notify:!0,callback:function(e){try{k.isOneOfMe(e)&&(i=(n={uploader:r,element:e,files:t}).element,a=n.files||i.files||[],o=L.findAncestor(i),c=J(i),d={container:o,callback:Y,complete:G,element:i,files:a,url:c},o&&n.uploader.request(d))}finally{s()}var n,i,a,o,c,d},errback:s})};(e.value||f)&&(i=f?{files:t,name:e.name,value:e.value,accept:e.accept}:e,o=i.files?i.files.length:1,(a=function(e,t){var n,i,a,r=b.get("wc/ui/multiFileUploader",{overwrite:!1}),o={valid:!0,max:0,before:0,after:0,removed:0},c=function(e){var t,n=e.after-e.max;for(t=0;t<n;t++)Q(i[t]),e.removed++;e.after-=e.removed};t&&(o.max=function(e){var t;if(e&&e.hasAttribute(T)&&(t=e.getAttribute(T),h(t)))return t*=1,Math.max(t,0);return 0}(e),o.max&&(a=L.findAncestor(e))&&(i=B.findDescendants(a),o.before=i.length,o.after=o.before+t,o.after>o.max&&(r.overwrite&&t<=o.max&&((n=u.get("file_confirmoverwrite",t,o.max,o.before))?p.confirm(n)&&c(o):c(o)),o.valid=o.after<=o.max)));return o}(e,o)).valid?(d=i,m=e.getAttribute("data-wc-editor"),n||c("ie")>0&&c("ie")<10||!m?g(d.files):require(["wc/ui/imageEdit"],function(e){d.editorId=m,e.upload!==O.upload&&(e.upload=O.upload),e.editFiles(d,g,s)})):(s(),p.alert(u.get("file_toomany",o,a.max,a.before))))},r?d(r):c("formdata")?(r=new function(){function e(e,t){return function(n){!function(e,t){var n=y(e.xhr.responseText),i=e.dto,a=document.createElement(j.tagName);n&&(n.NodeType===Node.DOCUMENT_NODE&&(n=n.firstElementChild),a.appendChild(n),i.callback(a),0===Object.keys(W).length&&i.complete(i.container.id),a.innerHTML||X(t).call(e.xhr))}({dto:e,srcTree:n,xhr:this},t)}}function t(e,t,n,i,a){var r,o,c,d=new FormData,l=(c=n,function(e){var t,n=document.getElementById(c);e.lengthComputable&&n&&(t=n.querySelector("progress"))&&(t.value=e.loaded/e.total*100,console.log(c,"loaded:",e.loaded,"total:",e.total))}),u=X(n),f=function(e){return function(){delete W[e],console.log("Aborted file upload:",e)}}(n);d.append("wc_ajax",t),d.append("wc_ajax_int","x"),d.append("wc_fileuploadid",n),d.append(t,i,i.name),r={url:e,callback:a,onProgress:l,onError:u,onAbort:f,cache:!1,responseType:g.responseType.XML,postData:d},o=g.simpleRequest(r),W[n]=o}this.getUploading=function(){var e=z.findDescendants(document.body);return e?e.length:0},this.request=function(n){var i,a,r,o=n.element.name,c=n.container;try{for(i=0;i<n.files.length;i++)r=n.files[i],a=O.createFileInfo(c,r.name),t(n.url,o,a,r,e(n,a))}finally{O.clearInput(n.element)}}},d(r)):require(["wc/file/FauxJax"],function(e){r=new e(O.createFileInfo,J),d(r)})}function Y(e){var t,n=e.getElementsByTagName(B.tagName);if(!(n&&n.length>0))throw new Error("Unexpected fileupload response");for(t=0;t<n.length;t++)Z(n[t])}function Z(e){var t,n,i=e.getAttribute("id"),a=document.getElementById(i);delete W[i],a?a.innerHTML=e.innerHTML:(n=e.getAttribute("data-wc-containerid"))&&(t=document.getElementById(n))?t.insertAdjacentHTML("beforeend",e.outerHTML):console.warn("Could not find",i)}function $(e){var t=e.target;ee(t)}function ee(t){var i;k.isOneOfMe(t)&&(e.get(t,f)||(console.log("Initialising on first use",t.name),e.set(t,f,!0),c("ie")<9&&n.add(t,"change",A),i=t.form,e.get(i,f)||(e.set(i,f,!0),o.contains(i,N)||(n.add(i,"submit",te,-50),(!c("ie")||c("ie")>8)&&n.add(i,"change",A)))))}function te(e){!e.defaultPrevented&&r&&r.getUploading()>0&&(p.confirm(u.get("file_confirmnav"))||e.preventDefault())}function ne(e){var t,n,i=document.getElementById(e);i&&(n=k.findDescendant(i))&&(t=n.getAttribute("data-dropzone"))&&(n=null,m.register(t,function(e,t){"drop"===e?(O.upload(i,t),i.classList.remove("wc_dragging")):"dragstart"===e?i.classList.add("wc_dragging"):"dragstop"===e&&i.classList.remove("wc_dragging")}))}function ie(e){var t,n,i,a=e.getAttribute(M)||1,r=j.findDescendants(e);if(r.length<a){for(a>1&&((n=R.findDescendant(e))||((n=document.createElement(R.tagName)).className=I,e.appendChild(n))),t=r.length;t<a;t++)(i=document.createElement(j.tagName)).className=C+" "+F,n?n.appendChild(i):e.appendChild(i);r=j.findDescendants(e)}else"0"!==a||r.length||((i=document.createElement(j.tagName)).className=C+" wc-listlayout-type-flat "+F,e.appendChild(i),r=j.findDescendants(e));return r}t.jsModule("wc/ui/imageEdit"),this.upload=function(e,t,n){var i=k.isOneOfMe(e)?e:k.findDescendant(e);i&&w.setFocusRequest(i,function(){V(i,t,n)})},this.register=function(e){e&&e.length&&i.addCallback(function(){!function(e){var t;for(;t=e.shift();)ne(t)}(e)})},this.writeState=function(e,t){var n=L.findDescendants(e);Array.prototype.forEach.call(n,function(e){var n,i,a,r=B.findDescendants(e);for(n=0;n<r.length;n++)i=r[n],(a=s.writeStateField(t,e.id+".selected",i.id)).checked=!0,t.appendChild(a)})},this.initialise=function(e){s.subscribe(this),n.canCapture?n.add(e,{type:"focus",listener:$,capture:!0}):n.add(e,"focusin",$),n.add(e,"click",K),(c("rtc-gum")||c("flash"))&&o.add(e,"wc-rtc-gum")},this.getWidget=function(){return L},this.getInputWidget=function(){return k},this.createFileInfo=function(e,t){var n,i,r=a(),o=function(e){var t,n,i,a={idx:0,count:-1},r=ie(e);for(t=0;t<r.length&&(n=r[t],i=B.findDescendants(n),!(a.count<0||i.length<a.count)||(a.idx=t,a.count=i.length,0!==a.count));t++);return r[a.idx]}(e),c=document.createElement(B.tagName);return c.className=D,(n=document.createElement(H.tagName)).setAttribute("type","button"),n.className="wc_btn_icon wc_btn_abort",n.value=u.get("file_abort",t),E.add(n,"fa-ban"),c.appendChild(n),c.appendChild(document.createTextNode(t)),(i=c.appendChild(document.createElement("progress"))).setAttribute("min",0),i.setAttribute("max",100),i.setAttribute("value",0),c.setAttribute("id",r),o.appendChild(c),r},this.isOneOfMe=function(e,t){var n=!1;return e&&(n=t?k.isOneOfMe(e):L.isOneOfMe(e)),n},this.clearInput=function(e){d(e,function(e,t){t&&ee(e)})}},_={},N="wc-multifileupload",M="data-wc-cols",T="data-wc-maxfiles",C="wc_list_nb",I="wc_files",D="wc-file",F="wc_filelist",U="wc-ajax",L=new f("",N),k=new f("INPUT","",{type:"file"}),j=new f("UL",F),B=new f("LI",D),q=new f("A"),P=new f("button"),H=new f("BUTTON"),R=new f("div",I),S=new f("BUTTON","wc_btn_camera"),W={},z=new f("progress");function J(e){var t=r.getUrl(e);return!t&&e.form&&(t=e.form.action,console.log("File upload URL not set, attempting to use original form action instead",t)),t}function X(e){return function(t){var n=document.getElementById(e);delete W[e],n&&A.flagError({element:n,message:t}),console.log("Error in file upload:",e)}}return k.descendFrom(L),B.descendFrom(L),H.descendFrom(B),z.descendFrom(B),S.descendFrom(L),i.register(O),O});
define("wc/urlParser",[],function(){"use strict";return new function(){var t="port",e="host",r="hostname",s="user",n="password",i="hash",o="hashClean",p="protocol",h="search",a="pathname",l="searchArray",c="hostnameArray",u="pathnameArray",g="";function f(t){return t.replace(/^\[|\]$/g,"")}function y(y){var $,x,R,d=!1,m=/^\[.*\]$/;return($=(y=function(t,e){var r=t,s=/(\?([^#]+))?(#([^#]+))?$/;return s.exec(r)&&((e[h]=RegExp.$1)&&(e[l]=function(t){var e,r,s,n,i,o={};if(t||(t=window.location.search.substring(1,window.location.search.length)),t.length>0)for(e=(t=t.replace(/\+/g," ")).split("&"),r=s=n=null,i=0;i<e.length;i++)r=e[i].split("="),s=decodeURIComponent(r[0]),n=2===r.length?decodeURIComponent(r[1]):null,o[s]=n;return o}(RegExp.$2)),e[i]=RegExp.$3||g,e[o]=RegExp.$4||g,r=r.replace(s,"")),r}(y=function(e,r){var s=e,n=/:([0-9]*)/;return s.match(n)&&(r[t]=RegExp.$1||g,s=s.replace(n,"")),s}(y=function(t,e){var r=t,i=/^(?:([^:]+)?:?([^@]+)?)@/;return i.exec(r)&&(e[s]=RegExp.$1,e[n]=RegExp.$2,r=r.replace(i,"")),r}(y=y||this[a],this),this),this)).indexOf("/"))<0?""===this[p]?this[u]=[y]:(this[r]=f(y),d=m.test(y),this[c]=this[r].split(".")):0===$?this[u]=y.substr(1).split("/"):""===this[p]?this[u]=y.split("/"):(x=y.substr(0,$),R=y.substr($),this[r]=f(x),d=m.test(x),this[c]=this[r].split("."),this[a]=R,this[u]=R.substr(1).split("/")),this[r]&&this[t]!==g?this[e]=(d?"[":"")+this[r]+(d?"]":"")+":"+this[t]:this[e]=(d?"[":"")+this[r]+(d?"]":""),this}function $(t){var e=/^([^:^/]+:)\/{0,2}/;t&&t.constructor===String&&(t=(t=(t=t.replace(/\\/g,"/")).replace(/&amp;/gi,"&")).replace(/#$/,""),this[a]=t,t.match(e)?(this[p]=RegExp.$1.toLowerCase(),y.call(this,t.replace(e,""))):y.call(this))}$.prototype[i]=g,$.prototype[o]=g,$.prototype[c]=null,$.prototype[e]=g,$.prototype[r]=g,$.prototype[a]=null,$.prototype[u]=null,$.prototype[t]=g,$.prototype[p]=g,$.prototype[h]=g,$.prototype[l]=null,this.parse=function(t){return t?new $(t):null}}});
define("wc/ui/listLoader",["wc/ajax/ajax","wc/urlParser","wc/dom/tag","wc/Observer","wc/dom/getAncestorOrSelf","wc/dom/toDocFragment","wc/timers"],function(e,r,t,n,o,s,l){"use strict";return new function(){var u,c={},i={};this.load=function(a,d,m){return new Promise(function(p,w){var f,g,b,h,T,y,R=function(e){var r,n=o(e,t.FORM);return n&&(r=n.getAttribute("data-wc-datalisturl")),r}(d);a&&a.constructor===String?R?(R+=((f=r.parse(R))&&f.search?"&":"?")+"wc_data="+encodeURIComponent(a),m&&i[R]?(l.setTimeout(p,0),console.log("Already prefetched: ",R)):(i[R]=!0,T=(g={url:R,id:a,callback:p,onerror:w,element:d}).url,y=g.url+"_error",u||(u=new n),u.subscribe(g,{group:T,method:"callback"}),u.subscribe(g,{group:y,method:"onerror"}),c.hasOwnProperty(g.url)?console.log("Queuing request while pending: ",g.url):(b=function(e,r){try{u.setFilter(e),u.notify(r)}finally{delete c[g.url],u.reset(T),u.reset(y),g=null}},h={url:g.url,onError:function(e){b(y,e)},callback:function(e){null!==e&&null!==e.documentElement||!this.responseText?b(T,s(e)):b(T,s(this.responseText))},cache:!0,responseType:e.responseType.TEXT},console.log("Requesting datalist: ",g.url),e.simpleRequest(h)))):l.setTimeout(w,0,"Can not find URL"):l.setTimeout(w,0,"param 'id' must be a string")})}}});
define("wc/ui/selectboxSearch",["wc/string/escapeRe","wc/dom/tag","wc/dom/uid","wc/dom/classList","wc/dom/initialise","wc/dom/attribute","wc/dom/shed","wc/dom/event","wc/dom/group","wc/i18n/i18n","wc/timers","wc/config","wc/mixin","wc/debounce","wc/dom/textContent"],function(e,t,n,i,r,o,c,a,s,u,d,l,f,g,h){"use strict";var m=n();return r.register(new function(){var r,f,w,v={textTrumpsValue:!0,minLenSubstring:3,minLenVal:1,debounceDelay:125},y=g(function(e){a.fire(e,"change")},0),p=/[^ ]$/,E="wc_selsch_notfound",b="wc_selsch",x={starts:{},contains:{}};function _(e){var n=e.target;(function(e){var n=null;return e.tagName!==t.SELECT||e.multiple||(n=e),n})(n)&&(function(){if(!v.inited)try{v=l.get("wc/ui/selectboxSearch",v)}finally{v.inited=!0}}(),function(e){o.get(e,m)||(o.set(e,m,!0),a.add(e,"click",_),a.add(e,"blur",T),a.add(e,"keydown",C),a.add(e,"keypress",L))}(n),T())}function C(e){var t,n,i=e.target,r=e.keyCode||e.which;r===KeyEvent.DOM_VK_DELETE||r===KeyEvent.DOM_VK_BACK_SPACE?(t=K(),n=h.get(t),h.set(t,n.substr(0,n.length-1)),(n=h.get(t)).length||A(t),O(i,n),e.preventDefault()):r===KeyEvent.DOM_VK_SPACE?(t=K(),n=h.get(t),p.test(n)&&(h.set(t,n+" "),O(i,h.get(t)))):r===KeyEvent.DOM_VK_RETURN&&T()}function L(t){var n,i,r,o=t.target,a=t.keyCode||t.which;(a>KeyEvent.DOM_VK_DOWN||t.shiftKey)&&(n=String.fromCharCode(a),f.search(e(n.toLocaleLowerCase()))>-1&&(i=K(),r=h.get(i),h.set(i,r+n),(r=h.get(i)).length&&(c.isHidden(i,!0)&&(o.parentNode.insertBefore(i,o),c.show(i)),O(o,r))))}function K(){var e=w?document.getElementById(w):null;return e||(w=w||n(),(e=document.createElement(t.SPAN)).className=b,c.hide(e),e.id=w,document.body.appendChild(e)),e}function O(e,t){r||(r=g(D,v.debounceDelay)),r(e,t)}function D(e,t){var n;t?(n=v.textTrumpsValue?k(e,t)||N(e,t):N(e,t)||k(e,t))?(i.remove(K(),E),S(e,n)):i.add(K(),E):""===t&&(n=N(e,t))&&!c.isSelected(n)&&S(e,n)}function S(e,t){d.setTimeout(function(){e.selectedIndex=t?t.index:0,y(e),e=null,t=null},0)}function V(e){return s.get(e)}function k(t,n){var i,r,o,c,a,s,u,d,l=0;for(x.starts.hasOwnProperty(n)?(u=x.starts[n],console.log("Got regex from cache: ",u.source)):u=x.starts[n]=new RegExp("^"+e(n),"i"),x.contains.hasOwnProperty(n)?(d=x.contains[n],console.log("Got regex from cache: ",d.source)):d=x.contains[n]=new RegExp(".+"+e(n),"i"),(i=V(t))&&i.length&&(r=i.length);l<r;){if(o=i[l],l++,(c=h.get(o))&&u.test(c)){a=o;break}!s&&n.length>=v.minLenSubstring&&d.test(c)&&(s=o)}return a||s}function N(e,t){var n,i,r,o,c,a=0;if(""===t||t.length>=v.minLenVal)for(""!==t&&(t=t.toLocaleLowerCase()),i=(n=V(e)).length;a<i;)if(r=n[a],a++,((o=r.getAttribute("value"))||""===o)&&(o=o.toLocaleLowerCase())===t){c=r;break}return c}function T(){var e=K();h.set(e,""),c.isHidden(e,!0)||A(e)}function A(e){i.remove(e,E),c.hide(e)}this.indexOf=function(e,n,i){var r,o,c,a=-1,s=Array.isArray(n)?n:n.getElementsByTagName(t.OPTION),u=e.value,d=e.text;for(r=i&&i>0?i:0,o=s.length;r<o;r++)if((c=s[r]).value===u&&c.text===d){a=r;break}return a},this.initialise=function(e){f=u.get("select_typeahead"),a.canCapture?a.add(e,{type:"focus",listener:_,capture:!0}):a.add(e,"focusin",_)}})});
define("wc/ui/selectLoader",["wc/ui/listLoader","wc/dom/initialise","wc/dom/Widget","wc/dom/getFilteredGroup","wc/ui/selectboxSearch","wc/dom/shed","wc/dom/event","wc/dom/textContent","wc/i18n/i18n","wc/dom/getLabelsForElement","wc/ui/feedback","wc/has","wc/dom/classList"],function(e,t,n,o,r,i,l,a,d,c,u,s,f){"use strict";var m;return m=new function(){var w="data-wc-selectloader-disabled",b=new n("SELECT");function g(e,t){var n,o,r,i,s=document.getElementById(e),w=u.getBox(s,u.LEVEL.ERROR);return w&&f.contains(w,"wc-selectload-error")?w:!w&&s&&t?(o=(n=c(s,!0))&&n.length?" '"+(o=a.get(n[0]))+"'":"",o=d.get("loader_loaderr",o),(i=u.flagError(s,o))&&(w=document.getElementById(i))&&(f.add(w,"wc-selectload-error"),(r=document.createElement("button")).type="button",r.innerHTML=d.get("loader_retry",o),l.add(r,"click",function(t){t.preventDefault(),m.load(e)},!1),w.appendChild(r)),w):null}this.register=function(e){e&&e.length&&t.addCallback(function(){!function(e){for(var t;t=e.shift();)m.load(t)}(e)})},this.load=function(t){var n=document.getElementById(t),l=function(e){return function(t){var n,l,a,d,c=document.getElementById(e);if(c){(a=g(e,!1))&&u.remove(a,c);try{if(!(d=b.isOneOfMe(c)?c:b.findDescendant(c)))return;i.isDisabled(c)&&c.hasAttribute(w)&&(c.removeAttribute(w),i.enable(c,!0)),n=o(d),(l=b.findDescendant(t))?(s("ie")<10?(console.info("Forced to populate list slowly due to IE8 bugs"),d.innerHTML="",Array.prototype.forEach.call(l.options,function(e){d.appendChild(e.cloneNode(!0))})):d.innerHTML=l.innerHTML,Array.prototype.forEach.call(n,function(e){var t,n=r.indexOf(e,l);n>=0&&(i.select(d.options[n],!0),d.hasAttribute("multiple")||(t=r.indexOf(e,d),d.selectedIndex!==t&&(d.selectedIndex=t)))})):console.warn("Datalist malformed")}finally{c.removeAttribute("aria-busy"),n=c=d=null}}else console.warn("Could not load list",e)}}(t),a=function(e){return function(){var t=document.getElementById(e);t?(g(e,!0),i.isDisabled(t)||(t.setAttribute(w,!0),i.disable(t,!0)),t.removeAttribute("aria-busy")):console.warn("Could not find element",e)}}(t);n&&(n.setAttribute("aria-busy",!0),e.load(n.getAttribute("data-wc-list"),n,!1).then(l,a))}}});
define("wc/ui/multiFormComponent",["wc/has","wc/dom/event","wc/dom/initialise","wc/dom/focus","wc/dom/shed","wc/dom/uid","wc/dom/Widget","wc/i18n/i18n","wc/ui/selectLoader","wc/timers","wc/ui/prompt","wc/ui/ajaxRegion","wc/ui/fieldset","wc/ui/icon"],function(e,n,t,i,c,r,d,o,a,s,u,f,l,m){"use strict";var g,h=null;return g=new function(){var e,w,p={add:0,remove:1},v="data-wc-max",y=l.getWidget().clone().extend("wc_mfc"),D=new d("li"),x=new d("button"),b=new d("select"),A=new d("input"),F=[b,A];function T(e){var n,t=document.getElementById(e);t&&(n=b.findDescendants(t),Array.prototype.forEach.call(n,function(e){var n=e.id;a.load(n)}))}function B(t){var a;t.defaultPrevented||!(a=x.findAncestor(t.target))||c.isDisabled(a)||function(n,t){var a,l,h,y,F,T=g.getButtonType(n);T===p.add?((F=I(C(h=n),!0))&&(function(e){var n=!0,t=C(e),i=t.getAttribute(v);return i&&(n=i>I(t).length),n}(h)?(y=F.cloneNode(!0),F.nextSibling?F.parentNode.insertBefore(y,F.nextSibling):F.parentNode.appendChild(y),function(e){var n,t,i,c,o,a,s,u=new d("","",{id:null}).findDescendants(e);for(s=0;s<u.length;s++)(o=u[s]).elid="",n=new d("label","",{for:o.id}),i=n.findDescendant(e),t=x.extend("",{"aria-controls":null}),c=t.findDescendant(e),a=r(),i&&(i.htmlFor=a),c&&(c.setAttribute("aria-controls",a),c.title=w,m.change(c,"fa-minus-square","fa-plus-square")),o.id=a}(y),function(e,n){var t,i=b.findDescendants(e),c=b.findDescendants(n);for(t=0;t<c.length;t++)i[t].selectedIndex=c[t].selectedIndex}(y,F),function(e){function n(e){b.isOneOfMe(e)?e.selectedIndex=0:e.value=""}Array.prototype.forEach.call(A.findDescendants(e),n),Array.prototype.forEach.call(b.findDescendants(e),n)}(F),k(h)):u.alert(o.get("mfc_max"))),a=!0):T===p.remove&&(function n(t,c){var r,d,o,a,u;if(c)for(d=C(t),o=I(d),a=o.length;--a>0;)n(o[a]);else(r=D.findAncestor(t))&&((d=r.parentNode).removeChild(r),u=function(){i.focusFirstTabstop(d)},e&&s.clearTimeout(e),e=s.setTimeout(u,100));k(d)}(n,t),"submit"===n.type&&(c.hide(n),n.form.appendChild(n)),a=!0),a&&(l=C(n))&&f.getTrigger(l,!0)&&f.requestLoad(l,null,!0)}(a,t.shiftKey||n.shiftKey)}function C(e){return y.findAncestor(e)}function I(e,n){return D[n?"findDescendant":"findDescendants"](e)}function k(e){h&&h.checkRepaint(e)}D.descendFrom(y),x.descendFrom(D),b.descendFrom(D),A.descendFrom(D),this.getButtonType=function(e){var n=C(e),t=-1;return n&&(t=e===x.findDescendant(n)?p.add:p.remove),t},this.register=function(e){e&&e.length&&t.addCallback(function(){!function(e){for(var n;n=e.shift();)T(n)}(e)})},this.getWidget=function(){return y},this.getInputWidget=function(){return F},this.initialise=function(e){return n.add(e,"click",B),o.translate("mfc_remove").then(function(e){w=e})}},t.register(g),8===e("ie")&&require(["wc/fix/inlineBlock_ie8"],function(e){h=e}),g});
define("wc/ui/multiSelectPair",["wc/dom/attribute","wc/dom/event","wc/dom/initialise","wc/dom/focus","wc/dom/formUpdateManager","wc/dom/getBox","wc/dom/shed","wc/dom/tag","wc/dom/Widget","wc/ui/ajaxRegion","wc/ui/ajax/processResponse","wc/ui/selectboxSearch","wc/ui/fieldset"],function(e,t,n,i,s,r,o,d,c,a,l,f,u){"use strict";var p;return p=new function(){var n=u.getWidget().clone().extend("wc-multiselectpair"),g=new c("select"),h="multiSelectPair.inited",y=0,O=1,v=2,w=[],m=new c("button"),T=new c("optgroup"),x={aall:function(e){D(p.getListByType(e,y),E)},add:E,rall:function(e){D(p.getListByType(e,O),M)},rem:M};function L(e){var t,i=e||document.body;t=n.isOneOfMe(i)?[e]:n.findDescendants(i),Array.prototype.forEach.call(t,function(e){var t,n,i,s,o=p.getListByType(e,y);o.style.width||(t=p.getListByType(e,O),i=(n=r(o)).width,s=n.height,n=r(t),(i=Math.max(n.width,i))&&(o.style.width=i+"px",t.style.width=i+"px",n.height!==s&&(s=Math.max(n.height,s),o.style.height=s+"px",t.style.height=s+"px")))})}function b(e){var t=p.getListType(e);return null!==t?(t+1)%2:null}function B(e){var t,n,i,s,r,c,a,l,u,g,h=b(e),y=p.getListByType(e,h),w=p.getListByType(e,v),m=e.selectedIndex;if(e.options.length&&m>=0){for(y.selectedIndex=-1;m>=0;)s=(t=e.options[m]).parentNode,T.isOneOfMe(s)?(u=(l=T.extend("",{label:s.label})).findDescendant(w),n=f.indexOf(t,u),g=f.indexOf(t,s),(r=l.findDescendant(y))?((i=_(n,g))>=r.children.length?r.appendChild(t):r.insertBefore(t,r.children[i]),c=!0):((r=document.createElement(d.OPTGROUP)).label=s.label,(i=_(n=f.indexOf(t,w),m))>=y.options.length?y.appendChild(r):(a=y.options[i].parentNode,T.isOneOfMe(a)?y.insertBefore(r,a):y.insertBefore(r,y.options[i])),r.appendChild(t),c=!0),0===s.children.length&&e.removeChild(s)):(i=_(n=f.indexOf(t,w),m))>=y.options.length?(y.appendChild(t),c=!0):(a=y.options[i].parentNode,T.isOneOfMe(a)?y.insertBefore(t,a):y.insertBefore(t,y.options[i]),c=!0),m=e.selectedIndex;c&&function(e,t){p.getListType(e)===O?o.select(t):o.deselect(t)}(e,y)}}function _(e,t){var n=e-t;return n<0&&(n=e),n}function E(e){B(p.getListByType(e,y))}function M(e){B(p.getListByType(e,O))}function D(e,t){var n;for(n=0;n<e.options.length;n++)o.isSelected(e.options[n])||o.select(e.options[n],!0);t(e)}function A(e,t){Array.prototype.forEach.call(n.findDescendants(e),function(e){var n,i,r=p.getValue(e);for(n=0,i=r.length;n<i;n++)s.writeStateField(t,e.id,r[n].value)})}function I(e){var t,n,s,r,o;if(!e.defaultPrevented&&(t=g.findAncestor(e.target)))if((n=e.keyCode)===KeyEvent.DOM_VK_RETURN)e.preventDefault(),B(t);else{if(s=p.getListType(t),r=!1,(n===KeyEvent.DOM_VK_RIGHT&&s===y||n===KeyEvent.DOM_VK_LEFT&&s===O)&&(r=!0),!r)return;if(o=p.getListByType(t,b(t))){t.selectedIndex=-1;try{i.setFocusRequest(o)}catch(e){}}}}function P(i){var s=n.findAncestor(i.target);s&&!e.get(s,h)&&(e.set(s,h,!0),t.add(s,"keydown",I))}function S(e){var t,n=e.target;!e.defaultPrevented&&(n=m.findAncestor(n))&&!o.isDisabled(n)&&(t=function(e){var t;return m.isOneOfMe(e)&&(t=x[e.value]),t}(n))&&t(n)}function C(e){var t,i,s;e.defaultPrevented||(i=e.target).tagName!==d.OPTION&&i.tagName!==d.SELECT||!(t=g.findAncestor(i))||o.isDisabled(t)||(B(t),(s=n.findAncestor(t))&&a.getTrigger(s,!0)&&a.requestLoad(t))}w[y]=g.extend("wc_msp_av"),w[O]=g.extend("wc_msp_chos"),w[v]=g.extend("wc_msp_order"),m.descendFrom(n),g.descendFrom(n),this.getListType=function(e){var t;if(g.isOneOfMe(e))for(t=0;t<w.length;t++)if(w[t].isOneOfMe(e))return t;return null},this.getWidget=function(){return n},this.getInputWidget=function(){return g},this.LIST_TYPE_CHOSEN=O,this.LIST_TYPE_AVAILABLE=y,this.getListByType=function(e,t){var i,s=null,r=n.findAncestor(e);return r&&(i=w[t])&&(s=i.findDescendant(r)),s},this.getValue=function(e){var t,n;return o.isDisabled(e)||(t=this.getListByType(e,O))&&(n=t.options),n||[]},this.isOneOfMe=function(e){return n.isOneOfMe(e)},this.initialise=function(e){L(),t.canCapture?t.add(e,{type:"focus",listener:P,capture:!0}):t.add(e,"focusin",P),t.add(e,"click",S),t.add(e,"dblclick",C)},this.postInit=function(){o.subscribe(o.actions.SHOW,L),l.subscribe(L,!0),s.subscribe(A)},this._keydownEvent=I},n.register(p)});
define("wc/ui/popup",["wc/dom/event","wc/dom/initialise","wc/dom/uid","wc/dom/Widget","wc/timers","wc/dom/shed"],function(t,e,n,i,o,r){"use strict";return e.register(new function(){var c,a=0,u=1,d=2,s=new i("button","",{"aria-haspopup":"true","data-wc-url":null});function w(t){var e=t[u]||n(),i=t[d];(c=c||/\W/g).test(e)&&(console.warn("Removing non-word-characters from window name"),(e=e.replace(c,""))||(e=n())),i?window.open(t[a],e,i):window.open(t[a],e)}function f(t){var e;t.defaultPrevented||!(e=s.findAncestor(t.target))||r.isDisabled(e)||(function(t){var e;(e=t.getAttribute("data-wc-url"))?w([e,t.getAttribute("data-wc-window"),t.getAttribute("data-wc-specs")]):console.warn("Could not find popup URL ",t.id)}(e),t.preventDefault())}function l(t){for(;t.length;)w(t.shift())}this.isOneOfMe=function(t){return s.isOneOfMe(t)},this.initialise=function(e){t.add(e,"click",f)},this.register=function(t){t&&t.length&&e.addCallback(function(){o.setTimeout(l,1e3,t)})}})});
define("wc/ui/redirect",["wc/dom/uid","wc/timers"],function(t,e){"use strict";var n;return n=new function(){var r,i=t(),c=[function(t){return o.test(t)},function(t){return t.indexOf(u)>0}],u="wc_content=attach",o=/^[\w]+:[^/].*$/;function a(t){t&&(r&&e.clearTimeout(r),r=e.setTimeout(function(){var e;n.isLaunchUrl(t)?((e=document.getElementById(i))||((e=document.createElement("iframe")).setAttribute("id",i),e.style.display="none",document.body.appendChild(e)),e.src=t):window.parent.location.href=t},50))}this.register=function(t){a(t)},this.isLaunchUrl=function(t){var e,n,r;for(e=0;e<c.length;e++){n=c[e];try{if(r=n(t))break}catch(t){console.error(t)}}return r},this.addlaunchUrlTest=function(t){t&&t.call&&c.push(t)}}});
define("wc/ui/launchLink",["wc/dom/event","wc/dom/initialise","wc/dom/Widget","wc/ui/redirect"],function(t,i,n,e){"use strict";var r="data-wc-attach",a="wc_content=inline",c=new n("a"),u=new n("","",{"data-wc-url":null});return i.register(new function(){function i(t){var i;return t&&(i=t.href||t.getAttribute("data-wc-url")),i||""}function n(t){var n,a=c.findAncestor(t.target)||u.findAncestor(t.target);a&&"true"!==a.getAttribute("aria-haspopup")&&(n=i(a))&&(e.isLaunchUrl(n)||a.hasAttribute(r))&&(t.preventDefault(),e.register(n))}this.isInlineLink=function(t){var n=!1,e=i(t);return e&&(n=e.indexOf(a)>0),n},this.initialise=function(i){t.add(i,"click",n,100)}})});
define("wc/ui/navigationButton",["wc/dom/event","wc/dom/initialise","wc/dom/Widget","wc/ui/popup","wc/ui/cancelUpdate","wc/dom/shed","wc/ui/launchLink","wc/ui/redirect"],function(e,n,i,t,c,u,a,r){"use strict";return n.register(new function(){var n=new i("button","",{"data-wc-url":null}),d=n.extend("wc_btn_cancel"),l=new i("form");function o(e){var i,o,s;e.defaultPrevented||!(i=n.findAncestor(e.target))||u.isDisabled(i)||!(o=i.getAttribute("data-wc-url"))||t.isOneOfMe(i)||a.isInlineLink(i)||(d.isOneOfMe(i)&&(s=l.findAncestor(i))&&c.cancelSubmission(s)?e.preventDefault():r.isLaunchUrl(o)?(e.preventDefault(),r.register(o)):(window.location.href=o,e.preventDefault()))}this.initialise=function(n){e.add(n,"click",o)}})});
define("wc/ui/numberField",["wc/dom/attribute","wc/dom/initialise","wc/dom/event","wc/isNumeric","wc/dom/shed","wc/dom/Widget","wc/timers"],function(e,t,i,n,r,a,u){"use strict";var s;return s=new function(){var t=new a("input","",{type:"number"}),c="max",d="min",o="wc/ui/numberField.bootstrapped";function f(e,t,n){var r,a,o,f=e.getAttribute("step")||"1",l=s.getValueAsNumber(e),m=e.getAttribute(d),g=e.getAttribute(c);m&&(m=parseFloat(m)),g&&(g=parseFloat(g)),(r=f.indexOf("."))&&(a=f.substr(r))&&(o=10*a.length),t&&(f=0-f),u.setTimeout(function(){var t,r=s.getValueAsNumber(e);l===r&&(t=l-f,m&&t<m?t=m:g&&t>g&&(t=g),o&&(t=Math.round(t*o)/o),e.value=t,n||i.fire(e,"change"))},0)}function l(e){var t=e.target;if(!e.defaultPrevented&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&s.isOneOfMe(t)&&!r.isDisabled(t))switch(e.keyCode){case KeyEvent.DOM_VK_UP:f(t,!0,e.fake);break;case KeyEvent.DOM_VK_DOWN:f(t,!1,e.fake)}}function m(t){var n=t.target;t.defaultPrevented||s.isOneOfMe(n)&&!e.get(n,o)&&(e.set(n,o,!0),i.add(n,"keydown",l))}this.getWidget=function(){return t},this.initialise=function(e){i.canCapture?i.add(e,{type:"focus",listener:m,capture:!0}):i.add(e,"focusin",m)},this.getValueAsNumber=function(e){var t=e.value||"";return t&&(t=t.trim())?n(t)?parseFloat(t):NaN:t},this.isOneOfMe=function(e){return e&&t.isOneOfMe(e)},this._keydownEvent=l},t.register(s)});
define("wc/dom/messageBox",["wc/dom/Widget","wc/dom/tag"],function(e,t){"use strict";return new function(){var n,r,i,o="wc-messagebox",s=t.SECTION;function u(e,t){if(!e||e.nodeType!==Node.ELEMENT_NODE){if(t)return!1;throw new TypeError("Argument must be an element")}return!0}function g(e,t,n){var r=e,i="findDescendant";return u(e,!0)||(r=document.body),n&&(i+="s"),t[i](r)}this.getWidget=function(){return n||(n=new e(s,o)),r=r||new e(s,o)},this.isOneOfMe=function(e){return!!u(e,!0)&&this.getWidget().isOneOfMe(e)},this.get=function(e,t){return g(e,this.getWidget(),t)},this.getErrorBoxWidget=function(){return i=i||this.getWidget().extend("wc-messagebox-type-error")},this.getErrorBoxes=function(e,t){return g(e,this.getErrorBoxWidget(),t)}}});
define("wc/ui/onloadFocusControl",["wc/dom/focus","wc/dom/initialise","wc/ui/ajax/processResponse","wc/timers","wc/dom/messageBox"],function(e,t,n,c,o){"use strict";var s;return s=new function(){var u;function i(t,n){var c;(c=document.getElementById(t))&&function(e){var t=document.activeElement,n=!t||!t.tagName||t===document.body||t===document.documentElement;return n||(n=0===t.clientHeight&&0===t.clientWidth),n&&!e&&o.getErrorBoxes()&&(n=!1),n}(n)&&(e.canFocus(c)?e.setFocusRequest(c):e.canFocusInside(c)?e.focusFirstTabstop(c):0===c.clientHeight&&0===c.clientWidth&&(c=e.getFocusableAncestor(c))&&e.setFocusRequest(c))}function r(e,t,n){var c=u||n;c&&s.requestFocus(c,null,!0)}this.requestFocus=function(e,t,n){u=null,t||0===t?c.setTimeout(i,t,e,n):i(e,n)},this.register=function(e){e&&!u&&(u=e,t.addCallback(function(){c.setTimeout(function(){try{if(!u)return;s.requestFocus(u)}finally{u=null}},0)}))},this.postInit=function(){n.subscribe(r,!0)}},t.register(s)});
define("wc/ui/radioButtonSelect",["wc/dom/group","wc/dom/initialise","wc/dom/shed","wc/dom/Widget","wc/dom/getFilteredGroup","wc/dom/cbrShedPublisher","wc/ui/fieldset"],function(e,t,i,n,c,o){"use strict";return t.register(new function(){var t=o.getWidget("r"),r=new n("fieldset","wc-radiobuttonselect");function u(n,c){n&&r.isOneOfMe(n)&&e.getGroup(n,t).forEach(function(e){i[c](e)})}this.getWidget=function(){return r},this.getInputWidget=function(){return t},this.setSelectionByValue=function(n,o){var u,s,f;if(r.isOneOfMe(n))if(o){for(s=e.getGroup(n,t),f=0;f<s.length;++f)if((u=s[f]).value===o){i.select(u);break}}else c(n).forEach(function(e){i.deselect(e)})},this.postInit=function(){i.subscribe(i.actions.MANDATORY,u),i.subscribe(i.actions.OPTIONAL,u)}})});
define("wc/ui/table/common",["wc/dom/Widget"],function(e){"use strict";var n=function(){this.hasOwnProperty("descendFrom")?console.error("refusing to modify widget"):e.prototype.descendFrom.apply(this,arguments)},t=new e("div","wc-table"),o={WRAPPER:t,TABLE:new e("table"),THEAD:new e("thead"),TBODY:new e("tbody"),TR:new e("tr"),TH:new e("th"),TD:new e("td"),BUTTON:new e("button")};return Object.keys(o).forEach(function(e){var t=o[e];o.hasOwnProperty(e)&&t&&t.descendFrom&&(t.descendFrom=n)}),o.getAjaxDTO=function(e,n){var o=e.id,r=function(e){var n=t.findAncestor(e);return n?n.id:null}(e);return{id:o,loads:r?[r]:[],alias:r,formRegion:r,oneShot:n?1:-1}},o});
define("wc/ui/rowAnalog",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/shed","wc/dom/Widget","wc/ui/table/common","wc/ui/icon"],function(e,t,i,c,s,o){"use strict";var a;function r(){var e;this.exclusiveSelect=this.SELECT_MODE.MIXED,this.simpleSelection=!0,this.ITEM=s.TR.extend("",{"aria-selected":null}),this.lastActivated={},this.CONTAINER=s.TABLE,this.shedObserver=function(t,s){var a,r,n,l;t&&(s===i.actions.SELECT||s===i.actions.DESELECT)&&this.ITEM.isOneOfMe(t)&&(a=(e=e||new c("td","wc_table_sel_wrapper")).findDescendant(t,!0))&&(r=this.isMultiSelect(t),s===i.actions.SELECT?(n=r?"fa-check-square-o":"fa-dot-circle-o",l=r?"fa-square-o":"fa-circle-o"):(n=r?"fa-square-o":"fa-circle-o",l=r?"fa-check-square-o":"fa-dot-circle-o"),o.change(a,n,l)),this.constructor.prototype.shedObserver.call(this,t,s)}}return r.prototype=e,(a=new r).constructor=r,t.register(a)});
define("wc/ui/checkboxAnalog",["wc/dom/ariaAnalog","wc/dom/initialise","wc/dom/Widget","wc/dom/shed","wc/dom/formUpdateManager"],function(t,e,i,a,r){"use strict";var c;function n(){this.ITEM=new i("","",{role:"checkbox"}),this.writeState=function(t,e){Array.prototype.forEach.call(this.ITEM.findDescendants(t),function(t){var i,c;a.isDisabled(t)||(i=t.hasAttribute(this.VALUE_ATTRIB)?"data-wc-name":"name",c=t.hasAttribute(this.VALUE_ATTRIB)?this.VALUE_ATTRIB:"value",r.writeStateField(e,t.getAttribute(i),a.isSelected(t)?t.getAttribute(c):""))},this)}}return n.prototype=t,(c=new n).constructor=n,e.register(c)});
define("wc/ui/selectToggle",["wc/dom/shed","wc/dom/getFilteredGroup","wc/dom/classList","wc/array/toArray","wc/dom/formUpdateManager","wc/dom/Widget","wc/dom/initialise","wc/dom/uid","wc/ui/table/common","wc/ui/rowAnalog","wc/ui/ajax/processResponse","wc/ui/getFirstLabelForElement","wc/i18n/i18n","wc/ui/icon","wc/ui/checkBox","wc/ui/checkboxAnalog","wc/ui/radioAnalog"],function(e,t,n,i,a,c,r,s,o,d,l,u,f,E,b){"use strict";var g="checkbox",w="wc_seltog";return r.register(new function(){var r,A,O,D,p,m,L,h,y,M,N,S,T,v,I,x,C,F,X={},q="wc-selecttoggle",k="aria-controls",_="data-wc-target",B={ALL:"all",NONE:"none",MIXED:"some",UNKOWN:"unknown"};function W(){var e={role:g};F||(r=new c("",w),A=new c("button",w),O=A.extend("",e),D=new c("span",w),p=r.extend("wc_submenucontent"),m=A.extend("",{role:"radio"}),L=A.extend("",{role:"menuitemradio"}),y=(h=[m,L]).map(function(e){return e.extend("",{"aria-checked":"true"})}),M=b.getWidget().clone(),N=new c("","",e),S=d.ITEM.clone(),v=o.TABLE.extend("",{"aria-multiselectable":"true"}),(I=o.TBODY.clone()).descendFrom(v,!0),S.descendFrom(I,!0),T=[M,N,S],F=!0)}function j(e){return e&&n.contains(e,q)}function R(e){return!!j(e)||!!m.isOneOfMe(e)&&j(D.findAncestor(e))}function U(t,n){F||W(),Array.prototype.forEach.call(O.findDescendants(t),function(t){var i=B.UNKNOWN;!e.isDisabled(t)&&R(t)&&(e.isSelected(t)===e.state.MIXED?i=B.MIXED:e.isSelected(t)===e.state.SELECTED?i=B.ALL:e.isSelected(t)===e.state.DESELECTED&&(i=B.NONE),i!==B.UNKNOWN&&a.writeStateField(n,t.getAttribute("data-wc-name"),i))}),Array.prototype.forEach.call(D.findDescendants(t),function(t){var i,r;!e.isDisabled(t)&&R(t)&&(c.findDescendant(t,y)||(i="some",r=m.findDescendant(t).getAttribute("data-wc-name"),a.writeStateField(n,r,i)))})}function K(e){var t,n,i=e;return D.isOneOfMe(e)?i=m.findDescendant(e):p.isOneOfMe(e)&&(i=L.findDescendant(e)),(t=i.getAttribute(k))?(n=[],t.split(" ").forEach(function(e){n.push(document.getElementById(e))}),n):null}function H(e){var t=[M.extend("",{"data-wc-group":e}),N.extend("",{"data-wc-group":e})];return i(c.findDescendants(document,t))}function G(n,i){var a,s,o,d,l;if(n)if(i===e.actions.SELECT&&c.isOneOfMe(n,h)||(i===e.actions.SELECT||i===e.actions.DESELECT)&&O.isOneOfMe(n))0===((o=K(s=n))&&o.length?(!O.isOneOfMe(s)&&(d=s.getAttribute("data-wc-value"))||(d=e.isSelected(s)===e.state.DESELECTED?B.NONE:B.ALL),l=t.FILTERS[d===B.ALL?"deselected":"selected"]|t.FILTERS.enabled,d===B.ALL&&(l|=t.FILTERS.visible),(o=(o=t(o,{filter:l})).filter(function(e){return!(r.isOneOfMe(e)||"true"===e.getAttribute("aria-readonly"))})).forEach(function(t){e[d===B.ALL?"select":"deselect"](t)}),o.length):null)&&Y(n);else if(c.isOneOfMe(n,T)){if(!(a=function(e){return e&&e.id?A.extend("",{"aria-controls":e.id}).findDescendants(document.body):null}(n))||!a.length)return;Array.prototype.forEach.call(a,Y)}}function Y(n){var i,a,c=B.MIXED;!e.isDisabled(n)&&(i=K(n))&&(0===i.length?c=B.NONE:(a=t(i))&&(0===a.length?c=B.NONE:i.length===a.length&&(c=B.ALL)),function(t,n){var i,a,c=[],r="fa-check-square-o";t&&(O.isOneOfMe(t)?(i=e.isSelected(t),n===B.ALL&&i!==e.state.SELECTED?(e.select(t,!0),a=r,c=["fa-square","fa-square-o"]):n===B.MIXED&&i!==e.state.MIXED?(e.mix(t,!0),a="fa-square",c=[r,"fa-square-o"]):n===B.NONE&&i!==e.state.DESELECTED&&(e.deselect(t,!0),a="fa-square-o",c=["fa-square",r]),a&&(E.change(t,a,c[0]),E.remove(t,c[1]))):n!==B.MIXED&&t.getAttribute("data-wc-value")===n?e.select(t,!0):e.deselect(t,!0))}(n,c))}function z(e){var t,n,a,r,o,d=(n=e)&&(a=n.getAttribute(_))?(r=document.getElementById(a))?M.isOneOfMe(r)?(o=r.getAttribute("data-wc-group"))?H(o):[r]:R(n)?i(c.findDescendants(r,T)).map(function(e){return O.isOneOfMe(e)?null:e}):i(S.findDescendants(r)).map(function(e){return I.findAncestor(e)===r?e:null}):H(a):null,l=[];d&&(d.forEach(function(e){e.id||(e.id=s()),l.push(e.id)}),l.length&&(t=l.join(" "),O.isOneOfMe(e)?e.setAttribute(k,t):Array.prototype.forEach.call(m.findDescendants(e),function(e){e.setAttribute(k,t)})))}function J(){F||W(),Array.prototype.forEach.call(r.findDescendants(document.body),z)}function P(e){var t,n,i=u(e),a=e.id;i||(n="<span wc-data-for='"+a+"' id='"+a+"_l'>"+(x=x||f.get("toggle_label"))+"</span>",e.insertAdjacentHTML("afterbegin",n),i=e.firstChild),i&&(t=i.id)&&Array.prototype.forEach.call(m.findDescendants(e),function(e){e.setAttribute("aria-labelledby",t)})}function Q(e){var t=u(e);t?e.setAttribute("aria-labelledby",t.id):(C=C||f.get("toggle_all_label"),R(e)?e.setAttribute("title",C):e.insertAdjacentHTML("beforeend","<span>"+C+"</span>"))}function V(e){var t=e||document.body;F||W(),D.isOneOfMe(t)?P(t):O.isOneOfMe(t)?Q(t):(Array.prototype.forEach.call(D.findDescendants(t),P),Array.prototype.forEach.call(O.findDescendants(t),Q))}this.postInit=function(){J(),V(),e.subscribe(e.actions.SELECT,G),e.subscribe(e.actions.DESELECT,G),e.subscribe(e.actions.MIX,G),a.subscribe(U),l.subscribe(J,!0),l.subscribe(V,!0)},this.register=function(e){e.forEach(function(e){X[e.identifier]=e})}})});
define("wc/ui/SubordinateAction",["wc/dom/shed","wc/has"],function(e,t){"use strict";var n,i,r={},o={};function s(e){if(!r.hasOwnProperty(e.type))throw new TypeError("Not a known action type",e.type);this.doToElement=r[e.type],this.targets=[],e.targets.forEach(function(e){try{this.targets.push(new c(e.id,e.groupId))}catch(e){console.warn(e)}},this)}function c(e,t){if(this.id=e||null,this.groupId=t||null,!e&&!t)throw new TypeError("Action target must have an id or a groupId")}return 8===t("ie")&&require(["wc/fix/inlineBlock_ie8"],function(e){n=e}),s.registerGroups=function(e){var t,n;if(e)for(;e.length;)(n=(t=e.pop()).name)?o[n]=t:console.warn("Can not register a group without a name",t)},s.getGroup=function(e){var t=o[e]||null;return t&&(t=t.identifiers),t},s.register=function(e,t){r[e]=t},s.prototype.isTargeted=function(e){return this.targets.some(function(t){return t.isTargeted(e)},this)},s.prototype.execute=function(){var e,t,n,i,r=this.targets;for(t=0;t<r.length;t++){n=r[t];try{(i=n.getElement())?this.doToElement(i):(e=n.getGroup())&&e.forEach(this.doToElement,this)}catch(e){console.warn(e)}}},i=!1,c.prototype.isTargeted=function(e){var t,n=!1;try{i=!0,null!==this.id&&this.id===e?n=!0:(t=this.getGroup())&&(n=t.indexOf(e)>=0)}finally{i=!1}return n},c.prototype.getElement=function(){var e,t=null;if(this.id){if(!(e=document.getElementById(this.id)))throw new ReferenceError("Could not find element "+this.id);t=e}return t},c.prototype.getGroup=function(){var e,t,n,r,o=null;if(null!==this.groupId){if(!(r=s.getGroup(this.groupId)))throw new ReferenceError("Could not find group "+this.groupId);if(i)o=r;else for(o=[],t=0,n=r.length;t<n;t++)(e=document.getElementById(r[t]))?o[o.length]=e:console.warn("Could not find element",r[t])}return o},function(){function t(e){var t=e.type;return"checkbox"===t||"radio"===t}function i(e,t,i){var r,o,s,c,u=this.targets;for(t(e),o=0;o<u.length;o++)if(r=u[o].getGroup())for(s=0;s<r.length;s++)e!==(c=r[s])&&i.call(this,c);n&&n.checkRepaint(e)}function r(t){e.hide(t),n&&n.checkRepaint(t)}function o(t){e.show(t),a(t)}function c(e){l(e)&&a(e)}function u(e){l(e,!0)&&a(e)}function l(t,n){var i=e.isDisabled(t);return n?e.enable(t):e.disable(t),e.isDisabled(t)!==i}function a(e){n&&n.checkRepaint(e)}s.register("hide",r),s.register("show",o),s.register("mandatory",function(t){e.mandatory(t)}),s.register("optional",function(t){e.optional(t)}),s.register("disable",c),s.register("enable",u),s.register("select",function(n){t(n)&&e.select(n)}),s.register("unselect",function(n){t(n)&&e.deselect(n)}),s.register("toggleselect",function(n){t(n)&&e[e.isSelected(n)?"deselect":"select"](n)}),s.register("showIn",function(e){i.call(this,e,o,r)}),s.register("hideIn",function(e){i.call(this,e,r,o)}),s.register("enableIn",function(e){i.call(this,e,u,c)}),s.register("disableIn",function(e){i.call(this,e,c,u)})}(),s});
define("wc/ui/subordinate",["wc/dom/tag","wc/dom/attribute","wc/date/interchange","wc/dom/getFilteredGroup","wc/dom/initialise","wc/ui/SubordinateAction","wc/array/unique","wc/dom/getAncestorOrSelf","wc/dom/shed","wc/timers","wc/array/toArray"],function(e,t,n,r,i,a,o,u,s,c,l){"use strict";var d;return d=new function(){var i,d,f,g,b={},m={},w={},h=!1,v=!1,E="wc/ui/subordinate.bootstrapped";function T(e){var t,n,r,i=null;if(e)for(i=[],t=0,n=e.length;t<n;t++)try{(r=new a(e[t]))?i[i.length]=r:console.warn("Could not parse",e[t])}catch(n){console.warn(n,e[t])}return i}function p(e,t){var n,r=m[e.id]||m[e.name];return r?n=r.map(function(e){return b[e]}):t&&(e=e.parentNode)&&(n=p(e,t)),n}function S(e){var t,n,r,i,a,o,u=p(e,!0);if(u)for(t=0,a=u.length;t<a;t++)if(i=(o=u[t]).test(O)?o.onTrue:o.onFalse)for(n=0,r=i.length;n<r;n++)try{i[n].execute()}catch(e){console.error(e+" executing subordinate action for rule "+o.id)}}function O(t,n,i){var a,o=!1,u=function(e){var t={negate:!1};switch(e){case"ne":t.negate=!0;case"eq":case"le":case"ge":t.equalityTest=!0;break;default:t.equalityTest=!e}return t}(i),c=function(t){var n=document.getElementsByName(t);return n=!n.length||n[0].tagName!==e.INPUT&&n[0].tagName!==e.SELECT&&n[0].tagName!==e.TEXTAREA&&n[0].tagName!==e.BUTTON?document.getElementById(t):n[0]}(t);return c&&!s.isDisabled(c)?((s.isSelectable(c)||c.tagName===e.FIELDSET)&&(a=function(e){var t,n,i=r,a={filter:i.FILTERS.selected+i.FILTERS.enabled,asObject:!0};return d&&d.isOneOfMe(e)||(g&&g.isOneOfMe(e)?(t=g.getValue(e),t=l(t)):t=(n=i(e,a))&&(n.filtered.length||n.unfiltered.length)?n.filtered:s.isSelectable(e)?s.isSelected(e)?[e]:n.filtered:null),t}(c)),a?(a.length>0&&(o=y(a,n,i)),o||u.equalityTest&&function(e,t,n,r){0===r.length?A(t):"true"!==t&&"false"!==t||s.isSelected(e)}(c,n,u.negate,a)):o=y(c,n,i)):c||console.warn("Could not find element ",t),o}function y(e,t,n){var r,i,a,o,u,s=!1,c=0,l=Array.isArray(e);do{i=x(a=l?e[c++]:e,(u=a,r=d&&d.isOneOfMe(u)?"date":f&&f.isOneOfMe(u)?"number":"string")),null!==(o=C(t,"rx"===n?n:r))&&null!==i&&(s=N(i,n,o))}while(l&&!s&&c<e.length);return s}function N(e,t,n){var r;switch(t){case"le":r=e===n;case"lt":A(e)||A(n)||(r|=e<n);break;case"ge":r=e===n;case"gt":A(e)||A(n)||(r|=e>n);break;case"rx":r=n.test(e);break;case"ne":r=e!==n;break;default:r=e===n}return r}function A(e){var t=!1;return e.constructor===String&&(t=!e.trim()),t}function C(e,t){return"rx"===t?function(e){var t=null;if(e&&(!(t=w[e])||!t.hasOwnProperty(e)))try{t=0===e.indexOf("(?i)")?new RegExp(e.substring(4),"i"):new RegExp(e),w[e]=t}catch(t){console.error("Error parsing regexp",e,t)}return t}(e):"date"===t?function(e){var t;return""===e||n.isComplete(e)?t=e:(console.warn("Date is not complete",e),t=null),t}(e):"number"===t?function(e){var t;return""!==e?(t=parseFloat(e),isNaN(t)&&(console.warn("Can not parse to a number",e),t=null)):t=e,t}(e):e}function x(e,t){var r;return"date"===t?(d&&d.isOneOfMe(e)&&(r=d.getValue(e)),""===r||n.isComplete(r)?r:null):"number"===t?(f&&(r=f.getValueAsNumber(e)),""!==r&&isNaN(r)&&(r=null),r):e.value||e.getAttribute("data-wc-value")||""}function F(e){var n;e.defaultPrevented||(n=e.target)&&I(n)&&(t.get(n,E)||(t.set(n,E,!0),i.add(n,"change",k)))}function L(e){c.setTimeout(S,0,e)}function I(e){return p(e,!1)&&!s.isSelectable(e)}function k(t){var n=t.target;!t.defaultPrevented&&n&&(n.tagName===e.OPTION&&(n=u(n,e.SELECT)),I(n)&&c.setTimeout(S,0,n))}this.initialise=function(e){h=!0,require(["wc/dom/event","wc/ui/dateField","wc/ui/numberField","wc/ui/multiSelectPair"],function(t,n,r,a){i=t,d=n,f=r,g=a,Object.keys(m).length&&(h=!1,v||(v=!0,i.canCapture?i.add(e,{type:"change",listener:k,capture:!0}):i.add(e,"focusin",F)),s.subscribe(s.actions.SELECT,L),s.subscribe(s.actions.DESELECT,L),s.subscribe(s.actions.ENABLE,L),s.subscribe(s.actions.DISABLE,L),console.log("Subordinate rules exist: added listeners"))})},this.registerGroups=function(e){e&&a.registerGroups(e)},this.register=function(e){var t,n,r,i,a=function(e){m[e]?m[e][m[e].length]=i:m[e]=[i]};if(e)for(t=0,n=e.length;t<n;t++)r=e[t],i=r.id,b[i]=r,r.onTrue=T(r.onTrue),r.onFalse=T(r.onFalse),r.controllers=o(r.controllers),r.controllers.forEach(a);h&&(h=!1,console.log("Rules registered: adding event listeners"),this.initialise(document.body))},this.toString=function(){return window.JSON.stringify(m)},this._isConditionTrue=O},i.register(d)});
define("wc/ui/table/action",["wc/dom/event","wc/dom/getFilteredGroup","wc/dom/initialise","wc/dom/shed","wc/ui/table/common","wc/dom/Widget","wc/debounce"],function(e,t,n,i,r,o,c){"use strict";return n.register(new function(){var n=new function(e){var t={},n={};this.update=c(function(){var t,i,r,o=Object.keys(n);for(t=0;t<o.length;t++)r=o[t],(i=document.getElementById(r))?(delete n[r],i.setAttribute("formnovalidate","formnovalidate"),e(i)):console.warn("Could not find button",r)},200),this.set=function(e){var i=e?e.trigger:null;i&&(t[i]=e.conditions,n[i]=!0,this.update())},this.get=function(e){return e?t[e.id]:null}}(v),a=new o("","wc-actions"),d=r.BUTTON.clone(),s=r.WRAPPER,u=r.TBODY,f=r.TR.clone();function l(e,n){var i,r,o,c=0,a=0,d=0;if(o=s.findAncestor(e)){if(i=n.min,r=n.max,!i&&!r)return!0;if(a=t(u.findDescendant(o)).length,n.otherSelected&&(c=n.otherSelected),d=a+c,i&&d<i||r&&d>r)return!1}return!0}function m(e){var t=n.get(e);return!t||Array.prototype.every.call(t,function(t){return"error"!==t.type||l(e,t)})}function v(e){var t=m(e)?"enable":"disable";i[t](e)}function w(e){var t,r,o;e.defaultPrevented||(t=d.findAncestor(e.target))&&!i.isDisabled(t)&&(!m(r=t)||(o=n.get(r))&&!Array.prototype.every.call(o,function(e){return"error"===e.type?l(r,e):!!l(r,e)||window.confirm(e.message)}))&&e.preventDefault()}function g(e){var t;e&&f.isOneOfMe(e)&&(t=s.findAncestor(e))&&Array.prototype.forEach.call(d.findDescendants(t),function(e){s.findAncestor(e)===t&&v(e)})}f.descendFrom(u,!0),d.descendFrom(a),this.postInit=function(){n.update(),i.subscribe(i.actions.SELECT,g),i.subscribe(i.actions.DESELECT,g)},this.initialise=function(t){e.add(t,"click",w,-50)},this.register=function(e){e.forEach(n.set,n)}})});
define("wc/ui/table/pagination",["wc/dom/attribute","wc/dom/event","wc/dom/focus","wc/dom/formUpdateManager","wc/dom/initialise","wc/dom/shed","wc/dom/Widget","wc/ui/ajaxRegion","wc/ui/ajax/processResponse","wc/timers","wc/ui/table/common","wc/i18n/i18n"],function(e,t,n,a,i,r,c,o,d,s,l,u){"use strict";return i.register(new function(){var i,f,p,b,g,w="wc.ui.table.pagination.bootstrapped",v={FIRST:0,PREV:1,NEXT:2,LAST:3},m=l.WRAPPER,A=new c("select"),y=A.extend("wc_table_pag_select"),_=A.extend("wc_table_pag_rpp"),h=l.TBODY,D=l.TR.extend("wc_table_pag_row"),E=new c("","wc_table_pag_cont"),I=l.TABLE,T=l.BUTTON.clone(),M="aria-busy",x="data-wc-pages",O="true",R=4,L=2*R+3;function F(e){return m.findAncestor(e)}function H(e){var t=F(e);return!!t&&"dynamic"===t.getAttribute("data-wc-pagemode")}function P(e,t){return e<=R?1:t-e<=R?Math.max(t-L+2,1):e-R}function S(e){var t;t=(i=i||new c("","wc_table_pag_rows")).findDescendants(e),Array.prototype.forEach.call(t,function(t){var n,a,i,r,c,o;if(F(t)===e){if(n=t.getAttribute("data-wc-tablerows"),a=t.getAttribute("data-wc-tablerpp"),i=t.getAttribute("data-wc-tablepage"),!n||!a)return;n=parseInt(n,10),c=(a=parseInt(a,10))*(i=parseInt(i,10))+1,(r=1===a?u.translate("table_pagination_label_one",c,n):c===(o=Math.min(n,a*i+a))?u.translate("table_pagination_label_one",o,n):u.translate("table_pagination_label_many",c,o,n))&&r.then(function(e){t.innerHTML=e})}})}function B(e,t){Array.prototype.forEach.call(m.findDescendants(t),S)}function V(e){var t=e||document.body,n=y.findDescendants(t);Array.prototype.forEach.call(n,function(e){var t,n,a,i,r,c,o="";if(!(e.options.length>1||1===(t=parseInt(e.getAttribute(x),10)))){for(t--,a=P(n=parseInt(e.value,10),t),o="<option value='0'"+((r=0===n)?" selected='selected'":"")+">1</option>",r&&(c=0),i=0;i<L-2&&!(i+1>=t);i++)o+="<option value='"+a+"'"+((r=n===a)?" selected='selected'":"")+">"+(a+1)+"</option>",r&&(c=i+1),a++;o+="<option value='"+t+"'"+((r=n===t)?" selected='selected'":"")+">"+(t+1)+"</option>",r&&(c=i+1),e.innerHTML=o,void 0!==c&&(e.selectedIndex=c),e.removeAttribute(M)}})}function j(e){var t,n=F(e),a=y.isOneOfMe(e)?y.findDescendants(n):_.findDescendants(n);if(a&&a.length>1)for(t=0;t<a.length;++t)if(a[t]!==e&&n===F(a[t]))return a[t];return null}function N(e){var t=E.findAncestor(e),n=T.findDescendants(t);return Array.prototype.indexOf.call(n,e)}function q(e){o.requestLoad(e,l.getAjaxDTO(e,!0))}function U(e,t){var n,a,i,o,d,s,l,u,b;if(H(e))g=t.id,q(e);else if((l=F(e))&&(u=I.findDescendant(l,!0))&&(n=h.findDescendant(u,!0))){for(d=(a=D.findDescendants(n,!0)).length,s=e.value,i=u.getAttribute("data-wc-rpp"),o=0;o<d&&r.isHidden(a[o]);o++);(function(e,t,n,a){for(var i,c,o=0;o<t&&(i=e[a+o],c=e[n+o],o++,i||c);)i&&r.hide(i),c&&r.show(c)})(a,i,b=s*i,o),function e(t,n){var a,i,c,o,d,s,l=parseInt(t.getAttribute(x),10)-1;if(!(l<L)){for(a=parseInt(t.value,10),i=t.options,t.setAttribute(M,O),s=P(a,l),c=1;c<i.length-1;++c)o=i[c],s===a&&(r.select(o,!0),t.selectedIndex=c),o.value=s++,o.innerHTML=s;!n&&(d=j(t))&&e(d,!0),t.removeAttribute(M)}}(e),function(e,t,n){f=f||new c("span","wc_table_pag_rowstart"),p=p||new c("span","wc_table_pag_rowend"),Array.prototype.forEach.call(f.findDescendants(e),function(n){F(n)===e&&(n.innerHTML="",n.innerHTML=t)}),Array.prototype.forEach.call(p.findDescendants(e),function(t){F(t)===e&&(t.innerHTML="",t.innerHTML=n)})}(l,b+1,Math.min(b+1*i,d)),function(e){var t,n,a=e.selectedIndex,i="disable",c="enable";(n=E.findAncestor(e))&&(t=T.findDescendants(n)),t&&Array.prototype.forEach.call(t,function(t){var n;t.setAttribute(M,O),n=N(t),0===a?n===v.FIRST||n===v.PREV?r[i](t,!0):r[c](t,!0):a===e.options.length-1?n===v.FIRST||n===v.PREV?r[c](t,!0):r[i](t,!0):r[c](t,!0),t.removeAttribute(M)})}(e)}}function W(e,t){b&&s.clearTimeout(b),b=s.setTimeout(U,250,e,t)}function X(e){var t,n=e.target;e.defaultPrevented||r.isDisabled(n)||(A.isOneOfMe(n)&&(t=j(n))&&(t.selectedIndex=n.selectedIndex),A.isOneOfMe(n)&&H(n)?q(n):y.isOneOfMe(n)&&W(n))}function k(n){var a,i=E.findAncestor(n.target);i&&!e.get(i,w)&&(e.set(i,w,!0),(a=A.findDescendants(i))&&a.length&&Array.prototype.forEach.call(a,function(e){t.add(e,"change",X,1)}))}function C(e){var t,n=e.target;e.defaultPrevented||(t=T.findAncestor(n,"",!0))&&(n=t[0])&&!r.isDisabled(n)&&n.getAttribute(M)!==O&&function(e,t){var n,a,i,c,o,d=y.findDescendant(t);d&&!r.isDisabled(d)&&d.getAttribute(M)!==O&&(n=d.options.length,i=d.selectedIndex,(c=(a=N(e))===v.LAST?n-1:a===v.PREV?i?i-1:i:a===v.NEXT?i<n-1?i+1:i:0)>=0&&c!==i&&(d.selectedIndex=c,(o=j(d))&&(o.selectedIndex=c),W(d,e)))}(n,t[1])}function Y(e,t,a){var i,c;if(e&&(m.isOneOfMe(e)&&V(e),Array.prototype.forEach.call(m.findDescendants(e),V)),a&&g&&(c=document.getElementById(a))&&y.isOneOfMe(c))try{(i=document.getElementById(g))&&(r.isDisabled(i)||document.activeElement&&document.activeElement!==c&&document.activeElement!==document.body||n.setFocusRequest(i))}finally{g=null}}function z(e,t){Array.prototype.forEach.call(E.findDescendants(e),function(e){var n,i,c;(n=F(e))&&(i=n.id,(c=y.findDescendant(e))&&!r.isDisabled(c)&&a.writeStateField(t,i+".page",c.value),(c=_.findDescendant(e))&&!r.isDisabled(c)&&a.writeStateField(t,i+".rows",c.value))})}A.descendFrom(E),T.descendFrom(E),this.initialise=function(e){t.canCapture?t.add(e,"change",X,1):t.add(e,"focusin",k),t.add(e,"click",C)},this.postInit=function(){V(),d.subscribe(B),d.subscribe(Y,!0),a.subscribe(z)},this.preInit=function(){B(0,document.body)}})});
define("wc/ui/table/rowExpansion",["wc/array/toArray","wc/dom/attribute","wc/dom/event","wc/dom/focus","wc/dom/formUpdateManager","wc/dom/initialise","wc/dom/shed","wc/dom/tag","wc/dom/Widget","wc/ui/ajaxRegion","wc/timers","wc/ui/ajax/processResponse","wc/ui/rowAnalog","wc/ui/table/common","wc/ajax/triggerManager","wc/ui/icon","wc/ui/radioAnalog"],function(e,t,n,i,r,a,c,o,s,d,u,f,l,p,b,w){"use strict";return a.register(new function(){var a=new s("","wc-rowexpansion"),A=p.WRAPPER,E=p.TD.extend("",{role:"button"}),g=p.TR.extend("",{"aria-expanded":null}),D=p.TABLE.extend("wc_tbl_expansion"),v=p.TBODY.clone(),x=new s("button","wc_rowexpansion"),m="aria-controls",y="wc.ui.table.rowExpansion.bootStrapped",h="data-wc-tablenoajax",T="data-wc-expmode",O="data-wc-value",P="expand",M="true",R="false",K="lazy",_="client";function F(e){var t=(a.isOneOfMe(e)?x.findDescendant(e):e).getAttribute(m);return t?t.split(/\s+/).map(function(e){return document.getElementById(e)}):null}function L(e){!function(e,t){var n=F(e);return!(!n||!n.length)&&n.every(function(e){return e&&c.isExpanded(e)===t})}(e,"expand"===e.getAttribute(O))?c.deselect(e,!0):c.select(e,!0)}function j(e){var t,n=(t=e,A.findAncestor(t));return n?n.getAttribute(T):null}function N(e){var t=j(e);return t===K||"dynamic"===t}function k(e){return p.getAjaxDTO(e,e.getAttribute(T)===K)}function C(t,n){Array.prototype.forEach.call(D.findDescendants(t),function(t){var i=t.parentElement.id;e(g.findDescendants(t)).filter(function(e){return c.isExpanded(e)}).forEach(function(e){var t=e.getAttribute("data-wc-rowindex");r.writeStateField(n,i+".expanded",t,!1,!0)})})}function I(e,t){var n;e&&((n=c.isExpanded(e)?R:M)!==M||c.isDisabled(e)?n===R&&c.collapse(e):(t&&N(e)&&e.setAttribute(h,M),c.expand(e)))}function S(t,n){var i,r,a,o=n===c.actions.EXPAND?"show":"hide",s=F(t);s&&(s.forEach(function(e){e&&c[o](e)}),(i=(r=t)&&r.id&&(a=x.extend("",{"aria-controls":r.id}).findDescendants(document.body))&&a.length?e(a):null)&&i.forEach(L))}function X(e,t){var n,i,r;e&&g.isOneOfMe(e)&&((n=E.findDescendant(e,!0))&&(i=t===c.actions.EXPAND?"fa-caret-down":"fa-caret-right",r=t===c.actions.EXPAND?"fa-caret-right":"fa-caret-down",w.change(n,i,r)),t===c.actions.EXPAND&&N(e)&&(e.getAttribute(h)===M?e.removeAttribute(h):e.getAttribute(T)!==_&&d.requestLoad(e,k(e)),j(e)===K&&e.setAttribute(T,_)),S(e,t))}function q(e){e&&g.isOneOfMe(e)&&c.isExpanded(e)&&I(e,!0)}function B(){G()}function V(e){var t,r;if(!(n.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)&&(t=E.findAncestor(e.target,o.TD)))switch(e.keyCode){case KeyEvent.DOM_VK_SPACE:case KeyEvent.DOM_VK_RETURN:u.setTimeout(n.fire,0,t,"click"),e.preventDefault();break;case KeyEvent.DOM_VK_LEFT:(r=l.ITEM.findAncestor(t,o.TR))&&!c.isDisabled(r)&&(l.setFocusIndex(r),i.setFocusRequest(r),e.preventDefault())}}function H(e){var i;e.defaultPrevented||!(i=E.findAncestor(e.target,o.TD))||t.get(i,y)||(t.set(i,y,!0),n.add(i,"keydown",V))}function U(e){var t,n;if(!e.defaultPrevented)if(t=E.findAncestor(e.target,o.TD)){if(c.isDisabled(t))return;if(n=g.findAncestor(t,o.TR)){if(c.isDisabled(n))return;I(n)&&!c.isExpanded(n)&&e.preventDefault()}}else(t=x.findAncestor(e.target))&&!c.isDisabled(t)&&b.removeTrigger(t.id)}function W(e){var t,n;e&&x.isOneOfMe(e)&&(t=function(e){var t,n;return!(!e||!(t=F(e))||!t.length||(n=e.getAttribute(O)===P,t=t.filter(function(e){return!!e&&(n?!(c.isExpanded(e)||c.isHidden(e)):c.isExpanded(e))}),n||t.reverse(),t.forEach(function(e){I(e,!0)}),0))}(e),n=a.findAncestor(e),Array.prototype.forEach.call(x.findDescendants(n),L),t&&e.getAttribute(O)===P&&N(e)&&d.requestLoad(e,k(e)))}function z(e){var t,n,i=[];(t=A.findAncestor(e))&&(Array.prototype.forEach.call(g.findDescendants(t),function(e){i.push(e.id)}),i.length&&(n=i.join(" "),Array.prototype.forEach.call(x.findDescendants(e),function(e){e.setAttribute(m,n)})))}function G(){Array.prototype.forEach.call(a.findDescendants(document.body),z)}D.descendFrom(A,!0),v.descendFrom(D,!0),g.descendFrom(v,!0),this.initialise=function(e){n.canCapture?n.add(e,{type:"focus",listener:H,capture:!0}):n.add(e,"focusin",H),n.add(e,"click",U)},this.postInit=function(){G(),f.subscribe(B,!0),c.subscribe(c.actions.EXPAND,X),c.subscribe(c.actions.COLLAPSE,X),c.subscribe(c.actions.HIDE,q),c.subscribe(c.actions.SELECT,W),r.subscribe(C)},this.isTreeGrid=function(e){return D.isOneOfMe(e)}})});
define("wc/ui/table/sort",["wc/dom/initialise","wc/dom/event","wc/dom/formUpdateManager","wc/dom/attribute","wc/dom/group","wc/ui/ajaxRegion","wc/dom/isEventInLabel","wc/dom/isAcceptableTarget","wc/dom/shed","wc/ui/table/common"],function(e,t,n,r,i,d,o,a,c,s){"use strict";return e.register(new function(){var e=s.WRAPPER,u=s.TABLE.extend("",{sortable:null}),f=s.THEAD.clone(),l=s.TH.extend("",{"aria-sort":null}),b="wc.ui.table.sort.BS",g="sorted",A="aria-sort",w=l.extend("",{sorted:null});function m(e,t){var n,r,u=e.target;t!==u&&(o(u)||!a(t,u))||c.isDisabled(t)||(!(n=t.getAttribute(g))||n.indexOf("reversed")>-1?(n||(r=i.getGroup(t,w,f))&&r.length&&r.forEach(function(e){e.removeAttribute(g),e.setAttribute(A,"none")}),t.setAttribute(g,"1"),t.setAttribute(A,"ascending")):(t.setAttribute(g,"1 reversed"),t.setAttribute(A,"descending")),d.requestLoad(t,s.getAjaxDTO(t,!0)))}function v(e){var t;!e.defaultPrevented&&(t=l.findAncestor(e.target))&&m(e,t)}function p(e){e.defaultPrevented||e.keyCode===KeyEvent.DOM_VK_RETURN&&m(e,e.target)}function x(e){var n=e.target;e.defaultPrevented||!l.isOneOfMe(n)||r.get(n,b)||(r.set(n,b,!0),t.add(n,"keydown",p))}function E(t,r){Array.prototype.forEach.call(u.findDescendants(t),function(t){var i,d,o=(d=t,e.findAncestor(d)).id;(i=w.findDescendant(t))&&t===u.findAncestor(i)&&(n.writeStateField(r,o+".sort",i.getAttribute("data-wc-columnidx")),i.getAttribute("sorted").indexOf("reversed")>-1&&n.writeStateField(r,o+".sortDesc","true"))})}f.descendFrom(u,!0),l.descendFrom(f),this.initialise=function(e){t.canCapture?t.add(e,{type:"focus",listener:x,capture:!0}):t.add(e,"focusin",x),t.add(e,"click",v)},this.postInit=function(){n.subscribe(E)}})});
define("wc/ui/textArea",["wc/dom/attribute","wc/dom/classList","wc/dom/event","wc/dom/initialise","wc/dom/shed","wc/dom/Widget","wc/i18n/i18n","lib/sprintf","wc/timers","wc/dom/wrappedInput"],function(t,e,n,i,r,u,a,c,s,d){"use strict";var o;function g(){var i,g=[],l="__maxlength_inited__",h=new u("textarea"),f=[h.extend("",{maxLength:null}),h.extend("",{"data-wc-maxlength":null}),h.extend("",{"data-wc-min":null})],p=250;function m(t){var n,i;(i=o.getCounter(t))&&(n=o.getMaxlength(t)-o.getLength(t),i.setAttribute("value",n),i.setAttribute("title",c.sprintf(a.get("chars_remaining",n))),n<0?e.add(i,"wc-err"):e.remove(i,"wc-err"))}function v(t){i&&(s.clearTimeout(i),i=null),i=s.setTimeout(m,p,t)}function w(t){var e=t.keyCode,n=t.target;(void 0===e||e<KeyEvent.DOM_VK_END||e>KeyEvent.DOM_VK_DOWN)&&v(n)}function x(t){var e,n;e=t.currentTarget,(n=o.getCounter(e))&&!r.isHidden(n,!0)&&r.hide(n,!0)}function _(e){var i,a=e.target;h.isOneOfMe(a)&&(i=n.canCapture,t.get(a,l)||(t.set(a,l,!0),u.isOneOfMe(a,f)&&i&&(g.push(n.add(a,{type:"input",listener:w,capture:!0})),g.push(n.add(a,{type:"blur",listener:x,capture:!0})),m(a))),i&&(v(a),function(t){var e;(e=o.getCounter(t))&&r.isHidden(e,!0)&&r.show(e,!0)}(a)))}this.getLength=function(t){var e,n,i=0,r=t.value;return r?(e=r.split("\n"),1===(n=e.length)?r.length:(e.forEach(function(t,e){var r=t.length;e<n-1?i+=r+2:t&&(i+=r)}),i)):0},this.initialise=function(t){n.canCapture?g.push(n.add(t,{type:"focus",listener:_,capture:!0})):g.push(n.add(t,"focusin",_))},this.deinit=function(){n.remove(g)},this.getWidget=function(t){return t?f:h},this.getCounter=function(t){var e=h.isOneOfMe(t)?d.getWrapper(t):t;return e?document.getElementById(e.id+"_tick"):null},this.getMaxlength=function(t){var e=t.getAttribute("maxLength")||t.getAttribute("data-wc-maxlength");return e&&(e=parseInt(e)),e||0}}return(o=new g).constructor=g,i.register(o)});
define("wc/ui/timeoutWarn",["lib/sprintf","wc/dom/event","wc/dom/Widget","wc/i18n/i18n","wc/loader/resource","wc/dom/shed","wc/timers","wc/dom/classList","wc/ui/icon","wc/config"],function(e,n,t,i,o,r,c,a,d,s){"use strict";return new function(){var u,m,w,f=s.get("wc/ui/timeoutWarn",{min:30}),l="wc_session_container",h=new t("div","",{id:l});function g(e){e&&!r.isHidden(e,!0)&&(n.remove(document.body,"keydown",_),n.remove(e,"click",p),r.hide(e))}function p(e){var n;(n=h.findAncestor(e.target))&&g(n)}function _(e){e.keyCode===KeyEvent.DOM_VK_ESCAPE&&g(b())}function v(e){n.add(document.body,"keydown",_),n.add(e,"click",p),r.show(e)}function y(){return o.load("wc.ui.timeoutWarn.handlebars",!0,!0)}function T(n){M(["messagetitle_warn","timeout_warn_header","timeout_warn_body"],function(t,i,o){y().then(function(r){var c,a,d,s=b(),m=u.getMinutes();s&&(s.innerHTML="",d=parseInt(n),c=0==(a=n-d)?n:d+Math.round(100*a)/100,o=e.sprintf(o,c,u.getHours()+":"+(m<10?"0"+m:m)),s.innerHTML=e.sprintf(r,t,i,o),v(s),console.info("warning shown at",new Date))})})}function b(){var e=document.getElementById(l);return e||((e=document.createElement(h.tagName)).id=l,document.body.appendChild(e)),e}function x(){M(["messagetitle_error","timeout_expired_header","timeout_expired_body"],function(n,t,i){y().then(function(o){var c,s=b();s&&(s.innerHTML="",s.innerHTML=e.sprintf(o,n,t,i),(c=s.firstChild)&&(a.remove(c,"wc-messagebox-type-warn"),a.add(c,"wc-messagebox-type-error"),d.change(c,"fa-times-circle","fa-exclamation-triangle")),r.isHidden(s,!0)&&v(s),console.info("expired shown at",new Date))})})}function M(e,n){return i.translate(e).then(function(e){n.apply(this,e)})}this.initTimer=function(e,n){var t,i=n?Math.max(1e3*n,2e4):2e4;e>=f.min?(t=1e3*e,m&&c.clearTimeout(m),w&&c.clearTimeout(w),(u=new Date).setTime(u.getTime()+t),u.setSeconds(0),t=u.getTime()-Date.now(),m=c.setTimeout(T,t-i,i/6e4),w=c.setTimeout(x,t),console.log("Session will expire at ",u)):console.warn("Timeout invalid or too short: ",e)}}});
require(["wc/fixes","wc/config","wc/i18n/i18n","wc/a8n","wc/profilepoint","wc/ui/backToTop","wc/ui/calendar","wc/ui/cancelButton","wc/ui/checkBox","wc/ui/checkBoxSelect","wc/ui/collapsible","wc/ui/collapsibleToggle","wc/ui/confirm","wc/ui/containerload","wc/ui/defaultSubmit","wc/ui/dialog","wc/ui/dropdown","wc/ui/field","wc/ui/fileUpload","wc/ui/label","wc/ui/listboxAnalog","wc/ui/menu/bar","wc/ui/menu/column","wc/ui/menu/tree","wc/ui/menu/treemenu","wc/ui/multiFileUploader","wc/ui/multiFormComponent","wc/ui/multiSelectPair","wc/ui/navigationButton","wc/ui/numberField","wc/ui/onloadFocusControl","wc/ui/radioButtonSelect","wc/ui/rowAnalog","wc/ui/selectboxSearch","wc/ui/selectToggle","wc/ui/subordinate","wc/ui/table/action","wc/ui/table/pagination","wc/ui/table/rowExpansion","wc/ui/table/sort","wc/ui/tabset","wc/ui/textArea","wc/ui/timeoutWarn","wc/ui/tooltip"],function(i,c){"use strict";var e;require(i),e={inherit:!0,css:{ff:"ff",phone:{media:"only screen and (max-width: 773px)"},uc:{test:"uc",media:"only screen and (max-width: 773px)"}}},c.set(e,"wc/loader/style")});
define("wc/common", function(){});

